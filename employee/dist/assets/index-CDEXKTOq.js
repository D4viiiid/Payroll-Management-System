function Af(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(a,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();function _f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var If={exports:{}},uo={},Lf={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fs=Symbol.for("react.element"),Yh=Symbol.for("react.portal"),qh=Symbol.for("react.fragment"),Jh=Symbol.for("react.strict_mode"),Kh=Symbol.for("react.profiler"),Qh=Symbol.for("react.provider"),Xh=Symbol.for("react.context"),Gh=Symbol.for("react.forward_ref"),Zh=Symbol.for("react.suspense"),ey=Symbol.for("react.memo"),ty=Symbol.for("react.lazy"),_d=Symbol.iterator;function ry(e){return e===null||typeof e!="object"?null:(e=_d&&e[_d]||e["@@iterator"],typeof e=="function"?e:null)}var Of={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mf=Object.assign,Ff={};function Pa(e,t,r){this.props=e,this.context=t,this.refs=Ff,this.updater=r||Of}Pa.prototype.isReactComponent={};Pa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zf(){}zf.prototype=Pa.prototype;function kc(e,t,r){this.props=e,this.context=t,this.refs=Ff,this.updater=r||Of}var Ec=kc.prototype=new zf;Ec.constructor=kc;Mf(Ec,Pa.prototype);Ec.isPureReactComponent=!0;var Id=Array.isArray,$f=Object.prototype.hasOwnProperty,Cc={current:null},Uf={key:!0,ref:!0,__self:!0,__source:!0};function Bf(e,t,r){var a,s={},l=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)$f.call(t,a)&&!Uf.hasOwnProperty(a)&&(s[a]=t[a]);var i=arguments.length-2;if(i===1)s.children=r;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in i=e.defaultProps,i)s[a]===void 0&&(s[a]=i[a]);return{$$typeof:Fs,type:e,key:l,ref:o,props:s,_owner:Cc.current}}function ny(e,t){return{$$typeof:Fs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fs}function ay(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ld=/\/+/g;function Uo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ay(""+e.key):t.toString(36)}function hl(e,t,r,a,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fs:case Yh:o=!0}}if(o)return o=e,s=s(o),e=a===""?"."+Uo(o,0):a,Id(s)?(r="",e!=null&&(r=e.replace(Ld,"$&/")+"/"),hl(s,t,r,"",function(d){return d})):s!=null&&(Dc(s)&&(s=ny(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ld,"$&/")+"/")+e)),t.push(s)),1;if(o=0,a=a===""?".":a+":",Id(e))for(var i=0;i<e.length;i++){l=e[i];var c=a+Uo(l,i);o+=hl(l,t,r,c,s)}else if(c=ry(e),typeof c=="function")for(e=c.call(e),i=0;!(l=e.next()).done;)l=l.value,c=a+Uo(l,i++),o+=hl(l,t,r,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Qs(e,t,r){if(e==null)return e;var a=[],s=0;return hl(e,a,"","",function(l){return t.call(r,l,s++)}),a}function sy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zt={current:null},yl={transition:null},ly={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:yl,ReactCurrentOwner:Cc};function Hf(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:Qs,forEach:function(e,t,r){Qs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qs(e,function(){t++}),t},toArray:function(e){return Qs(e,function(t){return t})||[]},only:function(e){if(!Dc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ae.Component=Pa;Ae.Fragment=qh;Ae.Profiler=Kh;Ae.PureComponent=kc;Ae.StrictMode=Jh;Ae.Suspense=Zh;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ly;Ae.act=Hf;Ae.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Mf({},e.props),s=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Cc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)$f.call(t,c)&&!Uf.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];a.children=i}return{$$typeof:Fs,type:e.type,key:s,ref:l,props:a,_owner:o}};Ae.createContext=function(e){return e={$$typeof:Xh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qh,_context:e},e.Consumer=e};Ae.createElement=Bf;Ae.createFactory=function(e){var t=Bf.bind(null,e);return t.type=e,t};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(e){return{$$typeof:Gh,render:e}};Ae.isValidElement=Dc;Ae.lazy=function(e){return{$$typeof:ty,_payload:{_status:-1,_result:e},_init:sy}};Ae.memo=function(e,t){return{$$typeof:ey,type:e,compare:t===void 0?null:t}};Ae.startTransition=function(e){var t=yl.transition;yl.transition={};try{e()}finally{yl.transition=t}};Ae.unstable_act=Hf;Ae.useCallback=function(e,t){return zt.current.useCallback(e,t)};Ae.useContext=function(e){return zt.current.useContext(e)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(e){return zt.current.useDeferredValue(e)};Ae.useEffect=function(e,t){return zt.current.useEffect(e,t)};Ae.useId=function(){return zt.current.useId()};Ae.useImperativeHandle=function(e,t,r){return zt.current.useImperativeHandle(e,t,r)};Ae.useInsertionEffect=function(e,t){return zt.current.useInsertionEffect(e,t)};Ae.useLayoutEffect=function(e,t){return zt.current.useLayoutEffect(e,t)};Ae.useMemo=function(e,t){return zt.current.useMemo(e,t)};Ae.useReducer=function(e,t,r){return zt.current.useReducer(e,t,r)};Ae.useRef=function(e){return zt.current.useRef(e)};Ae.useState=function(e){return zt.current.useState(e)};Ae.useSyncExternalStore=function(e,t,r){return zt.current.useSyncExternalStore(e,t,r)};Ae.useTransition=function(){return zt.current.useTransition()};Ae.version="18.3.1";Lf.exports=Ae;var x=Lf.exports;const Te=_f(x),oy=Af({__proto__:null,default:Te},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy=x,cy=Symbol.for("react.element"),dy=Symbol.for("react.fragment"),uy=Object.prototype.hasOwnProperty,fy=iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,my={key:!0,ref:!0,__self:!0,__source:!0};function Wf(e,t,r){var a,s={},l=null,o=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)uy.call(t,a)&&!my.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)s[a]===void 0&&(s[a]=t[a]);return{$$typeof:cy,type:e,key:l,ref:o,props:s,_owner:fy.current}}uo.Fragment=dy;uo.jsx=Wf;uo.jsxs=Wf;If.exports=uo;var n=If.exports,Vf={exports:{}},ar={},Yf={exports:{}},qf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,de){var he=W.length;W.push(de);e:for(;0<he;){var ke=he-1>>>1,fe=W[ke];if(0<s(fe,de))W[ke]=de,W[he]=fe,he=ke;else break e}}function r(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var de=W[0],he=W.pop();if(he!==de){W[0]=he;e:for(var ke=0,fe=W.length,Je=fe>>>1;ke<Je;){var K=2*(ke+1)-1,Z=W[K],se=K+1,ae=W[se];if(0>s(Z,he))se<fe&&0>s(ae,Z)?(W[ke]=ae,W[se]=he,ke=se):(W[ke]=Z,W[K]=he,ke=K);else if(se<fe&&0>s(ae,he))W[ke]=ae,W[se]=he,ke=se;else break e}}return de}function s(W,de){var he=W.sortIndex-de.sortIndex;return he!==0?he:W.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var c=[],d=[],u=1,m=null,y=3,w=!1,v=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(W){for(var de=r(d);de!==null;){if(de.callback===null)a(d);else if(de.startTime<=W)a(d),de.sortIndex=de.expirationTime,t(c,de);else break;de=r(d)}}function N(W){if(S=!1,p(W),!v)if(r(c)!==null)v=!0,Ee(k);else{var de=r(d);de!==null&&He(N,de.startTime-W)}}function k(W,de){v=!1,S&&(S=!1,h(R),R=-1),w=!0;var he=y;try{for(p(de),m=r(c);m!==null&&(!(m.expirationTime>de)||W&&!ee());){var ke=m.callback;if(typeof ke=="function"){m.callback=null,y=m.priorityLevel;var fe=ke(m.expirationTime<=de);de=e.unstable_now(),typeof fe=="function"?m.callback=fe:m===r(c)&&a(c),p(de)}else a(c);m=r(c)}if(m!==null)var Je=!0;else{var K=r(d);K!==null&&He(N,K.startTime-de),Je=!1}return Je}finally{m=null,y=he,w=!1}}var j=!1,g=null,R=-1,V=5,O=-1;function ee(){return!(e.unstable_now()-O<V)}function ue(){if(g!==null){var W=e.unstable_now();O=W;var de=!0;try{de=g(!0,W)}finally{de?ne():(j=!1,g=null)}}else j=!1}var ne;if(typeof f=="function")ne=function(){f(ue)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,ye=ge.port2;ge.port1.onmessage=ue,ne=function(){ye.postMessage(null)}}else ne=function(){b(ue,0)};function Ee(W){g=W,j||(j=!0,ne())}function He(W,de){R=b(function(){W(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){v||w||(v=!0,Ee(k))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(W){switch(y){case 1:case 2:case 3:var de=3;break;default:de=y}var he=y;y=de;try{return W()}finally{y=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,de){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=y;y=W;try{return de()}finally{y=he}},e.unstable_scheduleCallback=function(W,de,he){var ke=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ke+he:ke):he=ke,W){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=he+fe,W={id:u++,callback:de,priorityLevel:W,startTime:he,expirationTime:fe,sortIndex:-1},he>ke?(W.sortIndex=he,t(d,W),r(c)===null&&W===r(d)&&(S?(h(R),R=-1):S=!0,He(N,he-ke))):(W.sortIndex=fe,t(c,W),v||w||(v=!0,Ee(k))),W},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(W){var de=y;return function(){var he=y;y=de;try{return W.apply(this,arguments)}finally{y=he}}}})(qf);Yf.exports=qf;var py=Yf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy=x,nr=py;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jf=new Set,ps={};function Yn(e,t){ba(e,t),ba(e+"Capture",t)}function ba(e,t){for(ps[e]=t,e=0;e<t.length;e++)Jf.add(t[e])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wi=Object.prototype.hasOwnProperty,yy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Od={},Md={};function gy(e){return wi.call(Md,e)?!0:wi.call(Od,e)?!1:yy.test(e)?Md[e]=!0:(Od[e]=!0,!1)}function xy(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vy(e,t,r,a){if(t===null||typeof t>"u"||xy(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $t(e,t,r,a,s,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ct[e]=new $t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ct[t]=new $t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ct[e]=new $t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ct[e]=new $t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ct[e]=new $t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ct[e]=new $t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ct[e]=new $t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ct[e]=new $t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ct[e]=new $t(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pc=/[\-:]([a-z])/g;function Tc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pc,Tc);Ct[t]=new $t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pc,Tc);Ct[t]=new $t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pc,Tc);Ct[t]=new $t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ct[e]=new $t(e,1,!1,e.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ct[e]=new $t(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rc(e,t,r,a){var s=Ct.hasOwnProperty(t)?Ct[t]:null;(s!==null?s.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vy(t,r,s,a)&&(r=null),a||s===null?gy(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,a=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var qr=hy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xs=Symbol.for("react.element"),ra=Symbol.for("react.portal"),na=Symbol.for("react.fragment"),Ac=Symbol.for("react.strict_mode"),bi=Symbol.for("react.profiler"),Kf=Symbol.for("react.provider"),Qf=Symbol.for("react.context"),_c=Symbol.for("react.forward_ref"),Ni=Symbol.for("react.suspense"),ji=Symbol.for("react.suspense_list"),Ic=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),Xf=Symbol.for("react.offscreen"),Fd=Symbol.iterator;function Ua(e){return e===null||typeof e!="object"?null:(e=Fd&&e[Fd]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Object.assign,Bo;function es(e){if(Bo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bo=t&&t[1]||""}return`
`+Bo+e}var Ho=!1;function Wo(e,t){if(!e||Ho)return"";Ho=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),l=a.stack.split(`
`),o=s.length-1,i=l.length-1;1<=o&&0<=i&&s[o]!==l[i];)i--;for(;1<=o&&0<=i;o--,i--)if(s[o]!==l[i]){if(o!==1||i!==1)do if(o--,i--,0>i||s[o]!==l[i]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=i);break}}}finally{Ho=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?es(e):""}function wy(e){switch(e.tag){case 5:return es(e.type);case 16:return es("Lazy");case 13:return es("Suspense");case 19:return es("SuspenseList");case 0:case 2:case 15:return e=Wo(e.type,!1),e;case 11:return e=Wo(e.type.render,!1),e;case 1:return e=Wo(e.type,!0),e;default:return""}}function Si(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case na:return"Fragment";case ra:return"Portal";case bi:return"Profiler";case Ac:return"StrictMode";case Ni:return"Suspense";case ji:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qf:return(e.displayName||"Context")+".Consumer";case Kf:return(e._context.displayName||"Context")+".Provider";case _c:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ic:return t=e.displayName||null,t!==null?t:Si(e.type)||"Memo";case Xr:t=e._payload,e=e._init;try{return Si(e(t))}catch{}}return null}function by(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Si(t);case 8:return t===Ac?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ny(e){var t=Gf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){a=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gs(e){e._valueTracker||(e._valueTracker=Ny(e))}function Zf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=Gf(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function Il(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ki(e,t){var r=t.checked;return ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zd(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=yn(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function em(e,t){t=t.checked,t!=null&&Rc(e,"checked",t,!1)}function Ei(e,t){em(e,t);var r=yn(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ci(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ci(e,t.type,yn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $d(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ci(e,t,r){(t!=="number"||Il(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ts=Array.isArray;function pa(e,t,r,a){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&a&&(e[r].defaultSelected=!0)}else{for(r=""+yn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Di(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ud(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(ts(r)){if(1<r.length)throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:yn(r)}}function tm(e,t){var r=yn(t.value),a=yn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function Bd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zs,nm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zs=Zs||document.createElement("div"),Zs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jy=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(e){jy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ss[t]=ss[e]})});function am(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ss.hasOwnProperty(e)&&ss[e]?(""+t).trim():t+"px"}function sm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,s=am(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,s):e[r]=s}}var Sy=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ti(e,t){if(t){if(Sy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function Ri(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ai=null;function Lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,ha=null,ya=null;function Hd(e){if(e=Us(e)){if(typeof _i!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=yo(t),_i(e.stateNode,e.type,t))}}function lm(e){ha?ya?ya.push(e):ya=[e]:ha=e}function om(){if(ha){var e=ha,t=ya;if(ya=ha=null,Hd(e),t)for(e=0;e<t.length;e++)Hd(t[e])}}function im(e,t){return e(t)}function cm(){}var Vo=!1;function dm(e,t,r){if(Vo)return e(t,r);Vo=!0;try{return im(e,t,r)}finally{Vo=!1,(ha!==null||ya!==null)&&(cm(),om())}}function ys(e,t){var r=e.stateNode;if(r===null)return null;var a=yo(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var Ii=!1;if($r)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){Ii=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{Ii=!1}function ky(e,t,r,a,s,l,o,i,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var ls=!1,Ll=null,Ol=!1,Li=null,Ey={onError:function(e){ls=!0,Ll=e}};function Cy(e,t,r,a,s,l,o,i,c){ls=!1,Ll=null,ky.apply(Ey,arguments)}function Dy(e,t,r,a,s,l,o,i,c){if(Cy.apply(this,arguments),ls){if(ls){var d=Ll;ls=!1,Ll=null}else throw Error(Q(198));Ol||(Ol=!0,Li=d)}}function qn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function um(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wd(e){if(qn(e)!==e)throw Error(Q(188))}function Py(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,a=t;;){var s=r.return;if(s===null)break;var l=s.alternate;if(l===null){if(a=s.return,a!==null){r=a;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===r)return Wd(s),e;if(l===a)return Wd(s),t;l=l.sibling}throw Error(Q(188))}if(r.return!==a.return)r=s,a=l;else{for(var o=!1,i=s.child;i;){if(i===r){o=!0,r=s,a=l;break}if(i===a){o=!0,a=s,r=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===r){o=!0,r=l,a=s;break}if(i===a){o=!0,a=l,r=s;break}i=i.sibling}if(!o)throw Error(Q(189))}}if(r.alternate!==a)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function fm(e){return e=Py(e),e!==null?mm(e):null}function mm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mm(e);if(t!==null)return t;e=e.sibling}return null}var pm=nr.unstable_scheduleCallback,Vd=nr.unstable_cancelCallback,Ty=nr.unstable_shouldYield,Ry=nr.unstable_requestPaint,pt=nr.unstable_now,Ay=nr.unstable_getCurrentPriorityLevel,Oc=nr.unstable_ImmediatePriority,hm=nr.unstable_UserBlockingPriority,Ml=nr.unstable_NormalPriority,_y=nr.unstable_LowPriority,ym=nr.unstable_IdlePriority,fo=null,Pr=null;function Iy(e){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(fo,e,void 0,(e.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:My,Ly=Math.log,Oy=Math.LN2;function My(e){return e>>>=0,e===0?32:31-(Ly(e)/Oy|0)|0}var el=64,tl=4194304;function rs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fl(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,s=e.suspendedLanes,l=e.pingedLanes,o=r&268435455;if(o!==0){var i=o&~s;i!==0?a=rs(i):(l&=o,l!==0&&(a=rs(l)))}else o=r&~s,o!==0?a=rs(o):l!==0&&(a=rs(l));if(a===0)return 0;if(t!==0&&t!==a&&!(t&s)&&(s=a&-a,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-xr(t),s=1<<r,a|=e[r],t&=~s;return a}function Fy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zy(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-xr(l),i=1<<o,c=s[o];c===-1?(!(i&r)||i&a)&&(s[o]=Fy(i,t)):c<=t&&(e.expiredLanes|=i),l&=~i}}function Oi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gm(){var e=el;return el<<=1,!(el&4194240)&&(el=64),e}function Yo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xr(t),e[t]=r}function $y(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-xr(r),l=1<<s;t[s]=0,a[s]=-1,e[s]=-1,r&=~l}}function Mc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-xr(r),s=1<<a;s&t|e[a]&t&&(e[a]|=t),r&=~s}}var Ye=0;function xm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vm,Fc,wm,bm,Nm,Mi=!1,rl=[],sn=null,ln=null,on=null,gs=new Map,xs=new Map,en=[],Uy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yd(e,t){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(t.pointerId)}}function Ha(e,t,r,a,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Us(t),t!==null&&Fc(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function By(e,t,r,a,s){switch(t){case"focusin":return sn=Ha(sn,e,t,r,a,s),!0;case"dragenter":return ln=Ha(ln,e,t,r,a,s),!0;case"mouseover":return on=Ha(on,e,t,r,a,s),!0;case"pointerover":var l=s.pointerId;return gs.set(l,Ha(gs.get(l)||null,e,t,r,a,s)),!0;case"gotpointercapture":return l=s.pointerId,xs.set(l,Ha(xs.get(l)||null,e,t,r,a,s)),!0}return!1}function jm(e){var t=Pn(e.target);if(t!==null){var r=qn(t);if(r!==null){if(t=r.tag,t===13){if(t=um(r),t!==null){e.blockedOn=t,Nm(e.priority,function(){wm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Fi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);Ai=a,r.target.dispatchEvent(a),Ai=null}else return t=Us(r),t!==null&&Fc(t),e.blockedOn=r,!1;t.shift()}return!0}function qd(e,t,r){gl(e)&&r.delete(t)}function Hy(){Mi=!1,sn!==null&&gl(sn)&&(sn=null),ln!==null&&gl(ln)&&(ln=null),on!==null&&gl(on)&&(on=null),gs.forEach(qd),xs.forEach(qd)}function Wa(e,t){e.blockedOn===t&&(e.blockedOn=null,Mi||(Mi=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,Hy)))}function vs(e){function t(s){return Wa(s,e)}if(0<rl.length){Wa(rl[0],e);for(var r=1;r<rl.length;r++){var a=rl[r];a.blockedOn===e&&(a.blockedOn=null)}}for(sn!==null&&Wa(sn,e),ln!==null&&Wa(ln,e),on!==null&&Wa(on,e),gs.forEach(t),xs.forEach(t),r=0;r<en.length;r++)a=en[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<en.length&&(r=en[0],r.blockedOn===null);)jm(r),r.blockedOn===null&&en.shift()}var ga=qr.ReactCurrentBatchConfig,zl=!0;function Wy(e,t,r,a){var s=Ye,l=ga.transition;ga.transition=null;try{Ye=1,zc(e,t,r,a)}finally{Ye=s,ga.transition=l}}function Vy(e,t,r,a){var s=Ye,l=ga.transition;ga.transition=null;try{Ye=4,zc(e,t,r,a)}finally{Ye=s,ga.transition=l}}function zc(e,t,r,a){if(zl){var s=Fi(e,t,r,a);if(s===null)ri(e,t,a,$l,r),Yd(e,a);else if(By(s,e,t,r,a))a.stopPropagation();else if(Yd(e,a),t&4&&-1<Uy.indexOf(e)){for(;s!==null;){var l=Us(s);if(l!==null&&vm(l),l=Fi(e,t,r,a),l===null&&ri(e,t,a,$l,r),l===s)break;s=l}s!==null&&a.stopPropagation()}else ri(e,t,a,null,r)}}var $l=null;function Fi(e,t,r,a){if($l=null,e=Lc(a),e=Pn(e),e!==null)if(t=qn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=um(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $l=e,null}function Sm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ay()){case Oc:return 1;case hm:return 4;case Ml:case _y:return 16;case ym:return 536870912;default:return 16}default:return 16}}var rn=null,$c=null,xl=null;function km(){if(xl)return xl;var e,t=$c,r=t.length,a,s="value"in rn?rn.value:rn.textContent,l=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(a=1;a<=o&&t[r-a]===s[l-a];a++);return xl=s.slice(e,1<a?1-a:void 0)}function vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nl(){return!0}function Jd(){return!1}function sr(e){function t(r,a,s,l,o){this._reactName=r,this._targetInst=s,this.type=a,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?nl:Jd,this.isPropagationStopped=Jd,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),t}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=sr(Ta),$s=ot({},Ta,{view:0,detail:0}),Yy=sr($s),qo,Jo,Va,mo=ot({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Va&&(Va&&e.type==="mousemove"?(qo=e.screenX-Va.screenX,Jo=e.screenY-Va.screenY):Jo=qo=0,Va=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:Jo}}),Kd=sr(mo),qy=ot({},mo,{dataTransfer:0}),Jy=sr(qy),Ky=ot({},$s,{relatedTarget:0}),Ko=sr(Ky),Qy=ot({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),Xy=sr(Qy),Gy=ot({},Ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zy=sr(Gy),eg=ot({},Ta,{data:0}),Qd=sr(eg),tg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ag(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ng[e])?!!t[e]:!1}function Bc(){return ag}var sg=ot({},$s,{key:function(e){if(e.key){var t=tg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lg=sr(sg),og=ot({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=sr(og),ig=ot({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),cg=sr(ig),dg=ot({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),ug=sr(dg),fg=ot({},mo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mg=sr(fg),pg=[9,13,27,32],Hc=$r&&"CompositionEvent"in window,os=null;$r&&"documentMode"in document&&(os=document.documentMode);var hg=$r&&"TextEvent"in window&&!os,Em=$r&&(!Hc||os&&8<os&&11>=os),Gd=" ",Zd=!1;function Cm(e,t){switch(e){case"keyup":return pg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var aa=!1;function yg(e,t){switch(e){case"compositionend":return Dm(t);case"keypress":return t.which!==32?null:(Zd=!0,Gd);case"textInput":return e=t.data,e===Gd&&Zd?null:e;default:return null}}function gg(e,t){if(aa)return e==="compositionend"||!Hc&&Cm(e,t)?(e=km(),xl=$c=rn=null,aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Em&&t.locale!=="ko"?null:t.data;default:return null}}var xg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xg[e.type]:t==="textarea"}function Pm(e,t,r,a){lm(a),t=Ul(t,"onChange"),0<t.length&&(r=new Uc("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var is=null,ws=null;function vg(e){$m(e,0)}function po(e){var t=oa(e);if(Zf(t))return e}function wg(e,t){if(e==="change")return t}var Tm=!1;if($r){var Qo;if($r){var Xo="oninput"in document;if(!Xo){var tu=document.createElement("div");tu.setAttribute("oninput","return;"),Xo=typeof tu.oninput=="function"}Qo=Xo}else Qo=!1;Tm=Qo&&(!document.documentMode||9<document.documentMode)}function ru(){is&&(is.detachEvent("onpropertychange",Rm),ws=is=null)}function Rm(e){if(e.propertyName==="value"&&po(ws)){var t=[];Pm(t,ws,e,Lc(e)),dm(vg,t)}}function bg(e,t,r){e==="focusin"?(ru(),is=t,ws=r,is.attachEvent("onpropertychange",Rm)):e==="focusout"&&ru()}function Ng(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return po(ws)}function jg(e,t){if(e==="click")return po(t)}function Sg(e,t){if(e==="input"||e==="change")return po(t)}function kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wr=typeof Object.is=="function"?Object.is:kg;function bs(e,t){if(wr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var s=r[a];if(!wi.call(t,s)||!wr(e[s],t[s]))return!1}return!0}function nu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function au(e,t){var r=nu(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nu(r)}}function Am(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Am(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _m(){for(var e=window,t=Il();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Il(e.document)}return t}function Wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Eg(e){var t=_m(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Am(r.ownerDocument.documentElement,r)){if(a!==null&&Wc(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,l=Math.min(a.start,s);a=a.end===void 0?l:Math.min(a.end,s),!e.extend&&l>a&&(s=a,a=l,l=s),s=au(r,l);var o=au(r,a);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cg=$r&&"documentMode"in document&&11>=document.documentMode,sa=null,zi=null,cs=null,$i=!1;function su(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$i||sa==null||sa!==Il(a)||(a=sa,"selectionStart"in a&&Wc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),cs&&bs(cs,a)||(cs=a,a=Ul(zi,"onSelect"),0<a.length&&(t=new Uc("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=sa)))}function al(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var la={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionend:al("Transition","TransitionEnd")},Go={},Im={};$r&&(Im=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function ho(e){if(Go[e])return Go[e];if(!la[e])return e;var t=la[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Im)return Go[e]=t[r];return e}var Lm=ho("animationend"),Om=ho("animationiteration"),Mm=ho("animationstart"),Fm=ho("transitionend"),zm=new Map,lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){zm.set(e,t),Yn(t,[e])}for(var Zo=0;Zo<lu.length;Zo++){var ei=lu[Zo],Dg=ei.toLowerCase(),Pg=ei[0].toUpperCase()+ei.slice(1);xn(Dg,"on"+Pg)}xn(Lm,"onAnimationEnd");xn(Om,"onAnimationIteration");xn(Mm,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(Fm,"onTransitionEnd");ba("onMouseEnter",["mouseout","mouseover"]);ba("onMouseLeave",["mouseout","mouseover"]);ba("onPointerEnter",["pointerout","pointerover"]);ba("onPointerLeave",["pointerout","pointerover"]);Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function ou(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,Dy(a,t,void 0,e),e.currentTarget=null}function $m(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],s=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var o=a.length-1;0<=o;o--){var i=a[o],c=i.instance,d=i.currentTarget;if(i=i.listener,c!==l&&s.isPropagationStopped())break e;ou(s,i,d),l=c}else for(o=0;o<a.length;o++){if(i=a[o],c=i.instance,d=i.currentTarget,i=i.listener,c!==l&&s.isPropagationStopped())break e;ou(s,i,d),l=c}}}if(Ol)throw e=Li,Ol=!1,Li=null,e}function Ge(e,t){var r=t[Vi];r===void 0&&(r=t[Vi]=new Set);var a=e+"__bubble";r.has(a)||(Um(t,e,2,!1),r.add(a))}function ti(e,t,r){var a=0;t&&(a|=4),Um(r,e,a,t)}var sl="_reactListening"+Math.random().toString(36).slice(2);function Ns(e){if(!e[sl]){e[sl]=!0,Jf.forEach(function(r){r!=="selectionchange"&&(Tg.has(r)||ti(r,!1,e),ti(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sl]||(t[sl]=!0,ti("selectionchange",!1,t))}}function Um(e,t,r,a){switch(Sm(t)){case 1:var s=Wy;break;case 4:s=Vy;break;default:s=zc}r=s.bind(null,t,r,e),s=void 0,!Ii||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ri(e,t,r,a,s){var l=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var i=a.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;i!==null;){if(o=Pn(i),o===null)return;if(c=o.tag,c===5||c===6){a=l=o;continue e}i=i.parentNode}}a=a.return}dm(function(){var d=l,u=Lc(r),m=[];e:{var y=zm.get(e);if(y!==void 0){var w=Uc,v=e;switch(e){case"keypress":if(vl(r)===0)break e;case"keydown":case"keyup":w=lg;break;case"focusin":v="focus",w=Ko;break;case"focusout":v="blur",w=Ko;break;case"beforeblur":case"afterblur":w=Ko;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Jy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=cg;break;case Lm:case Om:case Mm:w=Xy;break;case Fm:w=ug;break;case"scroll":w=Yy;break;case"wheel":w=mg;break;case"copy":case"cut":case"paste":w=Zy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Xd}var S=(t&4)!==0,b=!S&&e==="scroll",h=S?y!==null?y+"Capture":null:y;S=[];for(var f=d,p;f!==null;){p=f;var N=p.stateNode;if(p.tag===5&&N!==null&&(p=N,h!==null&&(N=ys(f,h),N!=null&&S.push(js(f,N,p)))),b)break;f=f.return}0<S.length&&(y=new w(y,v,null,r,u),m.push({event:y,listeners:S}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",y&&r!==Ai&&(v=r.relatedTarget||r.fromElement)&&(Pn(v)||v[Ur]))break e;if((w||y)&&(y=u.window===u?u:(y=u.ownerDocument)?y.defaultView||y.parentWindow:window,w?(v=r.relatedTarget||r.toElement,w=d,v=v?Pn(v):null,v!==null&&(b=qn(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=d),w!==v)){if(S=Kd,N="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(S=Xd,N="onPointerLeave",h="onPointerEnter",f="pointer"),b=w==null?y:oa(w),p=v==null?y:oa(v),y=new S(N,f+"leave",w,r,u),y.target=b,y.relatedTarget=p,N=null,Pn(u)===d&&(S=new S(h,f+"enter",v,r,u),S.target=p,S.relatedTarget=b,N=S),b=N,w&&v)t:{for(S=w,h=v,f=0,p=S;p;p=Zn(p))f++;for(p=0,N=h;N;N=Zn(N))p++;for(;0<f-p;)S=Zn(S),f--;for(;0<p-f;)h=Zn(h),p--;for(;f--;){if(S===h||h!==null&&S===h.alternate)break t;S=Zn(S),h=Zn(h)}S=null}else S=null;w!==null&&iu(m,y,w,S,!1),v!==null&&b!==null&&iu(m,b,v,S,!0)}}e:{if(y=d?oa(d):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var k=wg;else if(eu(y))if(Tm)k=Sg;else{k=Ng;var j=bg}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(k=jg);if(k&&(k=k(e,d))){Pm(m,k,r,u);break e}j&&j(e,y,d),e==="focusout"&&(j=y._wrapperState)&&j.controlled&&y.type==="number"&&Ci(y,"number",y.value)}switch(j=d?oa(d):window,e){case"focusin":(eu(j)||j.contentEditable==="true")&&(sa=j,zi=d,cs=null);break;case"focusout":cs=zi=sa=null;break;case"mousedown":$i=!0;break;case"contextmenu":case"mouseup":case"dragend":$i=!1,su(m,r,u);break;case"selectionchange":if(Cg)break;case"keydown":case"keyup":su(m,r,u)}var g;if(Hc)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else aa?Cm(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Em&&r.locale!=="ko"&&(aa||R!=="onCompositionStart"?R==="onCompositionEnd"&&aa&&(g=km()):(rn=u,$c="value"in rn?rn.value:rn.textContent,aa=!0)),j=Ul(d,R),0<j.length&&(R=new Qd(R,e,null,r,u),m.push({event:R,listeners:j}),g?R.data=g:(g=Dm(r),g!==null&&(R.data=g)))),(g=hg?yg(e,r):gg(e,r))&&(d=Ul(d,"onBeforeInput"),0<d.length&&(u=new Qd("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=g))}$m(m,t)})}function js(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ul(e,t){for(var r=t+"Capture",a=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=ys(e,r),l!=null&&a.unshift(js(e,l,s)),l=ys(e,t),l!=null&&a.push(js(e,l,s))),e=e.return}return a}function Zn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function iu(e,t,r,a,s){for(var l=t._reactName,o=[];r!==null&&r!==a;){var i=r,c=i.alternate,d=i.stateNode;if(c!==null&&c===a)break;i.tag===5&&d!==null&&(i=d,s?(c=ys(r,l),c!=null&&o.unshift(js(r,c,i))):s||(c=ys(r,l),c!=null&&o.push(js(r,c,i)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Rg=/\r\n?/g,Ag=/\u0000|\uFFFD/g;function cu(e){return(typeof e=="string"?e:""+e).replace(Rg,`
`).replace(Ag,"")}function ll(e,t,r){if(t=cu(t),cu(e)!==t&&r)throw Error(Q(425))}function Bl(){}var Ui=null,Bi=null;function Hi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wi=typeof setTimeout=="function"?setTimeout:void 0,_g=typeof clearTimeout=="function"?clearTimeout:void 0,du=typeof Promise=="function"?Promise:void 0,Ig=typeof queueMicrotask=="function"?queueMicrotask:typeof du<"u"?function(e){return du.resolve(null).then(e).catch(Lg)}:Wi;function Lg(e){setTimeout(function(){throw e})}function ni(e,t){var r=t,a=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(a===0){e.removeChild(s),vs(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=s}while(r);vs(t)}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ra=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Ra,Ss="__reactProps$"+Ra,Ur="__reactContainer$"+Ra,Vi="__reactEvents$"+Ra,Og="__reactListeners$"+Ra,Mg="__reactHandles$"+Ra;function Pn(e){var t=e[Cr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ur]||r[Cr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=uu(e);e!==null;){if(r=e[Cr])return r;e=uu(e)}return t}e=r,r=e.parentNode}return null}function Us(e){return e=e[Cr]||e[Ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function yo(e){return e[Ss]||null}var Yi=[],ia=-1;function vn(e){return{current:e}}function Ze(e){0>ia||(e.current=Yi[ia],Yi[ia]=null,ia--)}function Xe(e,t){ia++,Yi[ia]=e.current,e.current=t}var gn={},At=vn(gn),Yt=vn(!1),Fn=gn;function Na(e,t){var r=e.type.contextTypes;if(!r)return gn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in r)s[l]=t[l];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qt(e){return e=e.childContextTypes,e!=null}function Hl(){Ze(Yt),Ze(At)}function fu(e,t,r){if(At.current!==gn)throw Error(Q(168));Xe(At,t),Xe(Yt,r)}function Bm(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var s in a)if(!(s in t))throw Error(Q(108,by(e)||"Unknown",s));return ot({},r,a)}function Wl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gn,Fn=At.current,Xe(At,e),Xe(Yt,Yt.current),!0}function mu(e,t,r){var a=e.stateNode;if(!a)throw Error(Q(169));r?(e=Bm(e,t,Fn),a.__reactInternalMemoizedMergedChildContext=e,Ze(Yt),Ze(At),Xe(At,e)):Ze(Yt),Xe(Yt,r)}var Ir=null,go=!1,ai=!1;function Hm(e){Ir===null?Ir=[e]:Ir.push(e)}function Fg(e){go=!0,Hm(e)}function wn(){if(!ai&&Ir!==null){ai=!0;var e=0,t=Ye;try{var r=Ir;for(Ye=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}Ir=null,go=!1}catch(s){throw Ir!==null&&(Ir=Ir.slice(e+1)),pm(Oc,wn),s}finally{Ye=t,ai=!1}}return null}var ca=[],da=0,Vl=null,Yl=0,or=[],ir=0,zn=null,Or=1,Mr="";function kn(e,t){ca[da++]=Yl,ca[da++]=Vl,Vl=e,Yl=t}function Wm(e,t,r){or[ir++]=Or,or[ir++]=Mr,or[ir++]=zn,zn=e;var a=Or;e=Mr;var s=32-xr(a)-1;a&=~(1<<s),r+=1;var l=32-xr(t)+s;if(30<l){var o=s-s%5;l=(a&(1<<o)-1).toString(32),a>>=o,s-=o,Or=1<<32-xr(t)+s|r<<s|a,Mr=l+e}else Or=1<<l|r<<s|a,Mr=e}function Vc(e){e.return!==null&&(kn(e,1),Wm(e,1,0))}function Yc(e){for(;e===Vl;)Vl=ca[--da],ca[da]=null,Yl=ca[--da],ca[da]=null;for(;e===zn;)zn=or[--ir],or[ir]=null,Mr=or[--ir],or[ir]=null,Or=or[--ir],or[ir]=null}var rr=null,tr=null,nt=!1,gr=null;function Vm(e,t){var r=cr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function pu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rr=e,tr=cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rr=e,tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zn!==null?{id:Or,overflow:Mr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,rr=e,tr=null,!0):!1;default:return!1}}function qi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ji(e){if(nt){var t=tr;if(t){var r=t;if(!pu(e,t)){if(qi(e))throw Error(Q(418));t=cn(r.nextSibling);var a=rr;t&&pu(e,t)?Vm(a,r):(e.flags=e.flags&-4097|2,nt=!1,rr=e)}}else{if(qi(e))throw Error(Q(418));e.flags=e.flags&-4097|2,nt=!1,rr=e}}}function hu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rr=e}function ol(e){if(e!==rr)return!1;if(!nt)return hu(e),nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hi(e.type,e.memoizedProps)),t&&(t=tr)){if(qi(e))throw Ym(),Error(Q(418));for(;t;)Vm(e,t),t=cn(t.nextSibling)}if(hu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){tr=cn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}tr=null}}else tr=rr?cn(e.stateNode.nextSibling):null;return!0}function Ym(){for(var e=tr;e;)e=cn(e.nextSibling)}function ja(){tr=rr=null,nt=!1}function qc(e){gr===null?gr=[e]:gr.push(e)}var zg=qr.ReactCurrentBatchConfig;function Ya(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var a=r.stateNode}if(!a)throw Error(Q(147,e));var s=a,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var i=s.refs;o===null?delete i[l]:i[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function il(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yu(e){var t=e._init;return t(e._payload)}function qm(e){function t(h,f){if(e){var p=h.deletions;p===null?(h.deletions=[f],h.flags|=16):p.push(f)}}function r(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function a(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function s(h,f){return h=mn(h,f),h.index=0,h.sibling=null,h}function l(h,f,p){return h.index=p,e?(p=h.alternate,p!==null?(p=p.index,p<f?(h.flags|=2,f):p):(h.flags|=2,f)):(h.flags|=1048576,f)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function i(h,f,p,N){return f===null||f.tag!==6?(f=ui(p,h.mode,N),f.return=h,f):(f=s(f,p),f.return=h,f)}function c(h,f,p,N){var k=p.type;return k===na?u(h,f,p.props.children,N,p.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xr&&yu(k)===f.type)?(N=s(f,p.props),N.ref=Ya(h,f,p),N.return=h,N):(N=El(p.type,p.key,p.props,null,h.mode,N),N.ref=Ya(h,f,p),N.return=h,N)}function d(h,f,p,N){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=fi(p,h.mode,N),f.return=h,f):(f=s(f,p.children||[]),f.return=h,f)}function u(h,f,p,N,k){return f===null||f.tag!==7?(f=Ln(p,h.mode,N,k),f.return=h,f):(f=s(f,p),f.return=h,f)}function m(h,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ui(""+f,h.mode,p),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Xs:return p=El(f.type,f.key,f.props,null,h.mode,p),p.ref=Ya(h,null,f),p.return=h,p;case ra:return f=fi(f,h.mode,p),f.return=h,f;case Xr:var N=f._init;return m(h,N(f._payload),p)}if(ts(f)||Ua(f))return f=Ln(f,h.mode,p,null),f.return=h,f;il(h,f)}return null}function y(h,f,p,N){var k=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return k!==null?null:i(h,f,""+p,N);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Xs:return p.key===k?c(h,f,p,N):null;case ra:return p.key===k?d(h,f,p,N):null;case Xr:return k=p._init,y(h,f,k(p._payload),N)}if(ts(p)||Ua(p))return k!==null?null:u(h,f,p,N,null);il(h,p)}return null}function w(h,f,p,N,k){if(typeof N=="string"&&N!==""||typeof N=="number")return h=h.get(p)||null,i(f,h,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Xs:return h=h.get(N.key===null?p:N.key)||null,c(f,h,N,k);case ra:return h=h.get(N.key===null?p:N.key)||null,d(f,h,N,k);case Xr:var j=N._init;return w(h,f,p,j(N._payload),k)}if(ts(N)||Ua(N))return h=h.get(p)||null,u(f,h,N,k,null);il(f,N)}return null}function v(h,f,p,N){for(var k=null,j=null,g=f,R=f=0,V=null;g!==null&&R<p.length;R++){g.index>R?(V=g,g=null):V=g.sibling;var O=y(h,g,p[R],N);if(O===null){g===null&&(g=V);break}e&&g&&O.alternate===null&&t(h,g),f=l(O,f,R),j===null?k=O:j.sibling=O,j=O,g=V}if(R===p.length)return r(h,g),nt&&kn(h,R),k;if(g===null){for(;R<p.length;R++)g=m(h,p[R],N),g!==null&&(f=l(g,f,R),j===null?k=g:j.sibling=g,j=g);return nt&&kn(h,R),k}for(g=a(h,g);R<p.length;R++)V=w(g,h,R,p[R],N),V!==null&&(e&&V.alternate!==null&&g.delete(V.key===null?R:V.key),f=l(V,f,R),j===null?k=V:j.sibling=V,j=V);return e&&g.forEach(function(ee){return t(h,ee)}),nt&&kn(h,R),k}function S(h,f,p,N){var k=Ua(p);if(typeof k!="function")throw Error(Q(150));if(p=k.call(p),p==null)throw Error(Q(151));for(var j=k=null,g=f,R=f=0,V=null,O=p.next();g!==null&&!O.done;R++,O=p.next()){g.index>R?(V=g,g=null):V=g.sibling;var ee=y(h,g,O.value,N);if(ee===null){g===null&&(g=V);break}e&&g&&ee.alternate===null&&t(h,g),f=l(ee,f,R),j===null?k=ee:j.sibling=ee,j=ee,g=V}if(O.done)return r(h,g),nt&&kn(h,R),k;if(g===null){for(;!O.done;R++,O=p.next())O=m(h,O.value,N),O!==null&&(f=l(O,f,R),j===null?k=O:j.sibling=O,j=O);return nt&&kn(h,R),k}for(g=a(h,g);!O.done;R++,O=p.next())O=w(g,h,R,O.value,N),O!==null&&(e&&O.alternate!==null&&g.delete(O.key===null?R:O.key),f=l(O,f,R),j===null?k=O:j.sibling=O,j=O);return e&&g.forEach(function(ue){return t(h,ue)}),nt&&kn(h,R),k}function b(h,f,p,N){if(typeof p=="object"&&p!==null&&p.type===na&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Xs:e:{for(var k=p.key,j=f;j!==null;){if(j.key===k){if(k=p.type,k===na){if(j.tag===7){r(h,j.sibling),f=s(j,p.props.children),f.return=h,h=f;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xr&&yu(k)===j.type){r(h,j.sibling),f=s(j,p.props),f.ref=Ya(h,j,p),f.return=h,h=f;break e}r(h,j);break}else t(h,j);j=j.sibling}p.type===na?(f=Ln(p.props.children,h.mode,N,p.key),f.return=h,h=f):(N=El(p.type,p.key,p.props,null,h.mode,N),N.ref=Ya(h,f,p),N.return=h,h=N)}return o(h);case ra:e:{for(j=p.key;f!==null;){if(f.key===j)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){r(h,f.sibling),f=s(f,p.children||[]),f.return=h,h=f;break e}else{r(h,f);break}else t(h,f);f=f.sibling}f=fi(p,h.mode,N),f.return=h,h=f}return o(h);case Xr:return j=p._init,b(h,f,j(p._payload),N)}if(ts(p))return v(h,f,p,N);if(Ua(p))return S(h,f,p,N);il(h,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(r(h,f.sibling),f=s(f,p),f.return=h,h=f):(r(h,f),f=ui(p,h.mode,N),f.return=h,h=f),o(h)):r(h,f)}return b}var Sa=qm(!0),Jm=qm(!1),ql=vn(null),Jl=null,ua=null,Jc=null;function Kc(){Jc=ua=Jl=null}function Qc(e){var t=ql.current;Ze(ql),e._currentValue=t}function Ki(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function xa(e,t){Jl=e,Jc=ua=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vt=!0),e.firstContext=null)}function ur(e){var t=e._currentValue;if(Jc!==e)if(e={context:e,memoizedValue:t,next:null},ua===null){if(Jl===null)throw Error(Q(308));ua=e,Jl.dependencies={lanes:0,firstContext:e}}else ua=ua.next=e;return t}var Tn=null;function Xc(e){Tn===null?Tn=[e]:Tn.push(e)}function Km(e,t,r,a){var s=t.interleaved;return s===null?(r.next=r,Xc(t)):(r.next=s.next,s.next=r),t.interleaved=r,Br(e,a)}function Br(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gr=!1;function Gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ze&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,Br(e,r)}return s=a.interleaved,s===null?(t.next=t,Xc(a)):(t.next=s.next,s.next=t),a.interleaved=t,Br(e,r)}function wl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Mc(e,r)}}function gu(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var s=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?s=l=o:l=l.next=o,r=r.next}while(r!==null);l===null?s=l=t:l=l.next=t}else s=l=t;r={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Kl(e,t,r,a){var s=e.updateQueue;Gr=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var c=i,d=c.next;c.next=null,o===null?l=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,i=u.lastBaseUpdate,i!==o&&(i===null?u.firstBaseUpdate=d:i.next=d,u.lastBaseUpdate=c))}if(l!==null){var m=s.baseState;o=0,u=d=c=null,i=l;do{var y=i.lane,w=i.eventTime;if((a&y)===y){u!==null&&(u=u.next={eventTime:w,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var v=e,S=i;switch(y=t,w=r,S.tag){case 1:if(v=S.payload,typeof v=="function"){m=v.call(w,m,y);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,y=typeof v=="function"?v.call(w,m,y):v,y==null)break e;m=ot({},m,y);break e;case 2:Gr=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[i]:y.push(i))}else w={eventTime:w,lane:y,tag:i.tag,payload:i.payload,callback:i.callback,next:null},u===null?(d=u=w,c=m):u=u.next=w,o|=y;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;y=i,i=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(u===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);Un|=o,e.lanes=o,e.memoizedState=m}}function xu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(s!==null){if(a.callback=null,a=r,typeof s!="function")throw Error(Q(191,s));s.call(a)}}}var Bs={},Tr=vn(Bs),ks=vn(Bs),Es=vn(Bs);function Rn(e){if(e===Bs)throw Error(Q(174));return e}function Zc(e,t){switch(Xe(Es,t),Xe(ks,e),Xe(Tr,Bs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pi(t,e)}Ze(Tr),Xe(Tr,t)}function ka(){Ze(Tr),Ze(ks),Ze(Es)}function Xm(e){Rn(Es.current);var t=Rn(Tr.current),r=Pi(t,e.type);t!==r&&(Xe(ks,e),Xe(Tr,r))}function ed(e){ks.current===e&&(Ze(Tr),Ze(ks))}var st=vn(0);function Ql(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var si=[];function td(){for(var e=0;e<si.length;e++)si[e]._workInProgressVersionPrimary=null;si.length=0}var bl=qr.ReactCurrentDispatcher,li=qr.ReactCurrentBatchConfig,$n=0,lt=null,xt=null,bt=null,Xl=!1,ds=!1,Cs=0,$g=0;function Dt(){throw Error(Q(321))}function rd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!wr(e[r],t[r]))return!1;return!0}function nd(e,t,r,a,s,l){if($n=l,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bl.current=e===null||e.memoizedState===null?Wg:Vg,e=r(a,s),ds){l=0;do{if(ds=!1,Cs=0,25<=l)throw Error(Q(301));l+=1,bt=xt=null,t.updateQueue=null,bl.current=Yg,e=r(a,s)}while(ds)}if(bl.current=Gl,t=xt!==null&&xt.next!==null,$n=0,bt=xt=lt=null,Xl=!1,t)throw Error(Q(300));return e}function ad(){var e=Cs!==0;return Cs=0,e}function Er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?lt.memoizedState=bt=e:bt=bt.next=e,bt}function fr(){if(xt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=bt===null?lt.memoizedState:bt.next;if(t!==null)bt=t,xt=e;else{if(e===null)throw Error(Q(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},bt===null?lt.memoizedState=bt=e:bt=bt.next=e}return bt}function Ds(e,t){return typeof t=="function"?t(e):t}function oi(e){var t=fr(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var a=xt,s=a.baseQueue,l=r.pending;if(l!==null){if(s!==null){var o=s.next;s.next=l.next,l.next=o}a.baseQueue=s=l,r.pending=null}if(s!==null){l=s.next,a=a.baseState;var i=o=null,c=null,d=l;do{var u=d.lane;if(($n&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(i=c=m,o=a):c=c.next=m,lt.lanes|=u,Un|=u}d=d.next}while(d!==null&&d!==l);c===null?o=a:c.next=i,wr(a,t.memoizedState)||(Vt=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){s=e;do l=s.lane,lt.lanes|=l,Un|=l,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ii(e){var t=fr(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var a=r.dispatch,s=r.pending,l=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do l=e(l,o.action),o=o.next;while(o!==s);wr(l,t.memoizedState)||(Vt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,a]}function Gm(){}function Zm(e,t){var r=lt,a=fr(),s=t(),l=!wr(a.memoizedState,s);if(l&&(a.memoizedState=s,Vt=!0),a=a.queue,sd(rp.bind(null,r,a,e),[e]),a.getSnapshot!==t||l||bt!==null&&bt.memoizedState.tag&1){if(r.flags|=2048,Ps(9,tp.bind(null,r,a,s,t),void 0,null),Nt===null)throw Error(Q(349));$n&30||ep(r,t,s)}return s}function ep(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function tp(e,t,r,a){t.value=r,t.getSnapshot=a,np(t)&&ap(e)}function rp(e,t,r){return r(function(){np(t)&&ap(e)})}function np(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!wr(e,r)}catch{return!0}}function ap(e){var t=Br(e,1);t!==null&&vr(t,e,1,-1)}function vu(e){var t=Er();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:e},t.queue=e,e=e.dispatch=Hg.bind(null,lt,e),[t.memoizedState,e]}function Ps(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function sp(){return fr().memoizedState}function Nl(e,t,r,a){var s=Er();lt.flags|=e,s.memoizedState=Ps(1|t,r,void 0,a===void 0?null:a)}function xo(e,t,r,a){var s=fr();a=a===void 0?null:a;var l=void 0;if(xt!==null){var o=xt.memoizedState;if(l=o.destroy,a!==null&&rd(a,o.deps)){s.memoizedState=Ps(t,r,l,a);return}}lt.flags|=e,s.memoizedState=Ps(1|t,r,l,a)}function wu(e,t){return Nl(8390656,8,e,t)}function sd(e,t){return xo(2048,8,e,t)}function lp(e,t){return xo(4,2,e,t)}function op(e,t){return xo(4,4,e,t)}function ip(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cp(e,t,r){return r=r!=null?r.concat([e]):null,xo(4,4,ip.bind(null,t,e),r)}function ld(){}function dp(e,t){var r=fr();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&rd(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function up(e,t){var r=fr();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&rd(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function fp(e,t,r){return $n&21?(wr(r,t)||(r=gm(),lt.lanes|=r,Un|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vt=!0),e.memoizedState=r)}function Ug(e,t){var r=Ye;Ye=r!==0&&4>r?r:4,e(!0);var a=li.transition;li.transition={};try{e(!1),t()}finally{Ye=r,li.transition=a}}function mp(){return fr().memoizedState}function Bg(e,t,r){var a=fn(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},pp(e))hp(t,r);else if(r=Km(e,t,r,a),r!==null){var s=Ft();vr(r,e,a,s),yp(r,t,a)}}function Hg(e,t,r){var a=fn(e),s={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(pp(e))hp(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,i=l(o,r);if(s.hasEagerState=!0,s.eagerState=i,wr(i,o)){var c=t.interleaved;c===null?(s.next=s,Xc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Km(e,t,s,a),r!==null&&(s=Ft(),vr(r,e,a,s),yp(r,t,a))}}function pp(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function hp(e,t){ds=Xl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yp(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Mc(e,r)}}var Gl={readContext:ur,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},Wg={readContext:ur,useCallback:function(e,t){return Er().memoizedState=[e,t===void 0?null:t],e},useContext:ur,useEffect:wu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Nl(4194308,4,ip.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nl(4,2,e,t)},useMemo:function(e,t){var r=Er();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=Er();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Bg.bind(null,lt,e),[a.memoizedState,e]},useRef:function(e){var t=Er();return e={current:e},t.memoizedState=e},useState:vu,useDebugValue:ld,useDeferredValue:function(e){return Er().memoizedState=e},useTransition:function(){var e=vu(!1),t=e[0];return e=Ug.bind(null,e[1]),Er().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=lt,s=Er();if(nt){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=t(),Nt===null)throw Error(Q(349));$n&30||ep(a,t,r)}s.memoizedState=r;var l={value:r,getSnapshot:t};return s.queue=l,wu(rp.bind(null,a,l,e),[e]),a.flags|=2048,Ps(9,tp.bind(null,a,l,r,t),void 0,null),r},useId:function(){var e=Er(),t=Nt.identifierPrefix;if(nt){var r=Mr,a=Or;r=(a&~(1<<32-xr(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=Cs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$g++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vg={readContext:ur,useCallback:dp,useContext:ur,useEffect:sd,useImperativeHandle:cp,useInsertionEffect:lp,useLayoutEffect:op,useMemo:up,useReducer:oi,useRef:sp,useState:function(){return oi(Ds)},useDebugValue:ld,useDeferredValue:function(e){var t=fr();return fp(t,xt.memoizedState,e)},useTransition:function(){var e=oi(Ds)[0],t=fr().memoizedState;return[e,t]},useMutableSource:Gm,useSyncExternalStore:Zm,useId:mp,unstable_isNewReconciler:!1},Yg={readContext:ur,useCallback:dp,useContext:ur,useEffect:sd,useImperativeHandle:cp,useInsertionEffect:lp,useLayoutEffect:op,useMemo:up,useReducer:ii,useRef:sp,useState:function(){return ii(Ds)},useDebugValue:ld,useDeferredValue:function(e){var t=fr();return xt===null?t.memoizedState=e:fp(t,xt.memoizedState,e)},useTransition:function(){var e=ii(Ds)[0],t=fr().memoizedState;return[e,t]},useMutableSource:Gm,useSyncExternalStore:Zm,useId:mp,unstable_isNewReconciler:!1};function pr(e,t){if(e&&e.defaultProps){t=ot({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Qi(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:ot({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vo={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=Ft(),s=fn(e),l=Fr(a,s);l.payload=t,r!=null&&(l.callback=r),t=dn(e,l,s),t!==null&&(vr(t,e,s,a),wl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=Ft(),s=fn(e),l=Fr(a,s);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=dn(e,l,s),t!==null&&(vr(t,e,s,a),wl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ft(),a=fn(e),s=Fr(r,a);s.tag=2,t!=null&&(s.callback=t),t=dn(e,s,a),t!==null&&(vr(t,e,a,r),wl(t,e,a))}};function bu(e,t,r,a,s,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,l,o):t.prototype&&t.prototype.isPureReactComponent?!bs(r,a)||!bs(s,l):!0}function gp(e,t,r){var a=!1,s=gn,l=t.contextType;return typeof l=="object"&&l!==null?l=ur(l):(s=qt(t)?Fn:At.current,a=t.contextTypes,l=(a=a!=null)?Na(e,s):gn),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Nu(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Xi(e,t,r,a){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Gc(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=ur(l):(l=qt(t)?Fn:At.current,s.context=Na(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Qi(e,t,l,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&vo.enqueueReplaceState(s,s.state,null),Kl(e,r,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ea(e,t){try{var r="",a=t;do r+=wy(a),a=a.return;while(a);var s=r}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function ci(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Gi(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var qg=typeof WeakMap=="function"?WeakMap:Map;function xp(e,t,r){r=Fr(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){eo||(eo=!0,ic=a),Gi(e,t)},r}function vp(e,t,r){r=Fr(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=t.value;r.payload=function(){return a(s)},r.callback=function(){Gi(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Gi(e,t),typeof a!="function"&&(un===null?un=new Set([this]):un.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ju(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new qg;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(r)||(s.add(r),e=ox.bind(null,e,t,r),t.then(e,e))}function Su(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ku(e,t,r,a,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Fr(-1,1),t.tag=2,dn(r,t,1))),r.lanes|=1),e)}var Jg=qr.ReactCurrentOwner,Vt=!1;function Lt(e,t,r,a){t.child=e===null?Jm(t,null,r,a):Sa(t,e.child,r,a)}function Eu(e,t,r,a,s){r=r.render;var l=t.ref;return xa(t,s),a=nd(e,t,r,a,l,s),r=ad(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hr(e,t,s)):(nt&&r&&Vc(t),t.flags|=1,Lt(e,t,a,s),t.child)}function Cu(e,t,r,a,s){if(e===null){var l=r.type;return typeof l=="function"&&!pd(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,wp(e,t,l,a,s)):(e=El(r.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var o=l.memoizedProps;if(r=r.compare,r=r!==null?r:bs,r(o,a)&&e.ref===t.ref)return Hr(e,t,s)}return t.flags|=1,e=mn(l,a),e.ref=t.ref,e.return=t,t.child=e}function wp(e,t,r,a,s){if(e!==null){var l=e.memoizedProps;if(bs(l,a)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=a=l,(e.lanes&s)!==0)e.flags&131072&&(Vt=!0);else return t.lanes=e.lanes,Hr(e,t,s)}return Zi(e,t,r,a,s)}function bp(e,t,r){var a=t.pendingProps,s=a.children,l=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(ma,Zt),Zt|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xe(ma,Zt),Zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=l!==null?l.baseLanes:r,Xe(ma,Zt),Zt|=a}else l!==null?(a=l.baseLanes|r,t.memoizedState=null):a=r,Xe(ma,Zt),Zt|=a;return Lt(e,t,s,r),t.child}function Np(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Zi(e,t,r,a,s){var l=qt(r)?Fn:At.current;return l=Na(t,l),xa(t,s),r=nd(e,t,r,a,l,s),a=ad(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Hr(e,t,s)):(nt&&a&&Vc(t),t.flags|=1,Lt(e,t,r,s),t.child)}function Du(e,t,r,a,s){if(qt(r)){var l=!0;Wl(t)}else l=!1;if(xa(t,s),t.stateNode===null)jl(e,t),gp(t,r,a),Xi(t,r,a,s),a=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ur(d):(d=qt(r)?Fn:At.current,d=Na(t,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==a||c!==d)&&Nu(t,o,a,d),Gr=!1;var y=t.memoizedState;o.state=y,Kl(t,a,o,s),c=t.memoizedState,i!==a||y!==c||Yt.current||Gr?(typeof u=="function"&&(Qi(t,r,u,a),c=t.memoizedState),(i=Gr||bu(t,r,i,a,y,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),o.props=a,o.state=c,o.context=d,a=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,Qm(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:pr(t.type,i),o.props=d,m=t.pendingProps,y=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ur(c):(c=qt(r)?Fn:At.current,c=Na(t,c));var w=r.getDerivedStateFromProps;(u=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==m||y!==c)&&Nu(t,o,a,c),Gr=!1,y=t.memoizedState,o.state=y,Kl(t,a,o,s);var v=t.memoizedState;i!==m||y!==v||Yt.current||Gr?(typeof w=="function"&&(Qi(t,r,w,a),v=t.memoizedState),(d=Gr||bu(t,r,d,a,y,v,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=v),o.props=a,o.state=v,o.context=c,a=d):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),a=!1)}return ec(e,t,r,a,l,s)}function ec(e,t,r,a,s,l){Np(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return s&&mu(t,r,!1),Hr(e,t,l);a=t.stateNode,Jg.current=t;var i=o&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=Sa(t,e.child,null,l),t.child=Sa(t,null,i,l)):Lt(e,t,i,l),t.memoizedState=a.state,s&&mu(t,r,!0),t.child}function jp(e){var t=e.stateNode;t.pendingContext?fu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fu(e,t.context,!1),Zc(e,t.containerInfo)}function Pu(e,t,r,a,s){return ja(),qc(s),t.flags|=256,Lt(e,t,r,a),t.child}var tc={dehydrated:null,treeContext:null,retryLane:0};function rc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sp(e,t,r){var a=t.pendingProps,s=st.current,l=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Xe(st,s&1),e===null)return Ji(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,l?(a=t.mode,l=t.child,o={mode:"hidden",children:o},!(a&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=No(o,a,0,null),e=Ln(e,a,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=rc(r),t.memoizedState=tc,e):od(t,o));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return Kg(e,t,o,a,i,s,r);if(l){l=a.fallback,o=t.mode,s=e.child,i=s.sibling;var c={mode:"hidden",children:a.children};return!(o&1)&&t.child!==s?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=mn(s,c),a.subtreeFlags=s.subtreeFlags&14680064),i!==null?l=mn(i,l):(l=Ln(l,o,r,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,o=e.child.memoizedState,o=o===null?rc(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,t.memoizedState=tc,a}return l=e.child,e=l.sibling,a=mn(l,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function od(e,t){return t=No({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cl(e,t,r,a){return a!==null&&qc(a),Sa(t,e.child,null,r),e=od(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kg(e,t,r,a,s,l,o){if(r)return t.flags&256?(t.flags&=-257,a=ci(Error(Q(422))),cl(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=a.fallback,s=t.mode,a=No({mode:"visible",children:a.children},s,0,null),l=Ln(l,s,o,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,t.mode&1&&Sa(t,e.child,null,o),t.child.memoizedState=rc(o),t.memoizedState=tc,l);if(!(t.mode&1))return cl(e,t,o,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var i=a.dgst;return a=i,l=Error(Q(419)),a=ci(l,a,void 0),cl(e,t,o,a)}if(i=(o&e.childLanes)!==0,Vt||i){if(a=Nt,a!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|o)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Br(e,s),vr(a,e,s,-1))}return md(),a=ci(Error(Q(421))),cl(e,t,o,a)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ix.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,tr=cn(s.nextSibling),rr=t,nt=!0,gr=null,e!==null&&(or[ir++]=Or,or[ir++]=Mr,or[ir++]=zn,Or=e.id,Mr=e.overflow,zn=t),t=od(t,a.children),t.flags|=4096,t)}function Tu(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Ki(e.return,t,r)}function di(e,t,r,a,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=r,l.tailMode=s)}function kp(e,t,r){var a=t.pendingProps,s=a.revealOrder,l=a.tail;if(Lt(e,t,a.children,r),a=st.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tu(e,r,t);else if(e.tag===19)Tu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Xe(st,a),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ql(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),di(t,!1,s,r,l);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ql(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}di(t,!0,r,null,l);break;case"together":di(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=mn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=mn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Qg(e,t,r){switch(t.tag){case 3:jp(t),ja();break;case 5:Xm(t);break;case 1:qt(t.type)&&Wl(t);break;case 4:Zc(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;Xe(ql,a._currentValue),a._currentValue=s;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Xe(st,st.current&1),t.flags|=128,null):r&t.child.childLanes?Sp(e,t,r):(Xe(st,st.current&1),e=Hr(e,t,r),e!==null?e.sibling:null);Xe(st,st.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return kp(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xe(st,st.current),a)break;return null;case 22:case 23:return t.lanes=0,bp(e,t,r)}return Hr(e,t,r)}var Ep,nc,Cp,Dp;Ep=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nc=function(){};Cp=function(e,t,r,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,Rn(Tr.current);var l=null;switch(r){case"input":s=ki(e,s),a=ki(e,a),l=[];break;case"select":s=ot({},s,{value:void 0}),a=ot({},a,{value:void 0}),l=[];break;case"textarea":s=Di(e,s),a=Di(e,a),l=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Bl)}Ti(r,a);var o;r=null;for(d in s)if(!a.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var i=s[d];for(o in i)i.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ps.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in a){var c=a[d];if(i=s!=null?s[d]:void 0,a.hasOwnProperty(d)&&c!==i&&(c!=null||i!=null))if(d==="style")if(i){for(o in i)!i.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&i[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(l||(l=[]),l.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ps.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ge("scroll",e),l||i===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};Dp=function(e,t,r,a){r!==a&&(t.flags|=4)};function qa(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function Xg(e,t,r){var a=t.pendingProps;switch(Yc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return qt(t.type)&&Hl(),Pt(t),null;case 3:return a=t.stateNode,ka(),Ze(Yt),Ze(At),td(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ol(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gr!==null&&(uc(gr),gr=null))),nc(e,t),Pt(t),null;case 5:ed(t);var s=Rn(Es.current);if(r=t.type,e!==null&&t.stateNode!=null)Cp(e,t,r,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(Q(166));return Pt(t),null}if(e=Rn(Tr.current),ol(t)){a=t.stateNode,r=t.type;var l=t.memoizedProps;switch(a[Cr]=t,a[Ss]=l,e=(t.mode&1)!==0,r){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(s=0;s<ns.length;s++)Ge(ns[s],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":zd(a,l),Ge("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},Ge("invalid",a);break;case"textarea":Ud(a,l),Ge("invalid",a)}Ti(r,l),s=null;for(var o in l)if(l.hasOwnProperty(o)){var i=l[o];o==="children"?typeof i=="string"?a.textContent!==i&&(l.suppressHydrationWarning!==!0&&ll(a.textContent,i,e),s=["children",i]):typeof i=="number"&&a.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&ll(a.textContent,i,e),s=["children",""+i]):ps.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Ge("scroll",a)}switch(r){case"input":Gs(a),$d(a,l,!0);break;case"textarea":Gs(a),Bd(a);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(a.onclick=Bl)}a=s,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(r,{is:a.is}):(e=o.createElement(r),r==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,r),e[Cr]=t,e[Ss]=a,Ep(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ri(r,a),r){case"dialog":Ge("cancel",e),Ge("close",e),s=a;break;case"iframe":case"object":case"embed":Ge("load",e),s=a;break;case"video":case"audio":for(s=0;s<ns.length;s++)Ge(ns[s],e);s=a;break;case"source":Ge("error",e),s=a;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),s=a;break;case"details":Ge("toggle",e),s=a;break;case"input":zd(e,a),s=ki(e,a),Ge("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=ot({},a,{value:void 0}),Ge("invalid",e);break;case"textarea":Ud(e,a),s=Di(e,a),Ge("invalid",e);break;default:s=a}Ti(r,s),i=s;for(l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="style"?sm(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nm(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&hs(e,c):typeof c=="number"&&hs(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ps.hasOwnProperty(l)?c!=null&&l==="onScroll"&&Ge("scroll",e):c!=null&&Rc(e,l,c,o))}switch(r){case"input":Gs(e),$d(e,a,!1);break;case"textarea":Gs(e),Bd(e);break;case"option":a.value!=null&&e.setAttribute("value",""+yn(a.value));break;case"select":e.multiple=!!a.multiple,l=a.value,l!=null?pa(e,!!a.multiple,l,!1):a.defaultValue!=null&&pa(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Bl)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)Dp(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(Q(166));if(r=Rn(Es.current),Rn(Tr.current),ol(t)){if(a=t.stateNode,r=t.memoizedProps,a[Cr]=t,(l=a.nodeValue!==r)&&(e=rr,e!==null))switch(e.tag){case 3:ll(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ll(a.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Cr]=t,t.stateNode=a}return Pt(t),null;case 13:if(Ze(st),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&tr!==null&&t.mode&1&&!(t.flags&128))Ym(),ja(),t.flags|=98560,l=!1;else if(l=ol(t),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(Q(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(Q(317));l[Cr]=t}else ja(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pt(t),l=!1}else gr!==null&&(uc(gr),gr=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||st.current&1?vt===0&&(vt=3):md())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return ka(),nc(e,t),e===null&&Ns(t.stateNode.containerInfo),Pt(t),null;case 10:return Qc(t.type._context),Pt(t),null;case 17:return qt(t.type)&&Hl(),Pt(t),null;case 19:if(Ze(st),l=t.memoizedState,l===null)return Pt(t),null;if(a=(t.flags&128)!==0,o=l.rendering,o===null)if(a)qa(l,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ql(e),o!==null){for(t.flags|=128,qa(l,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)l=r,e=a,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xe(st,st.current&1|2),t.child}e=e.sibling}l.tail!==null&&pt()>Ca&&(t.flags|=128,a=!0,qa(l,!1),t.lanes=4194304)}else{if(!a)if(e=Ql(o),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qa(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!nt)return Pt(t),null}else 2*pt()-l.renderingStartTime>Ca&&r!==1073741824&&(t.flags|=128,a=!0,qa(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(r=l.last,r!==null?r.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=pt(),t.sibling=null,r=st.current,Xe(st,a?r&1|2:r&1),t):(Pt(t),null);case 22:case 23:return fd(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Zt&1073741824&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function Gg(e,t){switch(Yc(t),t.tag){case 1:return qt(t.type)&&Hl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ka(),Ze(Yt),Ze(At),td(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ed(t),null;case 13:if(Ze(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ze(st),null;case 4:return ka(),null;case 10:return Qc(t.type._context),null;case 22:case 23:return fd(),null;case 24:return null;default:return null}}var dl=!1,Tt=!1,Zg=typeof WeakSet=="function"?WeakSet:Set,oe=null;function fa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){ut(e,t,a)}else r.current=null}function ac(e,t,r){try{r()}catch(a){ut(e,t,a)}}var Ru=!1;function ex(e,t){if(Ui=zl,e=_m(),Wc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var s=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var o=0,i=-1,c=-1,d=0,u=0,m=e,y=null;t:for(;;){for(var w;m!==r||s!==0&&m.nodeType!==3||(i=o+s),m!==l||a!==0&&m.nodeType!==3||(c=o+a),m.nodeType===3&&(o+=m.nodeValue.length),(w=m.firstChild)!==null;)y=m,m=w;for(;;){if(m===e)break t;if(y===r&&++d===s&&(i=o),y===l&&++u===a&&(c=o),(w=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=w}r=i===-1||c===-1?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bi={focusedElem:e,selectionRange:r},zl=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,b=v.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?S:pr(t.type,S),b);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(N){ut(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return v=Ru,Ru=!1,v}function us(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&ac(t,r,l)}s=s.next}while(s!==a)}}function wo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function sc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Pp(e){var t=e.alternate;t!==null&&(e.alternate=null,Pp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cr],delete t[Ss],delete t[Vi],delete t[Og],delete t[Mg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tp(e){return e.tag===5||e.tag===3||e.tag===4}function Au(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lc(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Bl));else if(a!==4&&(e=e.child,e!==null))for(lc(e,t,r),e=e.sibling;e!==null;)lc(e,t,r),e=e.sibling}function oc(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(oc(e,t,r),e=e.sibling;e!==null;)oc(e,t,r),e=e.sibling}var kt=null,hr=!1;function Jr(e,t,r){for(r=r.child;r!==null;)Rp(e,t,r),r=r.sibling}function Rp(e,t,r){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(fo,r)}catch{}switch(r.tag){case 5:Tt||fa(r,t);case 6:var a=kt,s=hr;kt=null,Jr(e,t,r),kt=a,hr=s,kt!==null&&(hr?(e=kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):kt.removeChild(r.stateNode));break;case 18:kt!==null&&(hr?(e=kt,r=r.stateNode,e.nodeType===8?ni(e.parentNode,r):e.nodeType===1&&ni(e,r),vs(e)):ni(kt,r.stateNode));break;case 4:a=kt,s=hr,kt=r.stateNode.containerInfo,hr=!0,Jr(e,t,r),kt=a,hr=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var l=s,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&ac(r,t,o),s=s.next}while(s!==a)}Jr(e,t,r);break;case 1:if(!Tt&&(fa(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(i){ut(r,t,i)}Jr(e,t,r);break;case 21:Jr(e,t,r);break;case 22:r.mode&1?(Tt=(a=Tt)||r.memoizedState!==null,Jr(e,t,r),Tt=a):Jr(e,t,r);break;default:Jr(e,t,r)}}function _u(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Zg),t.forEach(function(a){var s=cx.bind(null,e,a);r.has(a)||(r.add(a),a.then(s,s))})}}function mr(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var s=r[a];try{var l=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:kt=i.stateNode,hr=!1;break e;case 3:kt=i.stateNode.containerInfo,hr=!0;break e;case 4:kt=i.stateNode.containerInfo,hr=!0;break e}i=i.return}if(kt===null)throw Error(Q(160));Rp(l,o,s),kt=null,hr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ut(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ap(t,e),t=t.sibling}function Ap(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mr(t,e),Sr(e),a&4){try{us(3,e,e.return),wo(3,e)}catch(S){ut(e,e.return,S)}try{us(5,e,e.return)}catch(S){ut(e,e.return,S)}}break;case 1:mr(t,e),Sr(e),a&512&&r!==null&&fa(r,r.return);break;case 5:if(mr(t,e),Sr(e),a&512&&r!==null&&fa(r,r.return),e.flags&32){var s=e.stateNode;try{hs(s,"")}catch(S){ut(e,e.return,S)}}if(a&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,o=r!==null?r.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&em(s,l),Ri(i,o);var d=Ri(i,l);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?sm(s,m):u==="dangerouslySetInnerHTML"?nm(s,m):u==="children"?hs(s,m):Rc(s,u,m,d)}switch(i){case"input":Ei(s,l);break;case"textarea":tm(s,l);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var w=l.value;w!=null?pa(s,!!l.multiple,w,!1):y!==!!l.multiple&&(l.defaultValue!=null?pa(s,!!l.multiple,l.defaultValue,!0):pa(s,!!l.multiple,l.multiple?[]:"",!1))}s[Ss]=l}catch(S){ut(e,e.return,S)}}break;case 6:if(mr(t,e),Sr(e),a&4){if(e.stateNode===null)throw Error(Q(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(S){ut(e,e.return,S)}}break;case 3:if(mr(t,e),Sr(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{vs(t.containerInfo)}catch(S){ut(e,e.return,S)}break;case 4:mr(t,e),Sr(e);break;case 13:mr(t,e),Sr(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(dd=pt())),a&4&&_u(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Tt=(d=Tt)||u,mr(t,e),Tt=d):mr(t,e),Sr(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(oe=e,u=e.child;u!==null;){for(m=oe=u;oe!==null;){switch(y=oe,w=y.child,y.tag){case 0:case 11:case 14:case 15:us(4,y,y.return);break;case 1:fa(y,y.return);var v=y.stateNode;if(typeof v.componentWillUnmount=="function"){a=y,r=y.return;try{t=a,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(S){ut(a,r,S)}}break;case 5:fa(y,y.return);break;case 22:if(y.memoizedState!==null){Lu(m);continue}}w!==null?(w.return=y,oe=w):Lu(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{s=m.stateNode,d?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=am("display",o))}catch(S){ut(e,e.return,S)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(S){ut(e,e.return,S)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:mr(t,e),Sr(e),a&4&&_u(e);break;case 21:break;default:mr(t,e),Sr(e)}}function Sr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Tp(r)){var a=r;break e}r=r.return}throw Error(Q(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(hs(s,""),a.flags&=-33);var l=Au(e);oc(e,l,s);break;case 3:case 4:var o=a.stateNode.containerInfo,i=Au(e);lc(e,i,o);break;default:throw Error(Q(161))}}catch(c){ut(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tx(e,t,r){oe=e,_p(e)}function _p(e,t,r){for(var a=(e.mode&1)!==0;oe!==null;){var s=oe,l=s.child;if(s.tag===22&&a){var o=s.memoizedState!==null||dl;if(!o){var i=s.alternate,c=i!==null&&i.memoizedState!==null||Tt;i=dl;var d=Tt;if(dl=o,(Tt=c)&&!d)for(oe=s;oe!==null;)o=oe,c=o.child,o.tag===22&&o.memoizedState!==null?Ou(s):c!==null?(c.return=o,oe=c):Ou(s);for(;l!==null;)oe=l,_p(l),l=l.sibling;oe=s,dl=i,Tt=d}Iu(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,oe=l):Iu(e)}}function Iu(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||wo(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Tt)if(r===null)a.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:pr(t.type,r.memoizedProps);a.componentDidUpdate(s,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&xu(t,l,a);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xu(t,o,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&vs(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Tt||t.flags&512&&sc(t)}catch(y){ut(t,t.return,y)}}if(t===e){oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,oe=r;break}oe=t.return}}function Lu(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,oe=r;break}oe=t.return}}function Ou(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{wo(4,t)}catch(c){ut(t,r,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var s=t.return;try{a.componentDidMount()}catch(c){ut(t,s,c)}}var l=t.return;try{sc(t)}catch(c){ut(t,l,c)}break;case 5:var o=t.return;try{sc(t)}catch(c){ut(t,o,c)}}}catch(c){ut(t,t.return,c)}if(t===e){oe=null;break}var i=t.sibling;if(i!==null){i.return=t.return,oe=i;break}oe=t.return}}var rx=Math.ceil,Zl=qr.ReactCurrentDispatcher,id=qr.ReactCurrentOwner,dr=qr.ReactCurrentBatchConfig,ze=0,Nt=null,gt=null,Et=0,Zt=0,ma=vn(0),vt=0,Ts=null,Un=0,bo=0,cd=0,fs=null,Ht=null,dd=0,Ca=1/0,_r=null,eo=!1,ic=null,un=null,ul=!1,nn=null,to=0,ms=0,cc=null,Sl=-1,kl=0;function Ft(){return ze&6?pt():Sl!==-1?Sl:Sl=pt()}function fn(e){return e.mode&1?ze&2&&Et!==0?Et&-Et:zg.transition!==null?(kl===0&&(kl=gm()),kl):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:Sm(e.type)),e):1}function vr(e,t,r,a){if(50<ms)throw ms=0,cc=null,Error(Q(185));zs(e,r,a),(!(ze&2)||e!==Nt)&&(e===Nt&&(!(ze&2)&&(bo|=r),vt===4&&tn(e,Et)),Jt(e,a),r===1&&ze===0&&!(t.mode&1)&&(Ca=pt()+500,go&&wn()))}function Jt(e,t){var r=e.callbackNode;zy(e,t);var a=Fl(e,e===Nt?Et:0);if(a===0)r!==null&&Vd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&Vd(r),t===1)e.tag===0?Fg(Mu.bind(null,e)):Hm(Mu.bind(null,e)),Ig(function(){!(ze&6)&&wn()}),r=null;else{switch(xm(a)){case 1:r=Oc;break;case 4:r=hm;break;case 16:r=Ml;break;case 536870912:r=ym;break;default:r=Ml}r=Up(r,Ip.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ip(e,t){if(Sl=-1,kl=0,ze&6)throw Error(Q(327));var r=e.callbackNode;if(va()&&e.callbackNode!==r)return null;var a=Fl(e,e===Nt?Et:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=ro(e,a);else{t=a;var s=ze;ze|=2;var l=Op();(Nt!==e||Et!==t)&&(_r=null,Ca=pt()+500,In(e,t));do try{sx();break}catch(i){Lp(e,i)}while(!0);Kc(),Zl.current=l,ze=s,gt!==null?t=0:(Nt=null,Et=0,t=vt)}if(t!==0){if(t===2&&(s=Oi(e),s!==0&&(a=s,t=dc(e,s))),t===1)throw r=Ts,In(e,0),tn(e,a),Jt(e,pt()),r;if(t===6)tn(e,a);else{if(s=e.current.alternate,!(a&30)&&!nx(s)&&(t=ro(e,a),t===2&&(l=Oi(e),l!==0&&(a=l,t=dc(e,l))),t===1))throw r=Ts,In(e,0),tn(e,a),Jt(e,pt()),r;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(Q(345));case 2:En(e,Ht,_r);break;case 3:if(tn(e,a),(a&130023424)===a&&(t=dd+500-pt(),10<t)){if(Fl(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){Ft(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Wi(En.bind(null,e,Ht,_r),t);break}En(e,Ht,_r);break;case 4:if(tn(e,a),(a&4194240)===a)break;for(t=e.eventTimes,s=-1;0<a;){var o=31-xr(a);l=1<<o,o=t[o],o>s&&(s=o),a&=~l}if(a=s,a=pt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*rx(a/1960))-a,10<a){e.timeoutHandle=Wi(En.bind(null,e,Ht,_r),a);break}En(e,Ht,_r);break;case 5:En(e,Ht,_r);break;default:throw Error(Q(329))}}}return Jt(e,pt()),e.callbackNode===r?Ip.bind(null,e):null}function dc(e,t){var r=fs;return e.current.memoizedState.isDehydrated&&(In(e,t).flags|=256),e=ro(e,t),e!==2&&(t=Ht,Ht=r,t!==null&&uc(t)),e}function uc(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function nx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var s=r[a],l=s.getSnapshot;s=s.value;try{if(!wr(l(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t){for(t&=~cd,t&=~bo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xr(t),a=1<<r;e[r]=-1,t&=~a}}function Mu(e){if(ze&6)throw Error(Q(327));va();var t=Fl(e,0);if(!(t&1))return Jt(e,pt()),null;var r=ro(e,t);if(e.tag!==0&&r===2){var a=Oi(e);a!==0&&(t=a,r=dc(e,a))}if(r===1)throw r=Ts,In(e,0),tn(e,t),Jt(e,pt()),r;if(r===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,En(e,Ht,_r),Jt(e,pt()),null}function ud(e,t){var r=ze;ze|=1;try{return e(t)}finally{ze=r,ze===0&&(Ca=pt()+500,go&&wn())}}function Bn(e){nn!==null&&nn.tag===0&&!(ze&6)&&va();var t=ze;ze|=1;var r=dr.transition,a=Ye;try{if(dr.transition=null,Ye=1,e)return e()}finally{Ye=a,dr.transition=r,ze=t,!(ze&6)&&wn()}}function fd(){Zt=ma.current,Ze(ma)}function In(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_g(r)),gt!==null)for(r=gt.return;r!==null;){var a=r;switch(Yc(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Hl();break;case 3:ka(),Ze(Yt),Ze(At),td();break;case 5:ed(a);break;case 4:ka();break;case 13:Ze(st);break;case 19:Ze(st);break;case 10:Qc(a.type._context);break;case 22:case 23:fd()}r=r.return}if(Nt=e,gt=e=mn(e.current,null),Et=Zt=t,vt=0,Ts=null,cd=bo=Un=0,Ht=fs=null,Tn!==null){for(t=0;t<Tn.length;t++)if(r=Tn[t],a=r.interleaved,a!==null){r.interleaved=null;var s=a.next,l=r.pending;if(l!==null){var o=l.next;l.next=s,a.next=o}r.pending=a}Tn=null}return e}function Lp(e,t){do{var r=gt;try{if(Kc(),bl.current=Gl,Xl){for(var a=lt.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Xl=!1}if($n=0,bt=xt=lt=null,ds=!1,Cs=0,id.current=null,r===null||r.return===null){vt=1,Ts=t,gt=null;break}e:{var l=e,o=r.return,i=r,c=t;if(t=Et,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=i,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var y=u.alternate;y?(u.updateQueue=y.updateQueue,u.memoizedState=y.memoizedState,u.lanes=y.lanes):(u.updateQueue=null,u.memoizedState=null)}var w=Su(o);if(w!==null){w.flags&=-257,ku(w,o,i,l,t),w.mode&1&&ju(l,d,t),t=w,c=d;var v=t.updateQueue;if(v===null){var S=new Set;S.add(c),t.updateQueue=S}else v.add(c);break e}else{if(!(t&1)){ju(l,d,t),md();break e}c=Error(Q(426))}}else if(nt&&i.mode&1){var b=Su(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ku(b,o,i,l,t),qc(Ea(c,i));break e}}l=c=Ea(c,i),vt!==4&&(vt=2),fs===null?fs=[l]:fs.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=xp(l,c,t);gu(l,h);break e;case 1:i=c;var f=l.type,p=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(un===null||!un.has(p)))){l.flags|=65536,t&=-t,l.lanes|=t;var N=vp(l,i,t);gu(l,N);break e}}l=l.return}while(l!==null)}Fp(r)}catch(k){t=k,gt===r&&r!==null&&(gt=r=r.return);continue}break}while(!0)}function Op(){var e=Zl.current;return Zl.current=Gl,e===null?Gl:e}function md(){(vt===0||vt===3||vt===2)&&(vt=4),Nt===null||!(Un&268435455)&&!(bo&268435455)||tn(Nt,Et)}function ro(e,t){var r=ze;ze|=2;var a=Op();(Nt!==e||Et!==t)&&(_r=null,In(e,t));do try{ax();break}catch(s){Lp(e,s)}while(!0);if(Kc(),ze=r,Zl.current=a,gt!==null)throw Error(Q(261));return Nt=null,Et=0,vt}function ax(){for(;gt!==null;)Mp(gt)}function sx(){for(;gt!==null&&!Ty();)Mp(gt)}function Mp(e){var t=$p(e.alternate,e,Zt);e.memoizedProps=e.pendingProps,t===null?Fp(e):gt=t,id.current=null}function Fp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Gg(r,t),r!==null){r.flags&=32767,gt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,gt=null;return}}else if(r=Xg(r,t,Zt),r!==null){gt=r;return}if(t=t.sibling,t!==null){gt=t;return}gt=t=e}while(t!==null);vt===0&&(vt=5)}function En(e,t,r){var a=Ye,s=dr.transition;try{dr.transition=null,Ye=1,lx(e,t,r,a)}finally{dr.transition=s,Ye=a}return null}function lx(e,t,r,a){do va();while(nn!==null);if(ze&6)throw Error(Q(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if($y(e,l),e===Nt&&(gt=Nt=null,Et=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ul||(ul=!0,Up(Ml,function(){return va(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=dr.transition,dr.transition=null;var o=Ye;Ye=1;var i=ze;ze|=4,id.current=null,ex(e,r),Ap(r,e),Eg(Bi),zl=!!Ui,Bi=Ui=null,e.current=r,tx(r),Ry(),ze=i,Ye=o,dr.transition=l}else e.current=r;if(ul&&(ul=!1,nn=e,to=s),l=e.pendingLanes,l===0&&(un=null),Iy(r.stateNode),Jt(e,pt()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],a(s.value,{componentStack:s.stack,digest:s.digest});if(eo)throw eo=!1,e=ic,ic=null,e;return to&1&&e.tag!==0&&va(),l=e.pendingLanes,l&1?e===cc?ms++:(ms=0,cc=e):ms=0,wn(),null}function va(){if(nn!==null){var e=xm(to),t=dr.transition,r=Ye;try{if(dr.transition=null,Ye=16>e?16:e,nn===null)var a=!1;else{if(e=nn,nn=null,to=0,ze&6)throw Error(Q(331));var s=ze;for(ze|=4,oe=e.current;oe!==null;){var l=oe,o=l.child;if(oe.flags&16){var i=l.deletions;if(i!==null){for(var c=0;c<i.length;c++){var d=i[c];for(oe=d;oe!==null;){var u=oe;switch(u.tag){case 0:case 11:case 15:us(8,u,l)}var m=u.child;if(m!==null)m.return=u,oe=m;else for(;oe!==null;){u=oe;var y=u.sibling,w=u.return;if(Pp(u),u===d){oe=null;break}if(y!==null){y.return=w,oe=y;break}oe=w}}}var v=l.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var b=S.sibling;S.sibling=null,S=b}while(S!==null)}}oe=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,oe=o;else e:for(;oe!==null;){if(l=oe,l.flags&2048)switch(l.tag){case 0:case 11:case 15:us(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,oe=h;break e}oe=l.return}}var f=e.current;for(oe=f;oe!==null;){o=oe;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,oe=p;else e:for(o=f;oe!==null;){if(i=oe,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:wo(9,i)}}catch(k){ut(i,i.return,k)}if(i===o){oe=null;break e}var N=i.sibling;if(N!==null){N.return=i.return,oe=N;break e}oe=i.return}}if(ze=s,wn(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(fo,e)}catch{}a=!0}return a}finally{Ye=r,dr.transition=t}}return!1}function Fu(e,t,r){t=Ea(r,t),t=xp(e,t,1),e=dn(e,t,1),t=Ft(),e!==null&&(zs(e,1,t),Jt(e,t))}function ut(e,t,r){if(e.tag===3)Fu(e,e,r);else for(;t!==null;){if(t.tag===3){Fu(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(un===null||!un.has(a))){e=Ea(r,e),e=vp(t,e,1),t=dn(t,e,1),e=Ft(),t!==null&&(zs(t,1,e),Jt(t,e));break}}t=t.return}}function ox(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=Ft(),e.pingedLanes|=e.suspendedLanes&r,Nt===e&&(Et&r)===r&&(vt===4||vt===3&&(Et&130023424)===Et&&500>pt()-dd?In(e,0):cd|=r),Jt(e,t)}function zp(e,t){t===0&&(e.mode&1?(t=tl,tl<<=1,!(tl&130023424)&&(tl=4194304)):t=1);var r=Ft();e=Br(e,t),e!==null&&(zs(e,t,r),Jt(e,r))}function ix(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),zp(e,r)}function cx(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Q(314))}a!==null&&a.delete(t),zp(e,r)}var $p;$p=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yt.current)Vt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Vt=!1,Qg(e,t,r);Vt=!!(e.flags&131072)}else Vt=!1,nt&&t.flags&1048576&&Wm(t,Yl,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;jl(e,t),e=t.pendingProps;var s=Na(t,At.current);xa(t,r),s=nd(null,t,a,e,s,r);var l=ad();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qt(a)?(l=!0,Wl(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gc(t),s.updater=vo,t.stateNode=s,s._reactInternals=t,Xi(t,a,e,r),t=ec(null,t,a,!0,l,r)):(t.tag=0,nt&&l&&Vc(t),Lt(null,t,s,r),t=t.child),t;case 16:a=t.elementType;e:{switch(jl(e,t),e=t.pendingProps,s=a._init,a=s(a._payload),t.type=a,s=t.tag=ux(a),e=pr(a,e),s){case 0:t=Zi(null,t,a,e,r);break e;case 1:t=Du(null,t,a,e,r);break e;case 11:t=Eu(null,t,a,e,r);break e;case 14:t=Cu(null,t,a,pr(a.type,e),r);break e}throw Error(Q(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:pr(a,s),Zi(e,t,a,s,r);case 1:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:pr(a,s),Du(e,t,a,s,r);case 3:e:{if(jp(t),e===null)throw Error(Q(387));a=t.pendingProps,l=t.memoizedState,s=l.element,Qm(e,t),Kl(t,a,null,r);var o=t.memoizedState;if(a=o.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Ea(Error(Q(423)),t),t=Pu(e,t,a,r,s);break e}else if(a!==s){s=Ea(Error(Q(424)),t),t=Pu(e,t,a,r,s);break e}else for(tr=cn(t.stateNode.containerInfo.firstChild),rr=t,nt=!0,gr=null,r=Jm(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ja(),a===s){t=Hr(e,t,r);break e}Lt(e,t,a,r)}t=t.child}return t;case 5:return Xm(t),e===null&&Ji(t),a=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,o=s.children,Hi(a,s)?o=null:l!==null&&Hi(a,l)&&(t.flags|=32),Np(e,t),Lt(e,t,o,r),t.child;case 6:return e===null&&Ji(t),null;case 13:return Sp(e,t,r);case 4:return Zc(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Sa(t,null,a,r):Lt(e,t,a,r),t.child;case 11:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:pr(a,s),Eu(e,t,a,s,r);case 7:return Lt(e,t,t.pendingProps,r),t.child;case 8:return Lt(e,t,t.pendingProps.children,r),t.child;case 12:return Lt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,l=t.memoizedProps,o=s.value,Xe(ql,a._currentValue),a._currentValue=o,l!==null)if(wr(l.value,o)){if(l.children===s.children&&!Yt.current){t=Hr(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){o=l.child;for(var c=i.firstContext;c!==null;){if(c.context===a){if(l.tag===1){c=Fr(-1,r&-r),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),Ki(l.return,r,t),i.lanes|=r;break}c=c.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(Q(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),Ki(o,r,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Lt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,xa(t,r),s=ur(s),a=a(s),t.flags|=1,Lt(e,t,a,r),t.child;case 14:return a=t.type,s=pr(a,t.pendingProps),s=pr(a.type,s),Cu(e,t,a,s,r);case 15:return wp(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:pr(a,s),jl(e,t),t.tag=1,qt(a)?(e=!0,Wl(t)):e=!1,xa(t,r),gp(t,a,s),Xi(t,a,s,r),ec(null,t,a,!0,e,r);case 19:return kp(e,t,r);case 22:return bp(e,t,r)}throw Error(Q(156,t.tag))};function Up(e,t){return pm(e,t)}function dx(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(e,t,r,a){return new dx(e,t,r,a)}function pd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ux(e){if(typeof e=="function")return pd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_c)return 11;if(e===Ic)return 14}return 2}function mn(e,t){var r=e.alternate;return r===null?(r=cr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function El(e,t,r,a,s,l){var o=2;if(a=e,typeof e=="function")pd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case na:return Ln(r.children,s,l,t);case Ac:o=8,s|=8;break;case bi:return e=cr(12,r,t,s|2),e.elementType=bi,e.lanes=l,e;case Ni:return e=cr(13,r,t,s),e.elementType=Ni,e.lanes=l,e;case ji:return e=cr(19,r,t,s),e.elementType=ji,e.lanes=l,e;case Xf:return No(r,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kf:o=10;break e;case Qf:o=9;break e;case _c:o=11;break e;case Ic:o=14;break e;case Xr:o=16,a=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=cr(o,r,t,s),t.elementType=e,t.type=a,t.lanes=l,t}function Ln(e,t,r,a){return e=cr(7,e,a,t),e.lanes=r,e}function No(e,t,r,a){return e=cr(22,e,a,t),e.elementType=Xf,e.lanes=r,e.stateNode={isHidden:!1},e}function ui(e,t,r){return e=cr(6,e,null,t),e.lanes=r,e}function fi(e,t,r){return t=cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fx(e,t,r,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yo(0),this.expirationTimes=Yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yo(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hd(e,t,r,a,s,l,o,i,c){return e=new fx(e,t,r,i,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=cr(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gc(l),e}function mx(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ra,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function Bp(e){if(!e)return gn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var r=e.type;if(qt(r))return Bm(e,r,t)}return t}function Hp(e,t,r,a,s,l,o,i,c){return e=hd(r,a,!0,e,s,l,o,i,c),e.context=Bp(null),r=e.current,a=Ft(),s=fn(r),l=Fr(a,s),l.callback=t??null,dn(r,l,s),e.current.lanes=s,zs(e,s,a),Jt(e,a),e}function jo(e,t,r,a){var s=t.current,l=Ft(),o=fn(s);return r=Bp(r),t.context===null?t.context=r:t.pendingContext=r,t=Fr(l,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=dn(s,t,o),e!==null&&(vr(e,s,o,l),wl(e,s,o)),o}function no(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yd(e,t){zu(e,t),(e=e.alternate)&&zu(e,t)}function px(){return null}var Wp=typeof reportError=="function"?reportError:function(e){console.error(e)};function gd(e){this._internalRoot=e}So.prototype.render=gd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));jo(e,t,null,null)};So.prototype.unmount=gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bn(function(){jo(null,e,null,null)}),t[Ur]=null}};function So(e){this._internalRoot=e}So.prototype.unstable_scheduleHydration=function(e){if(e){var t=bm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<en.length&&t!==0&&t<en[r].priority;r++);en.splice(r,0,e),r===0&&jm(e)}};function xd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $u(){}function hx(e,t,r,a,s){if(s){if(typeof a=="function"){var l=a;a=function(){var d=no(o);l.call(d)}}var o=Hp(t,a,e,0,null,!1,!1,"",$u);return e._reactRootContainer=o,e[Ur]=o.current,Ns(e.nodeType===8?e.parentNode:e),Bn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var i=a;a=function(){var d=no(c);i.call(d)}}var c=hd(e,0,!1,null,null,!1,!1,"",$u);return e._reactRootContainer=c,e[Ur]=c.current,Ns(e.nodeType===8?e.parentNode:e),Bn(function(){jo(t,c,r,a)}),c}function Eo(e,t,r,a,s){var l=r._reactRootContainer;if(l){var o=l;if(typeof s=="function"){var i=s;s=function(){var c=no(o);i.call(c)}}jo(t,o,e,s)}else o=hx(r,t,e,s,a);return no(o)}vm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=rs(t.pendingLanes);r!==0&&(Mc(t,r|1),Jt(t,pt()),!(ze&6)&&(Ca=pt()+500,wn()))}break;case 13:Bn(function(){var a=Br(e,1);if(a!==null){var s=Ft();vr(a,e,1,s)}}),yd(e,1)}};Fc=function(e){if(e.tag===13){var t=Br(e,134217728);if(t!==null){var r=Ft();vr(t,e,134217728,r)}yd(e,134217728)}};wm=function(e){if(e.tag===13){var t=fn(e),r=Br(e,t);if(r!==null){var a=Ft();vr(r,e,t,a)}yd(e,t)}};bm=function(){return Ye};Nm=function(e,t){var r=Ye;try{return Ye=e,t()}finally{Ye=r}};_i=function(e,t,r){switch(t){case"input":if(Ei(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var s=yo(a);if(!s)throw Error(Q(90));Zf(a),Ei(a,s)}}}break;case"textarea":tm(e,r);break;case"select":t=r.value,t!=null&&pa(e,!!r.multiple,t,!1)}};im=ud;cm=Bn;var yx={usingClientEntryPoint:!1,Events:[Us,oa,yo,lm,om,ud]},Ja={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gx={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fm(e),e===null?null:e.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||px,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{fo=fl.inject(gx),Pr=fl}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yx;ar.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xd(t))throw Error(Q(200));return mx(e,t,null,r)};ar.createRoot=function(e,t){if(!xd(e))throw Error(Q(299));var r=!1,a="",s=Wp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=hd(e,1,!1,null,null,r,!1,a,s),e[Ur]=t.current,Ns(e.nodeType===8?e.parentNode:e),new gd(t)};ar.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=fm(t),e=e===null?null:e.stateNode,e};ar.flushSync=function(e){return Bn(e)};ar.hydrate=function(e,t,r){if(!ko(t))throw Error(Q(200));return Eo(null,e,t,!0,r)};ar.hydrateRoot=function(e,t,r){if(!xd(e))throw Error(Q(405));var a=r!=null&&r.hydratedSources||null,s=!1,l="",o=Wp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Hp(t,null,e,1,r??null,s,!1,l,o),e[Ur]=t.current,Ns(e),a)for(e=0;e<a.length;e++)r=a[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new So(t)};ar.render=function(e,t,r){if(!ko(t))throw Error(Q(200));return Eo(null,e,t,!1,r)};ar.unmountComponentAtNode=function(e){if(!ko(e))throw Error(Q(40));return e._reactRootContainer?(Bn(function(){Eo(null,null,e,!1,function(){e._reactRootContainer=null,e[Ur]=null})}),!0):!1};ar.unstable_batchedUpdates=ud;ar.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!ko(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return Eo(e,t,r,!1,a)};ar.version="18.3.1-next-f1338f8080-20240426";function Vp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vp)}catch(e){console.error(e)}}Vp(),Vf.exports=ar;var vd=Vf.exports;const xx=_f(vd),vx=Af({__proto__:null,default:xx},[vd]);var Yp,Uu=vd;Yp=Uu.createRoot,Uu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rt(){return rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rt.apply(this,arguments)}var yt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yt||(yt={}));const Bu="popstate";function wx(e){e===void 0&&(e={});function t(a,s){let{pathname:l,search:o,hash:i}=a.location;return Rs("",{pathname:l,search:o,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:Hn(s)}return Nx(t,r,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Da(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bx(){return Math.random().toString(36).substr(2,8)}function Hu(e,t){return{usr:e.state,key:e.key,idx:t}}function Rs(e,t,r,a){return r===void 0&&(r=null),rt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bn(t):t,{state:r,key:t&&t.key||a||bx()})}function Hn(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function bn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Nx(e,t,r,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:l=!1}=a,o=s.history,i=yt.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(rt({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function m(){i=yt.Pop;let b=u(),h=b==null?null:b-d;d=b,c&&c({action:i,location:S.location,delta:h})}function y(b,h){i=yt.Push;let f=Rs(S.location,b,h);d=u()+1;let p=Hu(f,d),N=S.createHref(f);try{o.pushState(p,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(N)}l&&c&&c({action:i,location:S.location,delta:1})}function w(b,h){i=yt.Replace;let f=Rs(S.location,b,h);d=u();let p=Hu(f,d),N=S.createHref(f);o.replaceState(p,"",N),l&&c&&c({action:i,location:S.location,delta:0})}function v(b){let h=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof b=="string"?b:Hn(b);return f=f.replace(/ $/,"%20"),Le(h,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,h)}let S={get action(){return i},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Bu,m),c=b,()=>{s.removeEventListener(Bu,m),c=null}},createHref(b){return t(s,b)},createURL:v,encodeLocation(b){let h=v(b);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:y,replace:w,go(b){return o.go(b)}};return S}var Ve;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ve||(Ve={}));const jx=new Set(["lazy","caseSensitive","path","id","index","children"]);function Sx(e){return e.index===!0}function ao(e,t,r,a){return r===void 0&&(r=[]),a===void 0&&(a={}),e.map((s,l)=>{let o=[...r,String(l)],i=typeof s.id=="string"?s.id:o.join("-");if(Le(s.index!==!0||!s.children,"Cannot specify children on an index route"),Le(!a[i],'Found a route id collision on id "'+i+`".  Route id's must be globally unique within Data Router usages`),Sx(s)){let c=rt({},s,t(s),{id:i});return a[i]=c,c}else{let c=rt({},s,t(s),{id:i,children:void 0});return a[i]=c,s.children&&(c.children=ao(s.children,t,o,a)),c}})}function Cn(e,t,r){return r===void 0&&(r="/"),Cl(e,t,r,!1)}function Cl(e,t,r,a){let s=typeof t=="string"?bn(t):t,l=Aa(s.pathname||"/",r);if(l==null)return null;let o=qp(e);Ex(o);let i=null;for(let c=0;i==null&&c<o.length;++c){let d=Mx(l);i=Lx(o[c],d,a)}return i}function kx(e,t){let{route:r,pathname:a,params:s}=e;return{id:r.id,pathname:a,params:s,data:t[r.id],handle:r.handle}}function qp(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let s=(l,o,i)=>{let c={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};c.relativePath.startsWith("/")&&(Le(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=zr([a,c.relativePath]),u=r.concat(c);l.children&&l.children.length>0&&(Le(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),qp(l.children,t,u,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:_x(d,l.index),routesMeta:u})};return e.forEach((l,o)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))s(l,o);else for(let c of Jp(l.path))s(l,o,c)}),t}function Jp(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return s?[l,""]:[l];let o=Jp(a.join("/")),i=[];return i.push(...o.map(c=>c===""?l:[l,c].join("/"))),s&&i.push(...o),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function Ex(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ix(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const Cx=/^:[\w-]+$/,Dx=3,Px=2,Tx=1,Rx=10,Ax=-2,Wu=e=>e==="*";function _x(e,t){let r=e.split("/"),a=r.length;return r.some(Wu)&&(a+=Ax),t&&(a+=Px),r.filter(s=>!Wu(s)).reduce((s,l)=>s+(Cx.test(l)?Dx:l===""?Tx:Rx),a)}function Ix(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function Lx(e,t,r){r===void 0&&(r=!1);let{routesMeta:a}=e,s={},l="/",o=[];for(let i=0;i<a.length;++i){let c=a[i],d=i===a.length-1,u=l==="/"?t:t.slice(l.length)||"/",m=Vu({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),y=c.route;if(!m&&d&&r&&!a[a.length-1].route.index&&(m=Vu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:zr([l,m.pathname]),pathnameBase:$x(zr([l,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(l=zr([l,m.pathnameBase]))}return o}function Vu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=Ox(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let l=s[0],o=l.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:a.reduce((d,u,m)=>{let{paramName:y,isOptional:w}=u;if(y==="*"){let S=i[m]||"";o=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const v=i[m];return w&&!v?d[y]=void 0:d[y]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:o,pattern:e}}function Ox(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Da(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,c)=>(a.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function Mx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Da(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Aa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function Fx(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?bn(e):e;return{pathname:r?r.startsWith("/")?r:zx(r,t):t,search:Ux(a),hash:Bx(s)}}function zx(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function mi(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kp(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function wd(e,t){let r=Kp(e);return t?r.map((a,s)=>s===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function bd(e,t,r,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=bn(e):(s=rt({},e),Le(!s.pathname||!s.pathname.includes("?"),mi("?","pathname","search",s)),Le(!s.pathname||!s.pathname.includes("#"),mi("#","pathname","hash",s)),Le(!s.search||!s.search.includes("#"),mi("#","search","hash",s)));let l=e===""||s.pathname==="",o=l?"/":s.pathname,i;if(o==null)i=r;else{let m=t.length-1;if(!a&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}i=m>=0?t[m]:"/"}let c=Fx(s,i),d=o&&o!=="/"&&o.endsWith("/"),u=(l||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const zr=e=>e.join("/").replace(/\/\/+/g,"/"),$x=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ux=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Bx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class so{constructor(t,r,a,s){s===void 0&&(s=!1),this.status=t,this.statusText=r||"",this.internal=s,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}}function As(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Qp=["post","put","patch","delete"],Hx=new Set(Qp),Wx=["get",...Qp],Vx=new Set(Wx),Yx=new Set([301,302,303,307,308]),qx=new Set([307,308]),pi={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Jx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ka={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Nd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kx=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Xp="remix-router-transitions";function Qx(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",a=!r;Le(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let E=e.detectErrorBoundary;s=_=>({hasErrorBoundary:E(_)})}else s=Kx;let l={},o=ao(e.routes,s,void 0,l),i,c=e.basename||"/",d=e.dataStrategy||e0,u=e.patchRoutesOnNavigation,m=rt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),y=null,w=new Set,v=null,S=null,b=null,h=e.hydrationData!=null,f=Cn(o,e.history.location,c),p=!1,N=null;if(f==null&&!u){let E=Bt(404,{pathname:e.history.location.pathname}),{matches:_,route:z}=rf(o);f=_,N={[z.id]:E}}f&&!e.hydrationData&&je(f,o,e.history.location.pathname).active&&(f=null);let k;if(f)if(f.some(E=>E.route.lazy))k=!1;else if(!f.some(E=>E.route.loader))k=!0;else if(m.v7_partialHydration){let E=e.hydrationData?e.hydrationData.loaderData:null,_=e.hydrationData?e.hydrationData.errors:null;if(_){let z=f.findIndex(q=>_[q.route.id]!==void 0);k=f.slice(0,z+1).every(q=>!mc(q.route,E,_))}else k=f.every(z=>!mc(z.route,E,_))}else k=e.hydrationData!=null;else if(k=!1,f=[],m.v7_partialHydration){let E=je(null,o,e.history.location.pathname);E.active&&E.matches&&(p=!0,f=E.matches)}let j,g={historyAction:e.history.action,location:e.history.location,matches:f,initialized:k,navigation:pi,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||N,fetchers:new Map,blockers:new Map},R=yt.Pop,V=!1,O,ee=!1,ue=new Map,ne=null,ge=!1,ye=!1,Ee=[],He=new Set,W=new Map,de=0,he=-1,ke=new Map,fe=new Set,Je=new Map,K=new Map,Z=new Set,se=new Map,ae=new Map,we;function qe(){if(y=e.history.listen(E=>{let{action:_,location:z,delta:q}=E;if(we){we(),we=void 0;return}Da(ae.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=wt({currentLocation:g.location,nextLocation:z,historyAction:_});if(te&&q!=null){let le=new Promise(Ne=>{we=Ne});e.history.go(q*-1),Rr(te,{state:"blocked",location:z,proceed(){Rr(te,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),le.then(()=>e.history.go(q))},reset(){let Ne=new Map(g.blockers);Ne.set(te,Ka),_e({blockers:Ne})}});return}return et(_,z)}),r){p0(t,ue);let E=()=>h0(t,ue);t.addEventListener("pagehide",E),ne=()=>t.removeEventListener("pagehide",E)}return g.initialized||et(yt.Pop,g.location,{initialHydration:!0}),j}function $e(){y&&y(),ne&&ne(),w.clear(),O&&O.abort(),g.fetchers.forEach((E,_)=>re(_)),g.blockers.forEach((E,_)=>mt(_))}function ft(E){return w.add(E),()=>w.delete(E)}function _e(E,_){_===void 0&&(_={}),g=rt({},g,E);let z=[],q=[];m.v7_fetcherPersist&&g.fetchers.forEach((te,le)=>{te.state==="idle"&&(Z.has(le)?q.push(le):z.push(le))}),Z.forEach(te=>{!g.fetchers.has(te)&&!W.has(te)&&q.push(te)}),[...w].forEach(te=>te(g,{deletedFetchers:q,viewTransitionOpts:_.viewTransitionOpts,flushSync:_.flushSync===!0})),m.v7_fetcherPersist?(z.forEach(te=>g.fetchers.delete(te)),q.forEach(te=>re(te))):q.forEach(te=>Z.delete(te))}function Ke(E,_,z){var q,te;let{flushSync:le}=z===void 0?{}:z,Ne=g.actionData!=null&&g.navigation.formMethod!=null&&yr(g.navigation.formMethod)&&g.navigation.state==="loading"&&((q=E.state)==null?void 0:q._isRedirect)!==!0,ie;_.actionData?Object.keys(_.actionData).length>0?ie=_.actionData:ie=null:Ne?ie=g.actionData:ie=null;let me=_.loaderData?ef(g.loaderData,_.loaderData,_.matches||[],_.errors):g.loaderData,ce=g.blockers;ce.size>0&&(ce=new Map(ce),ce.forEach((Me,St)=>ce.set(St,Ka)));let ve=V===!0||g.navigation.formMethod!=null&&yr(g.navigation.formMethod)&&((te=E.state)==null?void 0:te._isRedirect)!==!0;i&&(o=i,i=void 0),ge||R===yt.Pop||(R===yt.Push?e.history.push(E,E.state):R===yt.Replace&&e.history.replace(E,E.state));let Pe;if(R===yt.Pop){let Me=ue.get(g.location.pathname);Me&&Me.has(E.pathname)?Pe={currentLocation:g.location,nextLocation:E}:ue.has(E.pathname)&&(Pe={currentLocation:E,nextLocation:g.location})}else if(ee){let Me=ue.get(g.location.pathname);Me?Me.add(E.pathname):(Me=new Set([E.pathname]),ue.set(g.location.pathname,Me)),Pe={currentLocation:g.location,nextLocation:E}}_e(rt({},_,{actionData:ie,loaderData:me,historyAction:R,location:E,initialized:!0,navigation:pi,revalidation:"idle",restoreScrollPosition:Ie(E,_.matches||g.matches),preventScrollReset:ve,blockers:ce}),{viewTransitionOpts:Pe,flushSync:le===!0}),R=yt.Pop,V=!1,ee=!1,ge=!1,ye=!1,Ee=[]}async function Xt(E,_){if(typeof E=="number"){e.history.go(E);return}let z=fc(g.location,g.matches,c,m.v7_prependBasename,E,m.v7_relativeSplatPath,_==null?void 0:_.fromRouteId,_==null?void 0:_.relative),{path:q,submission:te,error:le}=Yu(m.v7_normalizeFormMethod,!1,z,_),Ne=g.location,ie=Rs(g.location,q,_&&_.state);ie=rt({},ie,e.history.encodeLocation(ie));let me=_&&_.replace!=null?_.replace:void 0,ce=yt.Push;me===!0?ce=yt.Replace:me===!1||te!=null&&yr(te.formMethod)&&te.formAction===g.location.pathname+g.location.search&&(ce=yt.Replace);let ve=_&&"preventScrollReset"in _?_.preventScrollReset===!0:void 0,Pe=(_&&_.flushSync)===!0,Me=wt({currentLocation:Ne,nextLocation:ie,historyAction:ce});if(Me){Rr(Me,{state:"blocked",location:ie,proceed(){Rr(Me,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),Xt(E,_)},reset(){let St=new Map(g.blockers);St.set(Me,Ka),_e({blockers:St})}});return}return await et(ce,ie,{submission:te,pendingError:le,preventScrollReset:ve,replace:_&&_.replace,enableViewTransition:_&&_.viewTransition,flushSync:Pe})}function _t(){if(T(),_e({revalidation:"loading"}),g.navigation.state!=="submitting"){if(g.navigation.state==="idle"){et(g.historyAction,g.location,{startUninterruptedRevalidation:!0});return}et(R||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation,enableViewTransition:ee===!0})}}async function et(E,_,z){O&&O.abort(),O=null,R=E,ge=(z&&z.startUninterruptedRevalidation)===!0,be(g.location,g.matches),V=(z&&z.preventScrollReset)===!0,ee=(z&&z.enableViewTransition)===!0;let q=i||o,te=z&&z.overrideNavigation,le=z!=null&&z.initialHydration&&g.matches&&g.matches.length>0&&!p?g.matches:Cn(q,_,c),Ne=(z&&z.flushSync)===!0;if(le&&g.initialized&&!ye&&l0(g.location,_)&&!(z&&z.submission&&yr(z.submission.formMethod))){Ke(_,{matches:le},{flushSync:Ne});return}let ie=je(le,q,_.pathname);if(ie.active&&ie.matches&&(le=ie.matches),!le){let{error:Qe,notFoundMatches:Be,route:ct}=D(_.pathname);Ke(_,{matches:Be,loaderData:{},errors:{[ct.id]:Qe}},{flushSync:Ne});return}O=new AbortController;let me=ea(e.history,_,O.signal,z&&z.submission),ce;if(z&&z.pendingError)ce=[Dn(le).route.id,{type:Ve.error,error:z.pendingError}];else if(z&&z.submission&&yr(z.submission.formMethod)){let Qe=await Ut(me,_,z.submission,le,ie.active,{replace:z.replace,flushSync:Ne});if(Qe.shortCircuited)return;if(Qe.pendingActionResult){let[Be,ct]=Qe.pendingActionResult;if(er(ct)&&As(ct.error)&&ct.error.status===404){O=null,Ke(_,{matches:Qe.matches,loaderData:{},errors:{[Be]:ct.error}});return}}le=Qe.matches||le,ce=Qe.pendingActionResult,te=hi(_,z.submission),Ne=!1,ie.active=!1,me=ea(e.history,me.url,me.signal)}let{shortCircuited:ve,matches:Pe,loaderData:Me,errors:St}=await lr(me,_,le,ie.active,te,z&&z.submission,z&&z.fetcherSubmission,z&&z.replace,z&&z.initialHydration===!0,Ne,ce);ve||(O=null,Ke(_,rt({matches:Pe||le},tf(ce),{loaderData:Me,errors:St})))}async function Ut(E,_,z,q,te,le){le===void 0&&(le={}),T();let Ne=f0(_,z);if(_e({navigation:Ne},{flushSync:le.flushSync===!0}),te){let ce=await We(q,_.pathname,E.signal);if(ce.type==="aborted")return{shortCircuited:!0};if(ce.type==="error"){let ve=Dn(ce.partialMatches).route.id;return{matches:ce.partialMatches,pendingActionResult:[ve,{type:Ve.error,error:ce.error}]}}else if(ce.matches)q=ce.matches;else{let{notFoundMatches:ve,error:Pe,route:Me}=D(_.pathname);return{matches:ve,pendingActionResult:[Me.id,{type:Ve.error,error:Pe}]}}}let ie,me=as(q,_);if(!me.route.action&&!me.route.lazy)ie={type:Ve.error,error:Bt(405,{method:E.method,pathname:_.pathname,routeId:me.route.id})};else if(ie=(await P("action",g,E,[me],q,null))[me.route.id],E.signal.aborted)return{shortCircuited:!0};if(An(ie)){let ce;return le&&le.replace!=null?ce=le.replace:ce=Xu(ie.response.headers.get("Location"),new URL(E.url),c)===g.location.pathname+g.location.search,await Y(E,ie,!0,{submission:z,replace:ce}),{shortCircuited:!0}}if(an(ie))throw Bt(400,{type:"defer-action"});if(er(ie)){let ce=Dn(q,me.route.id);return(le&&le.replace)!==!0&&(R=yt.Push),{matches:q,pendingActionResult:[ce.route.id,ie]}}return{matches:q,pendingActionResult:[me.route.id,ie]}}async function lr(E,_,z,q,te,le,Ne,ie,me,ce,ve){let Pe=te||hi(_,le),Me=le||Ne||af(Pe),St=!ge&&(!m.v7_partialHydration||!me);if(q){if(St){let dt=It(ve);_e(rt({navigation:Pe},dt!==void 0?{actionData:dt}:{}),{flushSync:ce})}let Ue=await We(z,_.pathname,E.signal);if(Ue.type==="aborted")return{shortCircuited:!0};if(Ue.type==="error"){let dt=Dn(Ue.partialMatches).route.id;return{matches:Ue.partialMatches,loaderData:{},errors:{[dt]:Ue.error}}}else if(Ue.matches)z=Ue.matches;else{let{error:dt,notFoundMatches:Xn,route:$a}=D(_.pathname);return{matches:Xn,loaderData:{},errors:{[$a.id]:dt}}}}let Qe=i||o,[Be,ct]=Ju(e.history,g,z,Me,_,m.v7_partialHydration&&me===!0,m.v7_skipActionErrorRevalidation,ye,Ee,He,Z,Je,fe,Qe,c,ve);if($(Ue=>!(z&&z.some(dt=>dt.route.id===Ue))||Be&&Be.some(dt=>dt.route.id===Ue)),he=++de,Be.length===0&&ct.length===0){let Ue=xe();return Ke(_,rt({matches:z,loaderData:{},errors:ve&&er(ve[1])?{[ve[0]]:ve[1].error}:null},tf(ve),Ue?{fetchers:new Map(g.fetchers)}:{}),{flushSync:ce}),{shortCircuited:!0}}if(St){let Ue={};if(!q){Ue.navigation=Pe;let dt=It(ve);dt!==void 0&&(Ue.actionData=dt)}ct.length>0&&(Ue.fetchers=I(ct)),_e(Ue,{flushSync:ce})}ct.forEach(Ue=>{De(Ue.key),Ue.controller&&W.set(Ue.key,Ue.controller)});let Qn=()=>ct.forEach(Ue=>De(Ue.key));O&&O.signal.addEventListener("abort",Qn);let{loaderResults:Fa,fetcherResults:Ar}=await M(g,z,Be,ct,E);if(E.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Qn),ct.forEach(Ue=>W.delete(Ue.key));let jr=ml(Fa);if(jr)return await Y(E,jr.result,!0,{replace:ie}),{shortCircuited:!0};if(jr=ml(Ar),jr)return fe.add(jr.key),await Y(E,jr.result,!0,{replace:ie}),{shortCircuited:!0};let{loaderData:$o,errors:za}=Zu(g,z,Fa,ve,ct,Ar,se);se.forEach((Ue,dt)=>{Ue.subscribe(Xn=>{(Xn||Ue.done)&&se.delete(dt)})}),m.v7_partialHydration&&me&&g.errors&&(za=rt({},g.errors,za));let Sn=xe(),Js=jt(he),Ks=Sn||Js||ct.length>0;return rt({matches:z,loaderData:$o,errors:za},Ks?{fetchers:new Map(g.fetchers)}:{})}function It(E){if(E&&!er(E[1]))return{[E[0]]:E[1].data};if(g.actionData)return Object.keys(g.actionData).length===0?null:g.actionData}function I(E){return E.forEach(_=>{let z=g.fetchers.get(_.key),q=Qa(void 0,z?z.data:void 0);g.fetchers.set(_.key,q)}),new Map(g.fetchers)}function C(E,_,z,q){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");De(E);let te=(q&&q.flushSync)===!0,le=i||o,Ne=fc(g.location,g.matches,c,m.v7_prependBasename,z,m.v7_relativeSplatPath,_,q==null?void 0:q.relative),ie=Cn(le,Ne,c),me=je(ie,le,Ne);if(me.active&&me.matches&&(ie=me.matches),!ie){H(E,_,Bt(404,{pathname:Ne}),{flushSync:te});return}let{path:ce,submission:ve,error:Pe}=Yu(m.v7_normalizeFormMethod,!0,Ne,q);if(Pe){H(E,_,Pe,{flushSync:te});return}let Me=as(ie,ce),St=(q&&q.preventScrollReset)===!0;if(ve&&yr(ve.formMethod)){L(E,_,ce,Me,ie,me.active,te,St,ve);return}Je.set(E,{routeId:_,path:ce}),J(E,_,ce,Me,ie,me.active,te,St,ve)}async function L(E,_,z,q,te,le,Ne,ie,me){T(),Je.delete(E);function ce(ht){if(!ht.route.action&&!ht.route.lazy){let Gn=Bt(405,{method:me.formMethod,pathname:z,routeId:_});return H(E,_,Gn,{flushSync:Ne}),!0}return!1}if(!le&&ce(q))return;let ve=g.fetchers.get(E);A(E,m0(me,ve),{flushSync:Ne});let Pe=new AbortController,Me=ea(e.history,z,Pe.signal,me);if(le){let ht=await We(te,new URL(Me.url).pathname,Me.signal,E);if(ht.type==="aborted")return;if(ht.type==="error"){H(E,_,ht.error,{flushSync:Ne});return}else if(ht.matches){if(te=ht.matches,q=as(te,z),ce(q))return}else{H(E,_,Bt(404,{pathname:z}),{flushSync:Ne});return}}W.set(E,Pe);let St=de,Be=(await P("action",g,Me,[q],te,E))[q.route.id];if(Me.signal.aborted){W.get(E)===Pe&&W.delete(E);return}if(m.v7_fetcherPersist&&Z.has(E)){if(An(Be)||er(Be)){A(E,Qr(void 0));return}}else{if(An(Be))if(W.delete(E),he>St){A(E,Qr(void 0));return}else return fe.add(E),A(E,Qa(me)),Y(Me,Be,!1,{fetcherSubmission:me,preventScrollReset:ie});if(er(Be)){H(E,_,Be.error);return}}if(an(Be))throw Bt(400,{type:"defer-action"});let ct=g.navigation.location||g.location,Qn=ea(e.history,ct,Pe.signal),Fa=i||o,Ar=g.navigation.state!=="idle"?Cn(Fa,g.navigation.location,c):g.matches;Le(Ar,"Didn't find any matches after fetcher action");let jr=++de;ke.set(E,jr);let $o=Qa(me,Be.data);g.fetchers.set(E,$o);let[za,Sn]=Ju(e.history,g,Ar,me,ct,!1,m.v7_skipActionErrorRevalidation,ye,Ee,He,Z,Je,fe,Fa,c,[q.route.id,Be]);Sn.filter(ht=>ht.key!==E).forEach(ht=>{let Gn=ht.key,Ad=g.fetchers.get(Gn),Vh=Qa(void 0,Ad?Ad.data:void 0);g.fetchers.set(Gn,Vh),De(Gn),ht.controller&&W.set(Gn,ht.controller)}),_e({fetchers:new Map(g.fetchers)});let Js=()=>Sn.forEach(ht=>De(ht.key));Pe.signal.addEventListener("abort",Js);let{loaderResults:Ks,fetcherResults:Ue}=await M(g,Ar,za,Sn,Qn);if(Pe.signal.aborted)return;Pe.signal.removeEventListener("abort",Js),ke.delete(E),W.delete(E),Sn.forEach(ht=>W.delete(ht.key));let dt=ml(Ks);if(dt)return Y(Qn,dt.result,!1,{preventScrollReset:ie});if(dt=ml(Ue),dt)return fe.add(dt.key),Y(Qn,dt.result,!1,{preventScrollReset:ie});let{loaderData:Xn,errors:$a}=Zu(g,Ar,Ks,void 0,Sn,Ue,se);if(g.fetchers.has(E)){let ht=Qr(Be.data);g.fetchers.set(E,ht)}jt(jr),g.navigation.state==="loading"&&jr>he?(Le(R,"Expected pending action"),O&&O.abort(),Ke(g.navigation.location,{matches:Ar,loaderData:Xn,errors:$a,fetchers:new Map(g.fetchers)})):(_e({errors:$a,loaderData:ef(g.loaderData,Xn,Ar,$a),fetchers:new Map(g.fetchers)}),ye=!1)}async function J(E,_,z,q,te,le,Ne,ie,me){let ce=g.fetchers.get(E);A(E,Qa(me,ce?ce.data:void 0),{flushSync:Ne});let ve=new AbortController,Pe=ea(e.history,z,ve.signal);if(le){let Be=await We(te,new URL(Pe.url).pathname,Pe.signal,E);if(Be.type==="aborted")return;if(Be.type==="error"){H(E,_,Be.error,{flushSync:Ne});return}else if(Be.matches)te=Be.matches,q=as(te,z);else{H(E,_,Bt(404,{pathname:z}),{flushSync:Ne});return}}W.set(E,ve);let Me=de,Qe=(await P("loader",g,Pe,[q],te,E))[q.route.id];if(an(Qe)&&(Qe=await jd(Qe,Pe.signal,!0)||Qe),W.get(E)===ve&&W.delete(E),!Pe.signal.aborted){if(Z.has(E)){A(E,Qr(void 0));return}if(An(Qe))if(he>Me){A(E,Qr(void 0));return}else{fe.add(E),await Y(Pe,Qe,!1,{preventScrollReset:ie});return}if(er(Qe)){H(E,_,Qe.error);return}Le(!an(Qe),"Unhandled fetcher deferred data"),A(E,Qr(Qe.data))}}async function Y(E,_,z,q){let{submission:te,fetcherSubmission:le,preventScrollReset:Ne,replace:ie}=q===void 0?{}:q;_.response.headers.has("X-Remix-Revalidate")&&(ye=!0);let me=_.response.headers.get("Location");Le(me,"Expected a Location header on the redirect Response"),me=Xu(me,new URL(E.url),c);let ce=Rs(g.location,me,{_isRedirect:!0});if(r){let Be=!1;if(_.response.headers.has("X-Remix-Reload-Document"))Be=!0;else if(Nd.test(me)){const ct=e.history.createURL(me);Be=ct.origin!==t.location.origin||Aa(ct.pathname,c)==null}if(Be){ie?t.location.replace(me):t.location.assign(me);return}}O=null;let ve=ie===!0||_.response.headers.has("X-Remix-Replace")?yt.Replace:yt.Push,{formMethod:Pe,formAction:Me,formEncType:St}=g.navigation;!te&&!le&&Pe&&Me&&St&&(te=af(g.navigation));let Qe=te||le;if(qx.has(_.response.status)&&Qe&&yr(Qe.formMethod))await et(ve,ce,{submission:rt({},Qe,{formAction:me}),preventScrollReset:Ne||V,enableViewTransition:z?ee:void 0});else{let Be=hi(ce,te);await et(ve,ce,{overrideNavigation:Be,fetcherSubmission:le,preventScrollReset:Ne||V,enableViewTransition:z?ee:void 0})}}async function P(E,_,z,q,te,le){let Ne,ie={};try{Ne=await t0(d,E,_,z,q,te,le,l,s)}catch(me){return q.forEach(ce=>{ie[ce.route.id]={type:Ve.error,error:me}}),ie}for(let[me,ce]of Object.entries(Ne))if(o0(ce)){let ve=ce.result;ie[me]={type:Ve.redirect,response:a0(ve,z,me,te,c,m.v7_relativeSplatPath)}}else ie[me]=await n0(ce);return ie}async function M(E,_,z,q,te){let le=E.matches,Ne=P("loader",E,te,z,_,null),ie=Promise.all(q.map(async ve=>{if(ve.matches&&ve.match&&ve.controller){let Me=(await P("loader",E,ea(e.history,ve.path,ve.controller.signal),[ve.match],ve.matches,ve.key))[ve.match.route.id];return{[ve.key]:Me}}else return Promise.resolve({[ve.key]:{type:Ve.error,error:Bt(404,{pathname:ve.path})}})})),me=await Ne,ce=(await ie).reduce((ve,Pe)=>Object.assign(ve,Pe),{});return await Promise.all([d0(_,me,te.signal,le,E.loaderData),u0(_,ce,q)]),{loaderResults:me,fetcherResults:ce}}function T(){ye=!0,Ee.push(...$()),Je.forEach((E,_)=>{W.has(_)&&He.add(_),De(_)})}function A(E,_,z){z===void 0&&(z={}),g.fetchers.set(E,_),_e({fetchers:new Map(g.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function H(E,_,z,q){q===void 0&&(q={});let te=Dn(g.matches,_);re(E),_e({errors:{[te.route.id]:z},fetchers:new Map(g.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function G(E){return K.set(E,(K.get(E)||0)+1),Z.has(E)&&Z.delete(E),g.fetchers.get(E)||Jx}function re(E){let _=g.fetchers.get(E);W.has(E)&&!(_&&_.state==="loading"&&ke.has(E))&&De(E),Je.delete(E),ke.delete(E),fe.delete(E),m.v7_fetcherPersist&&Z.delete(E),He.delete(E),g.fetchers.delete(E)}function Se(E){let _=(K.get(E)||0)-1;_<=0?(K.delete(E),Z.add(E),m.v7_fetcherPersist||re(E)):K.set(E,_),_e({fetchers:new Map(g.fetchers)})}function De(E){let _=W.get(E);_&&(_.abort(),W.delete(E))}function Fe(E){for(let _ of E){let z=G(_),q=Qr(z.data);g.fetchers.set(_,q)}}function xe(){let E=[],_=!1;for(let z of fe){let q=g.fetchers.get(z);Le(q,"Expected fetcher: "+z),q.state==="loading"&&(fe.delete(z),E.push(z),_=!0)}return Fe(E),_}function jt(E){let _=[];for(let[z,q]of ke)if(q<E){let te=g.fetchers.get(z);Le(te,"Expected fetcher: "+z),te.state==="loading"&&(De(z),ke.delete(z),_.push(z))}return Fe(_),_.length>0}function jn(E,_){let z=g.blockers.get(E)||Ka;return ae.get(E)!==_&&ae.set(E,_),z}function mt(E){g.blockers.delete(E),ae.delete(E)}function Rr(E,_){let z=g.blockers.get(E)||Ka;Le(z.state==="unblocked"&&_.state==="blocked"||z.state==="blocked"&&_.state==="blocked"||z.state==="blocked"&&_.state==="proceeding"||z.state==="blocked"&&_.state==="unblocked"||z.state==="proceeding"&&_.state==="unblocked","Invalid blocker state transition: "+z.state+" -> "+_.state);let q=new Map(g.blockers);q.set(E,_),_e({blockers:q})}function wt(E){let{currentLocation:_,nextLocation:z,historyAction:q}=E;if(ae.size===0)return;ae.size>1&&Da(!1,"A router only supports one blocker at a time");let te=Array.from(ae.entries()),[le,Ne]=te[te.length-1],ie=g.blockers.get(le);if(!(ie&&ie.state==="proceeding")&&Ne({currentLocation:_,nextLocation:z,historyAction:q}))return le}function D(E){let _=Bt(404,{pathname:E}),z=i||o,{matches:q,route:te}=rf(z);return $(),{notFoundMatches:q,route:te,error:_}}function $(E){let _=[];return se.forEach((z,q)=>{(!E||E(q))&&(z.cancel(),_.push(q),se.delete(q))}),_}function U(E,_,z){if(v=E,b=_,S=z||null,!h&&g.navigation===pi){h=!0;let q=Ie(g.location,g.matches);q!=null&&_e({restoreScrollPosition:q})}return()=>{v=null,b=null,S=null}}function X(E,_){return S&&S(E,_.map(q=>kx(q,g.loaderData)))||E.key}function be(E,_){if(v&&b){let z=X(E,_);v[z]=b()}}function Ie(E,_){if(v){let z=X(E,_),q=v[z];if(typeof q=="number")return q}return null}function je(E,_,z){if(u)if(E){if(Object.keys(E[0].params).length>0)return{active:!0,matches:Cl(_,z,c,!0)}}else return{active:!0,matches:Cl(_,z,c,!0)||[]};return{active:!1,matches:null}}async function We(E,_,z,q){if(!u)return{type:"success",matches:E};let te=E;for(;;){let le=i==null,Ne=i||o,ie=l;try{await u({signal:z,path:_,matches:te,fetcherKey:q,patch:(ve,Pe)=>{z.aborted||Qu(ve,Pe,Ne,ie,s)}})}catch(ve){return{type:"error",error:ve,partialMatches:te}}finally{le&&!z.aborted&&(o=[...o])}if(z.aborted)return{type:"aborted"};let me=Cn(Ne,_,c);if(me)return{type:"success",matches:me};let ce=Cl(Ne,_,c,!0);if(!ce||te.length===ce.length&&te.every((ve,Pe)=>ve.route.id===ce[Pe].route.id))return{type:"success",matches:null};te=ce}}function Nr(E){l={},i=ao(E,s,void 0,l)}function Gt(E,_){let z=i==null;Qu(E,_,i||o,l,s),z&&(o=[...o],_e({}))}return j={get basename(){return c},get future(){return m},get state(){return g},get routes(){return o},get window(){return t},initialize:qe,subscribe:ft,enableScrollRestoration:U,navigate:Xt,fetch:C,revalidate:_t,createHref:E=>e.history.createHref(E),encodeLocation:E=>e.history.encodeLocation(E),getFetcher:G,deleteFetcher:Se,dispose:$e,getBlocker:jn,deleteBlocker:mt,patchRoutes:Gt,_internalFetchControllers:W,_internalActiveDeferreds:se,_internalSetRoutes:Nr},j}function Xx(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function fc(e,t,r,a,s,l,o,i){let c,d;if(o){c=[];for(let m of t)if(c.push(m),m.route.id===o){d=m;break}}else c=t,d=t[t.length-1];let u=bd(s||".",wd(c,l),Aa(e.pathname,r)||e.pathname,i==="path");if(s==null&&(u.search=e.search,u.hash=e.hash),(s==null||s===""||s===".")&&d){let m=Sd(u.search);if(d.route.index&&!m)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let y=new URLSearchParams(u.search),w=y.getAll("index");y.delete("index"),w.filter(S=>S).forEach(S=>y.append("index",S));let v=y.toString();u.search=v?"?"+v:""}}return a&&r!=="/"&&(u.pathname=u.pathname==="/"?r:zr([r,u.pathname])),Hn(u)}function Yu(e,t,r,a){if(!a||!Xx(a))return{path:r};if(a.formMethod&&!c0(a.formMethod))return{path:r,error:Bt(405,{method:a.formMethod})};let s=()=>({path:r,error:Bt(400,{type:"invalid-body"})}),l=a.formMethod||"get",o=e?l.toUpperCase():l.toLowerCase(),i=eh(r);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!yr(o))return s();let y=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((w,v)=>{let[S,b]=v;return""+w+S+"="+b+`
`},""):String(a.body);return{path:r,submission:{formMethod:o,formAction:i,formEncType:a.formEncType,formData:void 0,json:void 0,text:y}}}else if(a.formEncType==="application/json"){if(!yr(o))return s();try{let y=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:r,submission:{formMethod:o,formAction:i,formEncType:a.formEncType,formData:void 0,json:y,text:void 0}}}catch{return s()}}}Le(typeof FormData=="function","FormData is not available in this environment");let c,d;if(a.formData)c=pc(a.formData),d=a.formData;else if(a.body instanceof FormData)c=pc(a.body),d=a.body;else if(a.body instanceof URLSearchParams)c=a.body,d=Gu(c);else if(a.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(a.body),d=Gu(c)}catch{return s()}let u={formMethod:o,formAction:i,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(yr(u.formMethod))return{path:r,submission:u};let m=bn(r);return t&&m.search&&Sd(m.search)&&c.append("index",""),m.search="?"+c,{path:Hn(m),submission:u}}function qu(e,t,r){r===void 0&&(r=!1);let a=e.findIndex(s=>s.route.id===t);return a>=0?e.slice(0,r?a+1:a):e}function Ju(e,t,r,a,s,l,o,i,c,d,u,m,y,w,v,S){let b=S?er(S[1])?S[1].error:S[1].data:void 0,h=e.createURL(t.location),f=e.createURL(s),p=r;l&&t.errors?p=qu(r,Object.keys(t.errors)[0],!0):S&&er(S[1])&&(p=qu(r,S[0]));let N=S?S[1].statusCode:void 0,k=o&&N&&N>=400,j=p.filter((R,V)=>{let{route:O}=R;if(O.lazy)return!0;if(O.loader==null)return!1;if(l)return mc(O,t.loaderData,t.errors);if(Gx(t.loaderData,t.matches[V],R)||c.some(ne=>ne===R.route.id))return!0;let ee=t.matches[V],ue=R;return Ku(R,rt({currentUrl:h,currentParams:ee.params,nextUrl:f,nextParams:ue.params},a,{actionResult:b,actionStatus:N,defaultShouldRevalidate:k?!1:i||h.pathname+h.search===f.pathname+f.search||h.search!==f.search||Gp(ee,ue)}))}),g=[];return m.forEach((R,V)=>{if(l||!r.some(ge=>ge.route.id===R.routeId)||u.has(V))return;let O=Cn(w,R.path,v);if(!O){g.push({key:V,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let ee=t.fetchers.get(V),ue=as(O,R.path),ne=!1;y.has(V)?ne=!1:d.has(V)?(d.delete(V),ne=!0):ee&&ee.state!=="idle"&&ee.data===void 0?ne=i:ne=Ku(ue,rt({currentUrl:h,currentParams:t.matches[t.matches.length-1].params,nextUrl:f,nextParams:r[r.length-1].params},a,{actionResult:b,actionStatus:N,defaultShouldRevalidate:k?!1:i})),ne&&g.push({key:V,routeId:R.routeId,path:R.path,matches:O,match:ue,controller:new AbortController})}),[j,g]}function mc(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let a=t!=null&&t[e.id]!==void 0,s=r!=null&&r[e.id]!==void 0;return!a&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!a&&!s}function Gx(e,t,r){let a=!t||r.route.id!==t.route.id,s=e[r.route.id]===void 0;return a||s}function Gp(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ku(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function Qu(e,t,r,a,s){var l;let o;if(e){let d=a[e];Le(d,"No route found to patch children into: routeId = "+e),d.children||(d.children=[]),o=d.children}else o=r;let i=t.filter(d=>!o.some(u=>Zp(d,u))),c=ao(i,s,[e||"_","patch",String(((l=o)==null?void 0:l.length)||"0")],a);o.push(...c)}function Zp(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,a)=>{var s;return(s=t.children)==null?void 0:s.some(l=>Zp(r,l))}):!1}async function Zx(e,t,r){if(!e.lazy)return;let a=await e.lazy();if(!e.lazy)return;let s=r[e.id];Le(s,"No route found in manifest");let l={};for(let o in a){let c=s[o]!==void 0&&o!=="hasErrorBoundary";Da(!c,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!jx.has(o)&&(l[o]=a[o])}Object.assign(s,l),Object.assign(s,rt({},t(s),{lazy:void 0}))}async function e0(e){let{matches:t}=e,r=t.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,l,o)=>Object.assign(s,{[r[o].route.id]:l}),{})}async function t0(e,t,r,a,s,l,o,i,c,d){let u=l.map(w=>w.route.lazy?Zx(w.route,c,i):void 0),m=l.map((w,v)=>{let S=u[v],b=s.some(f=>f.route.id===w.route.id);return rt({},w,{shouldLoad:b,resolve:async f=>(f&&a.method==="GET"&&(w.route.lazy||w.route.loader)&&(b=!0),b?r0(t,a,w,S,f,d):Promise.resolve({type:Ve.data,result:void 0}))})}),y=await e({matches:m,request:a,params:l[0].params,fetcherKey:o,context:d});try{await Promise.all(u)}catch{}return y}async function r0(e,t,r,a,s,l){let o,i,c=d=>{let u,m=new Promise((v,S)=>u=S);i=()=>u(),t.signal.addEventListener("abort",i);let y=v=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):d({request:t,params:r.params,context:l},...v!==void 0?[v]:[]),w=(async()=>{try{return{type:"data",result:await(s?s(S=>y(S)):y())}}catch(v){return{type:"error",result:v}}})();return Promise.race([w,m])};try{let d=r.route[e];if(a)if(d){let u,[m]=await Promise.all([c(d).catch(y=>{u=y}),a]);if(u!==void 0)throw u;o=m}else if(await a,d=r.route[e],d)o=await c(d);else if(e==="action"){let u=new URL(t.url),m=u.pathname+u.search;throw Bt(405,{method:t.method,pathname:m,routeId:r.route.id})}else return{type:Ve.data,result:void 0};else if(d)o=await c(d);else{let u=new URL(t.url),m=u.pathname+u.search;throw Bt(404,{pathname:m})}Le(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Ve.error,result:d}}finally{i&&t.signal.removeEventListener("abort",i)}return o}async function n0(e){let{result:t,type:r}=e;if(th(t)){let m;try{let y=t.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?t.body==null?m=null:m=await t.json():m=await t.text()}catch(y){return{type:Ve.error,error:y}}return r===Ve.error?{type:Ve.error,error:new so(t.status,t.statusText,m),statusCode:t.status,headers:t.headers}:{type:Ve.data,data:m,statusCode:t.status,headers:t.headers}}if(r===Ve.error){if(nf(t)){var a,s;if(t.data instanceof Error){var l,o;return{type:Ve.error,error:t.data,statusCode:(l=t.init)==null?void 0:l.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:Ve.error,error:new so(((a=t.init)==null?void 0:a.status)||500,void 0,t.data),statusCode:As(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}}return{type:Ve.error,error:t,statusCode:As(t)?t.status:void 0}}if(i0(t)){var i,c;return{type:Ve.deferred,deferredData:t,statusCode:(i=t.init)==null?void 0:i.status,headers:((c=t.init)==null?void 0:c.headers)&&new Headers(t.init.headers)}}if(nf(t)){var d,u;return{type:Ve.data,data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}}return{type:Ve.data,data:t}}function a0(e,t,r,a,s,l){let o=e.headers.get("Location");if(Le(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Nd.test(o)){let i=a.slice(0,a.findIndex(c=>c.route.id===r)+1);o=fc(new URL(t.url),i,s,!0,o,l),e.headers.set("Location",o)}return e}function Xu(e,t,r){if(Nd.test(e)){let a=e,s=a.startsWith("//")?new URL(t.protocol+a):new URL(a),l=Aa(s.pathname,r)!=null;if(s.origin===t.origin&&l)return s.pathname+s.search+s.hash}return e}function ea(e,t,r,a){let s=e.createURL(eh(t)).toString(),l={signal:r};if(a&&yr(a.formMethod)){let{formMethod:o,formEncType:i}=a;l.method=o.toUpperCase(),i==="application/json"?(l.headers=new Headers({"Content-Type":i}),l.body=JSON.stringify(a.json)):i==="text/plain"?l.body=a.text:i==="application/x-www-form-urlencoded"&&a.formData?l.body=pc(a.formData):l.body=a.formData}return new Request(s,l)}function pc(e){let t=new URLSearchParams;for(let[r,a]of e.entries())t.append(r,typeof a=="string"?a:a.name);return t}function Gu(e){let t=new FormData;for(let[r,a]of e.entries())t.append(r,a);return t}function s0(e,t,r,a,s){let l={},o=null,i,c=!1,d={},u=r&&er(r[1])?r[1].error:void 0;return e.forEach(m=>{if(!(m.route.id in t))return;let y=m.route.id,w=t[y];if(Le(!An(w),"Cannot handle redirect results in processLoaderData"),er(w)){let v=w.error;u!==void 0&&(v=u,u=void 0),o=o||{};{let S=Dn(e,y);o[S.route.id]==null&&(o[S.route.id]=v)}l[y]=void 0,c||(c=!0,i=As(w.error)?w.error.status:500),w.headers&&(d[y]=w.headers)}else an(w)?(a.set(y,w.deferredData),l[y]=w.deferredData.data,w.statusCode!=null&&w.statusCode!==200&&!c&&(i=w.statusCode),w.headers&&(d[y]=w.headers)):(l[y]=w.data,w.statusCode&&w.statusCode!==200&&!c&&(i=w.statusCode),w.headers&&(d[y]=w.headers))}),u!==void 0&&r&&(o={[r[0]]:u},l[r[0]]=void 0),{loaderData:l,errors:o,statusCode:i||200,loaderHeaders:d}}function Zu(e,t,r,a,s,l,o){let{loaderData:i,errors:c}=s0(t,r,a,o);return s.forEach(d=>{let{key:u,match:m,controller:y}=d,w=l[u];if(Le(w,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(er(w)){let v=Dn(e.matches,m==null?void 0:m.route.id);c&&c[v.route.id]||(c=rt({},c,{[v.route.id]:w.error})),e.fetchers.delete(u)}else if(An(w))Le(!1,"Unhandled fetcher revalidation redirect");else if(an(w))Le(!1,"Unhandled fetcher deferred data");else{let v=Qr(w.data);e.fetchers.set(u,v)}}),{loaderData:i,errors:c}}function ef(e,t,r,a){let s=rt({},t);for(let l of r){let o=l.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(s[o]=t[o]):e[o]!==void 0&&l.route.loader&&(s[o]=e[o]),a&&a.hasOwnProperty(o))break}return s}function tf(e){return e?er(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Dn(e,t){return(t?e.slice(0,e.findIndex(a=>a.route.id===t)+1):[...e]).reverse().find(a=>a.route.hasErrorBoundary===!0)||e[0]}function rf(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Bt(e,t){let{pathname:r,routeId:a,method:s,type:l,message:o}=t===void 0?{}:t,i="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(i="Bad Request",s&&r&&a?c="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+a+'", ')+"so there is no way to handle the request.":l==="defer-action"?c="defer() is not supported in actions":l==="invalid-body"&&(c="Unable to encode submission body")):e===403?(i="Forbidden",c='Route "'+a+'" does not match URL "'+r+'"'):e===404?(i="Not Found",c='No route matches URL "'+r+'"'):e===405&&(i="Method Not Allowed",s&&r&&a?c="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+a+'", ')+"so there is no way to handle the request.":s&&(c='Invalid request method "'+s.toUpperCase()+'"')),new so(e||500,i,new Error(c),!0)}function ml(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[a,s]=t[r];if(An(s))return{key:a,result:s}}}function eh(e){let t=typeof e=="string"?bn(e):e;return Hn(rt({},t,{hash:""}))}function l0(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function o0(e){return th(e.result)&&Yx.has(e.result.status)}function an(e){return e.type===Ve.deferred}function er(e){return e.type===Ve.error}function An(e){return(e&&e.type)===Ve.redirect}function nf(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function i0(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function th(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function c0(e){return Vx.has(e.toLowerCase())}function yr(e){return Hx.has(e.toLowerCase())}async function d0(e,t,r,a,s){let l=Object.entries(t);for(let o=0;o<l.length;o++){let[i,c]=l[o],d=e.find(y=>(y==null?void 0:y.route.id)===i);if(!d)continue;let u=a.find(y=>y.route.id===d.route.id),m=u!=null&&!Gp(u,d)&&(s&&s[d.route.id])!==void 0;an(c)&&m&&await jd(c,r,!1).then(y=>{y&&(t[i]=y)})}}async function u0(e,t,r){for(let a=0;a<r.length;a++){let{key:s,routeId:l,controller:o}=r[a],i=t[s];e.find(d=>(d==null?void 0:d.route.id)===l)&&an(i)&&(Le(o,"Expected an AbortController for revalidating fetcher deferred result"),await jd(i,o.signal,!0).then(d=>{d&&(t[s]=d)}))}}async function jd(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:Ve.data,data:e.deferredData.unwrappedData}}catch(s){return{type:Ve.error,error:s}}return{type:Ve.data,data:e.deferredData.data}}}function Sd(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function as(e,t){let r=typeof t=="string"?bn(t).search:t.search;if(e[e.length-1].route.index&&Sd(r||""))return e[e.length-1];let a=Kp(e);return a[a.length-1]}function af(e){let{formMethod:t,formAction:r,formEncType:a,text:s,formData:l,json:o}=e;if(!(!t||!r||!a)){if(s!=null)return{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:t,formAction:r,formEncType:a,formData:l,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:o,text:void 0}}}function hi(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function f0(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Qa(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function m0(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Qr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function p0(e,t){try{let r=e.sessionStorage.getItem(Xp);if(r){let a=JSON.parse(r);for(let[s,l]of Object.entries(a||{}))l&&Array.isArray(l)&&t.set(s,new Set(l||[]))}}catch{}}function h0(e,t){if(t.size>0){let r={};for(let[a,s]of t)r[a]=[...s];try{e.sessionStorage.setItem(Xp,JSON.stringify(r))}catch(a){Da(!1,"Failed to save applied view transitions in sessionStorage ("+a+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lo.apply(this,arguments)}const Co=x.createContext(null),rh=x.createContext(null),Jn=x.createContext(null),kd=x.createContext(null),Nn=x.createContext({outlet:null,matches:[],isDataRoute:!1}),nh=x.createContext(null);function y0(e,t){let{relative:r}=t===void 0?{}:t;Hs()||Le(!1);let{basename:a,navigator:s}=x.useContext(Jn),{hash:l,pathname:o,search:i}=sh(e,{relative:r}),c=o;return a!=="/"&&(c=o==="/"?a:zr([a,o])),s.createHref({pathname:c,search:i,hash:l})}function Hs(){return x.useContext(kd)!=null}function Kn(){return Hs()||Le(!1),x.useContext(kd).location}function ah(e){x.useContext(Jn).static||x.useLayoutEffect(e)}function _a(){let{isDataRoute:e}=x.useContext(Nn);return e?P0():g0()}function g0(){Hs()||Le(!1);let e=x.useContext(Co),{basename:t,future:r,navigator:a}=x.useContext(Jn),{matches:s}=x.useContext(Nn),{pathname:l}=Kn(),o=JSON.stringify(wd(s,r.v7_relativeSplatPath)),i=x.useRef(!1);return ah(()=>{i.current=!0}),x.useCallback(function(d,u){if(u===void 0&&(u={}),!i.current)return;if(typeof d=="number"){a.go(d);return}let m=bd(d,JSON.parse(o),l,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:zr([t,m.pathname])),(u.replace?a.replace:a.push)(m,u.state,u)},[t,a,o,l,e])}function x0(){let{matches:e}=x.useContext(Nn),t=e[e.length-1];return t?t.params:{}}function sh(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=x.useContext(Jn),{matches:s}=x.useContext(Nn),{pathname:l}=Kn(),o=JSON.stringify(wd(s,a.v7_relativeSplatPath));return x.useMemo(()=>bd(e,JSON.parse(o),l,r==="path"),[e,o,l,r])}function v0(e,t,r,a){Hs()||Le(!1);let{navigator:s,static:l}=x.useContext(Jn),{matches:o}=x.useContext(Nn),i=o[o.length-1],c=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let u=Kn(),m;m=u;let y=m.pathname||"/",w=y;if(d!=="/"){let b=d.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=!l&&r&&r.matches&&r.matches.length>0?r.matches:Cn(e,{pathname:w});return S0(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:zr([d,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:zr([d,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,a)}function w0(){let e=D0(),t=As(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const b0=x.createElement(w0,null);class N0 extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Nn.Provider,{value:this.props.routeContext},x.createElement(nh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j0(e){let{routeContext:t,match:r,children:a}=e,s=x.useContext(Co);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Nn.Provider,{value:t},a)}function S0(e,t,r,a){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=a)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,i=(s=r)==null?void 0:s.errors;if(i!=null){let u=o.findIndex(m=>m.route.id&&(i==null?void 0:i[m.route.id])!==void 0);u>=0||Le(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:y,errors:w}=r,v=m.route.loader&&y[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||v){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,m,y)=>{let w,v=!1,S=null,b=null;r&&(w=i&&m.route.id?i[m.route.id]:void 0,S=m.route.errorElement||b0,c&&(d<0&&y===0?(T0("route-fallback"),v=!0,b=null):d===y&&(v=!0,b=m.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,y+1)),f=()=>{let p;return w?p=S:v?p=b:m.route.Component?p=x.createElement(m.route.Component,null):m.route.element?p=m.route.element:p=u,x.createElement(j0,{match:m,routeContext:{outlet:u,matches:h,isDataRoute:r!=null},children:p})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?x.createElement(N0,{location:r.location,revalidation:r.revalidation,component:S,error:w,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var lh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lh||{}),oh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oh||{});function k0(e){let t=x.useContext(Co);return t||Le(!1),t}function E0(e){let t=x.useContext(rh);return t||Le(!1),t}function C0(e){let t=x.useContext(Nn);return t||Le(!1),t}function ih(e){let t=C0(),r=t.matches[t.matches.length-1];return r.route.id||Le(!1),r.route.id}function D0(){var e;let t=x.useContext(nh),r=E0(),a=ih();return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function P0(){let{router:e}=k0(lh.UseNavigateStable),t=ih(oh.UseNavigateStable),r=x.useRef(!1);return ah(()=>{r.current=!0}),x.useCallback(function(s,l){l===void 0&&(l={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,lo({fromRouteId:t},l)))},[e,t])}const sf={};function T0(e,t,r){sf[e]||(sf[e]=!0)}function R0(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function A0(e){let{basename:t="/",children:r=null,location:a,navigationType:s=yt.Pop,navigator:l,static:o=!1,future:i}=e;Hs()&&Le(!1);let c=t.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:l,static:o,future:lo({v7_relativeSplatPath:!1},i)}),[c,i,l,o]);typeof a=="string"&&(a=bn(a));let{pathname:u="/",search:m="",hash:y="",state:w=null,key:v="default"}=a,S=x.useMemo(()=>{let b=Aa(u,c);return b==null?null:{location:{pathname:b,search:m,hash:y,state:w,key:v},navigationType:s}},[c,u,m,y,w,v,s]);return S==null?null:x.createElement(Jn.Provider,{value:d},x.createElement(kd.Provider,{children:r,value:S}))}new Promise(()=>{});function _0(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:x.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:x.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:x.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_s.apply(this,arguments)}function I0(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,l;for(l=0;l<a.length;l++)s=a[l],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function L0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function O0(e,t){return e.button===0&&(!t||t==="_self")&&!L0(e)}const M0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],F0="6";try{window.__reactRouterVersion=F0}catch{}function z0(e,t){return Qx({basename:t==null?void 0:t.basename,future:_s({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:wx({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||$0(),routes:e,mapRouteProperties:_0,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function $0(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=_s({},t,{errors:U0(t.errors)})),t}function U0(e){if(!e)return null;let t=Object.entries(e),r={};for(let[a,s]of t)if(s&&s.__type==="RouteErrorResponse")r[a]=new so(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let o=new l(s.message);o.stack="",r[a]=o}catch{}}if(r[a]==null){let l=new Error(s.message);l.stack="",r[a]=l}}else r[a]=s;return r}const B0=x.createContext({isTransitioning:!1}),H0=x.createContext(new Map),W0="startTransition",lf=oy[W0],V0="flushSync",of=vx[V0];function Y0(e){lf?lf(e):e()}function Xa(e){of?of(e):e()}class q0{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",r(a))}})}}function J0(e){let{fallbackElement:t,router:r,future:a}=e,[s,l]=x.useState(r.state),[o,i]=x.useState(),[c,d]=x.useState({isTransitioning:!1}),[u,m]=x.useState(),[y,w]=x.useState(),[v,S]=x.useState(),b=x.useRef(new Map),{v7_startTransition:h}=a||{},f=x.useCallback(R=>{h?Y0(R):R()},[h]),p=x.useCallback((R,V)=>{let{deletedFetchers:O,flushSync:ee,viewTransitionOpts:ue}=V;R.fetchers.forEach((ge,ye)=>{ge.data!==void 0&&b.current.set(ye,ge.data)}),O.forEach(ge=>b.current.delete(ge));let ne=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!ue||ne){ee?Xa(()=>l(R)):f(()=>l(R));return}if(ee){Xa(()=>{y&&(u&&u.resolve(),y.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:ue.currentLocation,nextLocation:ue.nextLocation})});let ge=r.window.document.startViewTransition(()=>{Xa(()=>l(R))});ge.finished.finally(()=>{Xa(()=>{m(void 0),w(void 0),i(void 0),d({isTransitioning:!1})})}),Xa(()=>w(ge));return}y?(u&&u.resolve(),y.skipTransition(),S({state:R,currentLocation:ue.currentLocation,nextLocation:ue.nextLocation})):(i(R),d({isTransitioning:!0,flushSync:!1,currentLocation:ue.currentLocation,nextLocation:ue.nextLocation}))},[r.window,y,u,b,f]);x.useLayoutEffect(()=>r.subscribe(p),[r,p]),x.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new q0)},[c]),x.useEffect(()=>{if(u&&o&&r.window){let R=o,V=u.promise,O=r.window.document.startViewTransition(async()=>{f(()=>l(R)),await V});O.finished.finally(()=>{m(void 0),w(void 0),i(void 0),d({isTransitioning:!1})}),w(O)}},[f,o,u,r.window]),x.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,y,s.location,o]),x.useEffect(()=>{!c.isTransitioning&&v&&(i(v.state),d({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),S(void 0))},[c.isTransitioning,v]),x.useEffect(()=>{},[]);let N=x.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:R=>r.navigate(R),push:(R,V,O)=>r.navigate(R,{state:V,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(R,V,O)=>r.navigate(R,{replace:!0,state:V,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[r]),k=r.basename||"/",j=x.useMemo(()=>({router:r,navigator:N,static:!1,basename:k}),[r,N,k]),g=x.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return x.useEffect(()=>R0(a,r.future),[a,r.future]),x.createElement(x.Fragment,null,x.createElement(Co.Provider,{value:j},x.createElement(rh.Provider,{value:s},x.createElement(H0.Provider,{value:b.current},x.createElement(B0.Provider,{value:c},x.createElement(A0,{basename:k,location:s.location,navigationType:s.historyAction,navigator:N,future:g},s.initialized||r.future.v7_partialHydration?x.createElement(K0,{routes:r.routes,future:r.future,state:s}):t))))),null)}const K0=x.memo(Q0);function Q0(e){let{routes:t,future:r,state:a}=e;return v0(t,void 0,a,r)}const X0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kr=x.forwardRef(function(t,r){let{onClick:a,relative:s,reloadDocument:l,replace:o,state:i,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,y=I0(t,M0),{basename:w}=x.useContext(Jn),v,S=!1;if(typeof d=="string"&&G0.test(d)&&(v=d,X0))try{let p=new URL(window.location.href),N=d.startsWith("//")?new URL(p.protocol+d):new URL(d),k=Aa(N.pathname,w);N.origin===p.origin&&k!=null?d=k+N.search+N.hash:S=!0}catch{}let b=y0(d,{relative:s}),h=Z0(d,{replace:o,state:i,target:c,preventScrollReset:u,relative:s,viewTransition:m});function f(p){a&&a(p),p.defaultPrevented||h(p)}return x.createElement("a",_s({},y,{href:v||b,onClick:S||l?a:f,ref:r,target:c}))});var cf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cf||(cf={}));var df;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(df||(df={}));function Z0(e,t){let{target:r,replace:a,state:s,preventScrollReset:l,relative:o,viewTransition:i}=t===void 0?{}:t,c=_a(),d=Kn(),u=sh(e,{relative:o});return x.useCallback(m=>{if(O0(m,r)){m.preventDefault();let y=a!==void 0?a:Hn(d)===Hn(u);c(e,{replace:y,state:s,preventScrollReset:l,relative:o,viewTransition:i})}},[d,c,u,a,s,r,e,l,o,i])}function ch(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=ch(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function On(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=ch(e))&&(a&&(a+=" "),a+=t);return a}function ev(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}ev(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ws=e=>typeof e=="number"&&!isNaN(e),Wn=e=>typeof e=="string",Wr=e=>typeof e=="function",tv=e=>Wn(e)||Ws(e),hc=e=>Wn(e)||Wr(e)?e:null,rv=(e,t)=>e===!1||Ws(e)&&e>0?e:t,yc=e=>x.isValidElement(e)||Wn(e)||Wr(e)||Ws(e);function nv(e,t,r=300){let{scrollHeight:a,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=a+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,r)})})}function av({enter:e,exit:t,appendPosition:r=!1,collapse:a=!0,collapseDuration:s=300}){return function({children:l,position:o,preventExitTransition:i,done:c,nodeRef:d,isIn:u,playToast:m}){let y=r?`${e}--${o}`:e,w=r?`${t}--${o}`:t,v=x.useRef(0);return x.useLayoutEffect(()=>{let S=d.current,b=y.split(" "),h=f=>{f.target===d.current&&(m(),S.removeEventListener("animationend",h),S.removeEventListener("animationcancel",h),v.current===0&&f.type!=="animationcancel"&&S.classList.remove(...b))};S.classList.add(...b),S.addEventListener("animationend",h),S.addEventListener("animationcancel",h)},[]),x.useEffect(()=>{let S=d.current,b=()=>{S.removeEventListener("animationend",b),a?nv(S,c,s):c()};u||(i?b():(v.current=1,S.className+=` ${w}`,S.addEventListener("animationend",b)))},[u]),Te.createElement(Te.Fragment,null,l)}}function uf(e,t){return{content:dh(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function dh(e,t,r=!1){return x.isValidElement(e)&&!Wn(e.type)?x.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):Wr(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function sv({closeToast:e,theme:t,ariaLabel:r="close"}){return Te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:a=>{a.stopPropagation(),e(!0)},"aria-label":r},Te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function lv({delay:e,isRunning:t,closeToast:r,type:a="default",hide:s,className:l,controlledProgress:o,progress:i,rtl:c,isIn:d,theme:u}){let m=s||o&&i===0,y={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(y.transform=`scaleX(${i})`);let w=On("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":c}),v=Wr(l)?l({rtl:c,type:a,defaultClassName:w}):On(w,l),S={[o&&i>=1?"onTransitionEnd":"onAnimationEnd"]:o&&i<1?null:()=>{d&&r()}};return Te.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},Te.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${a}`}),Te.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:v,style:y,...S}))}var ov=1,uh=()=>`${ov++}`;function iv(e,t,r){let a=1,s=0,l=[],o=[],i=t,c=new Map,d=new Set,u=f=>(d.add(f),()=>d.delete(f)),m=()=>{o=Array.from(c.values()),d.forEach(f=>f())},y=({containerId:f,toastId:p,updateId:N})=>{let k=f?f!==e:e!==1,j=c.has(p)&&N==null;return k||j},w=(f,p)=>{c.forEach(N=>{var k;(p==null||p===N.props.toastId)&&((k=N.toggle)==null||k.call(N,f))})},v=f=>{var p,N;(N=(p=f.props)==null?void 0:p.onClose)==null||N.call(p,f.removalReason),f.isActive=!1},S=f=>{if(f==null)c.forEach(v);else{let p=c.get(f);p&&v(p)}m()},b=()=>{s-=l.length,l=[]},h=f=>{var p,N;let{toastId:k,updateId:j}=f.props,g=j==null;f.staleId&&c.delete(f.staleId),f.isActive=!0,c.set(k,f),m(),r(uf(f,g?"added":"updated")),g&&((N=(p=f.props).onOpen)==null||N.call(p))};return{id:e,props:i,observe:u,toggle:w,removeToast:S,toasts:c,clearQueue:b,buildToast:(f,p)=>{if(y(p))return;let{toastId:N,updateId:k,data:j,staleId:g,delay:R}=p,V=k==null;V&&s++;let O={...i,style:i.toastStyle,key:a++,...Object.fromEntries(Object.entries(p).filter(([ue,ne])=>ne!=null)),toastId:N,updateId:k,data:j,isIn:!1,className:hc(p.className||i.toastClassName),progressClassName:hc(p.progressClassName||i.progressClassName),autoClose:p.isLoading?!1:rv(p.autoClose,i.autoClose),closeToast(ue){c.get(N).removalReason=ue,S(N)},deleteToast(){let ue=c.get(N);if(ue!=null){if(r(uf(ue,"removed")),c.delete(N),s--,s<0&&(s=0),l.length>0){h(l.shift());return}m()}}};O.closeButton=i.closeButton,p.closeButton===!1||yc(p.closeButton)?O.closeButton=p.closeButton:p.closeButton===!0&&(O.closeButton=yc(i.closeButton)?i.closeButton:!0);let ee={content:f,props:O,staleId:g};i.limit&&i.limit>0&&s>i.limit&&V?l.push(ee):Ws(R)?setTimeout(()=>{h(ee)},R):h(ee)},setProps(f){i=f},setToggle:(f,p)=>{let N=c.get(f);N&&(N.toggle=p)},isToastActive:f=>{var p;return(p=c.get(f))==null?void 0:p.isActive},getSnapshot:()=>o}}var Mt=new Map,Is=[],gc=new Set,cv=e=>gc.forEach(t=>t(e)),fh=()=>Mt.size>0;function dv(){Is.forEach(e=>ph(e.content,e.options)),Is=[]}var uv=(e,{containerId:t})=>{var r;return(r=Mt.get(t||1))==null?void 0:r.toasts.get(e)};function mh(e,t){var r;if(t)return!!((r=Mt.get(t))!=null&&r.isToastActive(e));let a=!1;return Mt.forEach(s=>{s.isToastActive(e)&&(a=!0)}),a}function fv(e){if(!fh()){Is=Is.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||tv(e))Mt.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Mt.get(e.containerId);t?t.removeToast(e.id):Mt.forEach(r=>{r.removeToast(e.id)})}}var mv=(e={})=>{Mt.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function ph(e,t){yc(e)&&(fh()||Is.push({content:e,options:t}),Mt.forEach(r=>{r.buildToast(e,t)}))}function pv(e){var t;(t=Mt.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function hh(e,t){Mt.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function hv(e){let t=e.containerId||1;return{subscribe(r){let a=iv(t,e,cv);Mt.set(t,a);let s=a.observe(r);return dv(),()=>{s(),Mt.delete(t)}},setProps(r){var a;(a=Mt.get(t))==null||a.setProps(r)},getSnapshot(){var r;return(r=Mt.get(t))==null?void 0:r.getSnapshot()}}}function yv(e){return gc.add(e),()=>{gc.delete(e)}}function gv(e){return e&&(Wn(e.toastId)||Ws(e.toastId))?e.toastId:uh()}function Vs(e,t){return ph(e,t),t.toastId}function Do(e,t){return{...t,type:t&&t.type||e,toastId:gv(t)}}function Po(e){return(t,r)=>Vs(t,Do(e,r))}function pe(e,t){return Vs(e,Do("default",t))}pe.loading=(e,t)=>Vs(e,Do("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function xv(e,{pending:t,error:r,success:a},s){let l;t&&(l=Wn(t)?pe.loading(t,s):pe.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},i=(d,u,m)=>{if(u==null){pe.dismiss(l);return}let y={type:d,...o,...s,data:m},w=Wn(u)?{render:u}:u;return l?pe.update(l,{...y,...w}):pe(w.render,{...y,...w}),m},c=Wr(e)?e():e;return c.then(d=>i("success",a,d)).catch(d=>i("error",r,d)),c}pe.promise=xv;pe.success=Po("success");pe.info=Po("info");pe.error=Po("error");pe.warning=Po("warning");pe.warn=pe.warning;pe.dark=(e,t)=>Vs(e,Do("default",{theme:"dark",...t}));function vv(e){fv(e)}pe.dismiss=vv;pe.clearWaitingQueue=mv;pe.isActive=mh;pe.update=(e,t={})=>{let r=uv(e,t);if(r){let{props:a,content:s}=r,l={delay:100,...a,...t,toastId:t.toastId||e,updateId:uh()};l.toastId!==e&&(l.staleId=e);let o=l.render||s;delete l.render,Vs(o,l)}};pe.done=e=>{pe.update(e,{progress:1})};pe.onChange=yv;pe.play=e=>hh(!0,e);pe.pause=e=>hh(!1,e);function wv(e){var t;let{subscribe:r,getSnapshot:a,setProps:s}=x.useRef(hv(e)).current;s(e);let l=(t=x.useSyncExternalStore(r,a,a))==null?void 0:t.slice();function o(i){if(!l)return[];let c=new Map;return e.newestOnTop&&l.reverse(),l.forEach(d=>{let{position:u}=d.props;c.has(u)||c.set(u,[]),c.get(u).push(d)}),Array.from(c,d=>i(d[0],d[1]))}return{getToastToRender:o,isToastActive:mh,count:l==null?void 0:l.length}}function bv(e){let[t,r]=x.useState(!1),[a,s]=x.useState(!1),l=x.useRef(null),o=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:i,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:m}=e;pv({id:e.toastId,containerId:e.containerId,fn:r}),x.useEffect(()=>{if(e.pauseOnFocusLoss)return y(),()=>{w()}},[e.pauseOnFocusLoss]);function y(){document.hasFocus()||h(),window.addEventListener("focus",b),window.addEventListener("blur",h)}function w(){window.removeEventListener("focus",b),window.removeEventListener("blur",h)}function v(g){if(e.draggable===!0||e.draggable===g.pointerType){f();let R=l.current;o.canCloseOnClick=!0,o.canDrag=!0,R.style.transition="none",e.draggableDirection==="x"?(o.start=g.clientX,o.removalDistance=R.offsetWidth*(e.draggablePercent/100)):(o.start=g.clientY,o.removalDistance=R.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function S(g){let{top:R,bottom:V,left:O,right:ee}=l.current.getBoundingClientRect();g.nativeEvent.type!=="touchend"&&e.pauseOnHover&&g.clientX>=O&&g.clientX<=ee&&g.clientY>=R&&g.clientY<=V?h():b()}function b(){r(!0)}function h(){r(!1)}function f(){o.didMove=!1,document.addEventListener("pointermove",N),document.addEventListener("pointerup",k)}function p(){document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",k)}function N(g){let R=l.current;if(o.canDrag&&R){o.didMove=!0,t&&h(),e.draggableDirection==="x"?o.delta=g.clientX-o.start:o.delta=g.clientY-o.start,o.start!==g.clientX&&(o.canCloseOnClick=!1);let V=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;R.style.transform=`translate3d(${V},0)`,R.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function k(){p();let g=l.current;if(o.canDrag&&o.didMove&&g){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}g.style.transition="transform 0.2s, opacity 0.2s",g.style.removeProperty("transform"),g.style.removeProperty("opacity")}}let j={onPointerDown:v,onPointerUp:S};return i&&c&&(j.onMouseEnter=h,e.stacked||(j.onMouseLeave=b)),m&&(j.onClick=g=>{u&&u(g),o.canCloseOnClick&&d(!0)}),{playToast:b,pauseToast:h,isRunning:t,preventExitTransition:a,toastRef:l,eventHandlers:j}}var Nv=typeof window<"u"?x.useLayoutEffect:x.useEffect,To=({theme:e,type:t,isLoading:r,...a})=>Te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...a});function jv(e){return Te.createElement(To,{...e},Te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Sv(e){return Te.createElement(To,{...e},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function kv(e){return Te.createElement(To,{...e},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Ev(e){return Te.createElement(To,{...e},Te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Cv(){return Te.createElement("div",{className:"Toastify__spinner"})}var xc={info:Sv,warning:jv,success:kv,error:Ev,spinner:Cv},Dv=e=>e in xc;function Pv({theme:e,type:t,isLoading:r,icon:a}){let s=null,l={theme:e,type:t};return a===!1||(Wr(a)?s=a({...l,isLoading:r}):x.isValidElement(a)?s=x.cloneElement(a,l):r?s=xc.spinner():Dv(t)&&(s=xc[t](l))),s}var Tv=e=>{let{isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:s,playToast:l}=bv(e),{closeButton:o,children:i,autoClose:c,onClick:d,type:u,hideProgressBar:m,closeToast:y,transition:w,position:v,className:S,style:b,progressClassName:h,updateId:f,role:p,progress:N,rtl:k,toastId:j,deleteToast:g,isIn:R,isLoading:V,closeOnClick:O,theme:ee,ariaLabel:ue}=e,ne=On("Toastify__toast",`Toastify__toast-theme--${ee}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":O}),ge=Wr(S)?S({rtl:k,position:v,type:u,defaultClassName:ne}):On(ne,S),ye=Pv(e),Ee=!!N||!c,He={closeToast:y,type:u,theme:ee},W=null;return o===!1||(Wr(o)?W=o(He):x.isValidElement(o)?W=x.cloneElement(o,He):W=sv(He)),Te.createElement(w,{isIn:R,done:g,position:v,preventExitTransition:r,nodeRef:a,playToast:l},Te.createElement("div",{id:j,tabIndex:0,onClick:d,"data-in":R,className:ge,...s,style:b,ref:a,...R&&{role:p,"aria-label":ue}},ye!=null&&Te.createElement("div",{className:On("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},ye),dh(i,e,!t),W,!e.customProgressBar&&Te.createElement(lv,{...f&&!Ee?{key:`p-${f}`}:{},rtl:k,theme:ee,delay:c,isRunning:t,isIn:R,closeToast:y,hide:m,type:u,className:h,controlledProgress:Ee,progress:N||0})))},Rv=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),Av=av(Rv("bounce",!0)),_v={position:"top-right",transition:Av,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Iv(e){let t={..._v,...e},r=e.stacked,[a,s]=x.useState(!0),l=x.useRef(null),{getToastToRender:o,isToastActive:i,count:c}=wv(t),{className:d,style:u,rtl:m,containerId:y,hotKeys:w}=t;function v(b){let h=On("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":m});return Wr(d)?d({position:b,rtl:m,defaultClassName:h}):On(h,hc(d))}function S(){r&&(s(!0),pe.play())}return Nv(()=>{var b;if(r){let h=l.current.querySelectorAll('[data-in="true"]'),f=12,p=(b=t.position)==null?void 0:b.includes("top"),N=0,k=0;Array.from(h).reverse().forEach((j,g)=>{let R=j;R.classList.add("Toastify__toast--stacked"),g>0&&(R.dataset.collapsed=`${a}`),R.dataset.pos||(R.dataset.pos=p?"top":"bot");let V=N*(a?.2:1)+(a?0:f*g);R.style.setProperty("--y",`${p?V:V*-1}px`),R.style.setProperty("--g",`${f}`),R.style.setProperty("--s",`${1-(a?k:0)}`),N+=R.offsetHeight,k+=.025})}},[a,c,r]),x.useEffect(()=>{function b(h){var f;let p=l.current;w(h)&&((f=p.querySelector('[tabIndex="0"]'))==null||f.focus(),s(!1),pe.pause()),h.key==="Escape"&&(document.activeElement===p||p!=null&&p.contains(document.activeElement))&&(s(!0),pe.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[w]),Te.createElement("section",{ref:l,className:"Toastify",id:y,onMouseEnter:()=>{r&&(s(!1),pe.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((b,h)=>{let f=h.length?{...u}:{...u,pointerEvents:"none"};return Te.createElement("div",{tabIndex:-1,className:v(b),"data-stacked":r,style:f,key:`c-${b}`},h.map(({content:p,props:N})=>Te.createElement(Tv,{...N,stacked:r,collapseAll:S,isIn:i(N.toastId,N.containerId),key:`t-${N.key}`},p)))}))}const F={log:(...e)=>{},error:(...e)=>{console.error(...e)},warn:(...e)=>{},info:(...e)=>{},debug:(...e)=>{},group:e=>{},groupEnd:()=>{}};class Lv{constructor(){this.pendingRequests=new Map}async dedupe(t,r,a=5e3){if(this.pendingRequests.has(t))return console.log(` Reusing pending request for: ${t}`),this.pendingRequests.get(t);const s=r().then(l=>(setTimeout(()=>{this.pendingRequests.delete(t)},a),l)).catch(l=>{throw this.pendingRequests.delete(t),l});return this.pendingRequests.set(t,s),s}clear(t){this.pendingRequests.delete(t)}clearAll(){this.pendingRequests.clear()}isPending(t){return this.pendingRequests.has(t)}}const Wt=new Lv,Ed=(e,t={})=>{const r=Object.keys(t).filter(a=>t[a]!==void 0&&t[a]!==null).map(a=>`${encodeURIComponent(a)}=${encodeURIComponent(t[a])}`).join("&");return r?`${e}?${r}`:e},tt="https://payroll-backend-cyan.vercel.app/api";class Ov{constructor(){this.events={}}on(t,r){return this.events[t]||(this.events[t]=[]),this.events[t].push(r),()=>this.removeListener(t,r)}emit(t,r){this.events[t]&&this.events[t].forEach(a=>a(r))}removeListener(t,r){this.events[t]&&(this.events[t]=this.events[t].filter(a=>a!==r))}}const Re=new Ov,Mv=(e,t="An error occurred")=>{F.error("API Error:",e);const r=e.message||t;return r.includes("404")||pe.error(r),{error:r}},at=async(e,t={})=>{try{const r=localStorage.getItem("token"),a={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"};r&&(a.Authorization=`Bearer ${r}`);const s={...t,headers:{...a,...t.headers}},l=await fetch(e,s);if(l.status===401)throw console.error(" Authentication failed (401) - Session expired or invalid token"),localStorage.removeItem("token"),localStorage.removeItem("currentEmployee"),localStorage.removeItem("userRole"),console.warn(" Cleared authentication data (token, currentEmployee, userRole)"),pe.error("Session expired. Please login again.",{position:"top-center",autoClose:3e3}),setTimeout(()=>{window.location.href="/?session=expired"},1500),new Error("Session expired. Please login again.");if(!l.ok){const o=await l.json().catch(()=>({}));throw new Error(o.message||`HTTP error ${l.status}`)}return await l.json()}catch(r){return Mv(r)}},Ot={getAll:async(e={})=>{var c,d;const{page:t=1,limit:r=50,bypassCache:a=!1}=e,s=Date.now(),l=Ed(`${tt}/employees`,{page:t,limit:r,_t:s});if(console.log(` employeeApi.getAll: Called with bypassCache=${a}, cacheKey=${l}`),a){console.log(" employeeApi.getAll: Bypassing cache, clearing and fetching fresh data"),Wt.clearAll();const u=await at(`${l}`);return u.error?console.error(" employeeApi.getAll: Error fetching data:",u.error):(console.log(" employeeApi.getAll: Fresh data fetched, emitting employees-updated event"),Re.emit("employees-updated",u)),console.log(" employeeApi.getAll: Fresh data fetched (bypassed cache), returning",Array.isArray(u)?u.length:((c=u.data)==null?void 0:c.length)||0,"employees"),u}console.log(" employeeApi.getAll: Using dedupe with cache");const o=async()=>await at(`${l}`),i=await Wt.dedupe(l,o,1e4);return i.error||(console.log(" employeeApi.getAll: Data fetched from cache/fresh, emitting employees-updated event"),Re.emit("employees-updated",i)),console.log(" employeeApi.getAll: Returning",Array.isArray(i)?i.length:((d=i.data)==null?void 0:d.length)||0,"employees"),i},getById:async e=>await at(`${tt}/employees/${e}`),create:async e=>{console.log(" apiService.create: Starting employee creation...",e);const t=await at(`${tt}/employees`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return t.error?console.error(" apiService.create: Error creating employee:",t.error):(Wt.clearAll(),console.log(" apiService.create: About to emit employee-created event"),console.log(" EVENT BUS STATE:",Re.events),Re.emit("employee-created",t),console.log(" apiService.create: Event employee-created emitted with data:",t),setTimeout(async()=>{console.log(" apiService.create: Triggering delayed refresh...");const r=await at(`${tt}/employees?page=1&limit=50`);r.error||(Re.emit("employees-updated",r),console.log(" apiService.create: Delayed employees-updated event emitted"))},100)),t},update:async(e,t)=>{const r=await at(`${tt}/employees/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return r.error||(Wt.clearAll(),Re.emit("employee-updated",r)),r},delete:async e=>{console.log(" apiService.delete: Starting employee deletion for ID:",e);const t=await at(`${tt}/employees/${e}`,{method:"DELETE"});return t.error?console.error(" apiService.delete: Error deleting employee:",t.error):(Wt.clearAll(),console.log(" apiService.delete: About to emit employee-deleted event for ID:",e),console.log(" EVENT BUS STATE:",Re.events),Re.emit("employee-deleted",{id:e}),console.log(" apiService.delete: Event employee-deleted emitted for ID:",e),setTimeout(async()=>{console.log(" apiService.delete: Triggering delayed refresh...");const r=await at(`${tt}/employees?page=1&limit=50`);r.error||(Re.emit("employees-updated",r),console.log(" apiService.delete: Delayed employees-updated event emitted"))},100)),t},login:async e=>await at(`${tt}/employees/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),verifyPin:async(e,t)=>await at(`${tt}/employees/admin/verify-pin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:e,pin:t})}),changePassword:async(e,t)=>await at(`${tt}/employees/${e}/change-password`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),updateProfilePicture:async(e,t)=>{const r=await at(`${tt}/employees/${e}/profile-picture`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({profilePicture:t})});return r.error||Re.emit("profile-picture-updated",r),r}},Ls={getAll:async(e={})=>{const{page:t=1,limit:r=50,bypassCache:a=!1}=e,s=Ed(`${tt}/attendance`,{page:t,limit:r});if(a){Wt.clear(s);const i=await at(`${tt}/attendance?page=${t}&limit=${r}`);return i.error||Re.emit("attendance-updated",i),i}const l=async()=>await at(`${tt}/attendance?page=${t}&limit=${r}`),o=await Wt.dedupe(s,l,1e4);return o.error||Re.emit("attendance-updated",o),o},getStats:async(e={})=>{const t=new URLSearchParams(e).toString(),r=`${tt}/attendance/stats${t?`?${t}`:""}`;return await at(r)},getByEmployeeId:async e=>await at(`${tt}/attendance/${e}`),record:async e=>{const t=await at(`${tt}/attendance`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return t.error||(Wt.clearAll(),Re.emit("attendance-recorded",t)),t}},wa={getAll:async(e={})=>{const{page:t=1,limit:r=50,bypassCache:a=!1}=e,s=Ed(`${tt}/salary`,{page:t,limit:r});if(a){Wt.clear(s);const i=await at(`${tt}/salary?page=${t}&limit=${r}`);return i.error||Re.emit("salaries-updated",i),i}const l=async()=>await at(`${tt}/salary?page=${t}&limit=${r}`),o=await Wt.dedupe(s,l,1e4);return o.error||Re.emit("salaries-updated",o),o},create:async e=>{const t=await at(`${tt}/salary`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return t.error||(Wt.clearAll(),Re.emit("salary-created",t)),t},update:async(e,t)=>{const r=await at(`${tt}/salary/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return r.error||(Wt.clearAll(),Re.emit("salary-updated",r)),r},archive:async e=>{const t=await at(`${tt}/salary/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({archived:!0})});return t.error||(Wt.clearAll(),Re.emit("salary-archived",{id:e})),t},restore:async e=>{const t=await at(`${tt}/salary/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({archived:!1})});return t.error||(Wt.clearAll(),Re.emit("salary-restored",{id:e})),t}},Fv=Object.freeze(Object.defineProperty({__proto__:null,attendanceApi:Ls,employeeApi:Ot,eventBus:Re,salaryApi:wa},Symbol.toStringTag,{value:"Module"})),Ro="/assets/logo-Bi_hB9pl.png";var yh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ff=Te.createContext&&Te.createContext(yh),pn=function(){return pn=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},pn.apply(this,arguments)},zv=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function gh(e){return e&&e.map(function(t,r){return Te.createElement(t.tag,pn({key:r},t.attr),gh(t.child))})}function it(e){return function(t){return Te.createElement($v,pn({attr:pn({},e.attr)},t),gh(e.child))}}function $v(e){var t=function(r){var a=e.attr,s=e.size,l=e.title,o=zv(e,["attr","size","title"]),i=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),Te.createElement("svg",pn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,o,{className:c,style:pn(pn({color:e.color||r.color},r.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),l&&Te.createElement("title",null,l),e.children)};return ff!==void 0?Te.createElement(ff.Consumer,null,function(r){return t(r)}):t(yh)}function Uv(e){return it({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"}}]})(e)}function Bv(e){return it({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function Hv(e){return it({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(e)}function Dl(e){return it({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function Wv(e){return it({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function Vv(e){return it({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function Lr(e){return it({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function Dr(e){return it({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function Yv(e){return it({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"}}]})(e)}function mf(e){return it({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"}}]})(e)}function hn(e){return it({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function qv(e){return it({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function Pl(e){return it({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"}}]})(e)}function Tl(e){return it({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(e)}function Jv(e){return it({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"}}]})(e)}function Kv(e){return it({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(e)}function Qv(e){return it({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"}}]})(e)}function pl(e){return it({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"}}]})(e)}function xh(e){return it({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function Xv(e){return it({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"}}]})(e)}function Gv(e){return it({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function Zr(e){return it({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function Zv(e){return it({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}const Vr=({isMobileOpen:e=!1,onClose:t=()=>{}})=>{const r=Kn(),a=o=>r.pathname===o,s=()=>{e&&t&&t()},l=o=>({color:"white",fontSize:"0.95rem",padding:"12px 16px",borderRadius:"8px",display:"flex",alignItems:"center",textDecoration:"none",backgroundColor:a(o)?"rgba(255, 255, 255, 0.2)":"transparent",fontWeight:a(o)?"600":"500",transition:"all 0.2s ease"});return n.jsxs("div",{className:`admin-sidebar ${e?"sidebar-open":""}`,children:[n.jsx("div",{className:"admin-sidebar-logo text-center mb-4",children:n.jsx("img",{src:Ro,alt:"Logo",style:{width:"140px",margin:"auto",marginBottom:"10px"}})}),n.jsx("h4",{className:"fw-bold mb-4 text-center admin-sidebar-title",style:{color:"white",fontSize:"1.4rem"},children:"Admin Panel"}),n.jsxs("ul",{className:"nav flex-column admin-nav-list",style:{listStyle:"none",padding:0},children:[n.jsx("li",{className:"nav-item mb-2",style:{marginTop:"50px"},children:n.jsxs(Kr,{to:"/dashboard",className:"nav-link admin-nav-link",style:l("/dashboard"),onClick:s,onMouseEnter:o=>{a("/dashboard")||(o.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)")},onMouseLeave:o=>{a("/dashboard")||(o.currentTarget.style.backgroundColor="transparent")},children:[n.jsx(Xv,{className:"me-3",style:{fontSize:"1.1rem"}}),"Dashboard"]})}),n.jsx("li",{className:"nav-item mb-2",children:n.jsxs(Kr,{to:"/attendance",className:"nav-link admin-nav-link",style:l("/attendance"),onClick:s,onMouseEnter:o=>{a("/attendance")||(o.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)")},onMouseLeave:o=>{a("/attendance")||(o.currentTarget.style.backgroundColor="transparent")},children:[n.jsx(Dl,{className:"me-3",style:{fontSize:"1.1rem"}}),"Attendance"]})}),n.jsx("li",{className:"nav-item mb-2",children:n.jsxs(Kr,{to:"/employee",className:"nav-link admin-nav-link",style:l("/employee"),onClick:s,onMouseEnter:o=>{a("/employee")||(o.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)")},onMouseLeave:o=>{a("/employee")||(o.currentTarget.style.backgroundColor="transparent")},children:[n.jsx(Zv,{className:"me-3",style:{fontSize:"1.1rem"}}),"Employee"]})}),n.jsx("li",{className:"nav-item mb-2",children:n.jsxs(Kr,{to:"/salary",className:"nav-link admin-nav-link",style:l("/salary"),onClick:s,onMouseEnter:o=>{a("/salary")||(o.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)")},onMouseLeave:o=>{a("/salary")||(o.currentTarget.style.backgroundColor="transparent")},children:[n.jsx(Jv,{className:"me-3",style:{fontSize:"1.1rem"}}),"Salary"]})}),n.jsx("li",{className:"nav-item mb-2",children:n.jsxs(Kr,{to:"/deductions",className:"nav-link admin-nav-link",style:l("/deductions"),onClick:s,onMouseEnter:o=>{a("/deductions")||(o.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)")},onMouseLeave:o=>{a("/deductions")||(o.currentTarget.style.backgroundColor="transparent")},children:[n.jsx(Pl,{className:"me-3",style:{fontSize:"1.1rem"}}),"Cash Advance"]})}),n.jsx("li",{className:"nav-item mb-2",children:n.jsxs(Kr,{to:"/payroll",className:"nav-link admin-nav-link",style:l("/payroll"),onClick:s,onMouseEnter:o=>{a("/payroll")||(o.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)")},onMouseLeave:o=>{a("/payroll")||(o.currentTarget.style.backgroundColor="transparent")},children:[n.jsx(Tl,{className:"me-3",style:{fontSize:"1.1rem"}}),"Payroll Records"]})}),n.jsx("li",{style:{borderTop:"1px solid rgba(255, 255, 255, 0.2)",margin:"15px 0"}}),n.jsx("li",{className:"nav-item mb-2",children:n.jsxs(Kr,{to:"/admin-settings",className:"nav-link admin-nav-link",style:l("/admin-settings"),onClick:s,onMouseEnter:o=>{a("/admin-settings")||(o.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)")},onMouseLeave:o=>{a("/admin-settings")||(o.currentTarget.style.backgroundColor="transparent")},children:[n.jsx(Wv,{className:"me-3",style:{fontSize:"1.1rem"}}),"Admin Settings"]})}),n.jsx("li",{className:"nav-item mt-2",children:n.jsxs(Kr,{to:"/logout",className:"nav-link admin-nav-link",style:{...l("/logout"),backgroundColor:"rgba(255, 255, 255, 0.1)"},onClick:s,onMouseEnter:o=>{o.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)"},onMouseLeave:o=>{o.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)"},children:[n.jsx(xh,{className:"me-3",style:{fontSize:"1.1rem"}}),"Logout"]})})]})]})};function ew(){const[e,t]=Te.useState(new Date);Te.useEffect(()=>{const o=setInterval(()=>t(new Date),1e3);return()=>clearInterval(o)},[]);const a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],s=e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),l=e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return n.jsxs("span",{style:{fontSize:"1rem",fontWeight:500,color:"white"},children:[a," | ",s," ",l]})}const Yr=()=>n.jsxs("div",{className:"d-flex justify-content-between align-items-center px-4 py-3",style:{background:"#f06a98",color:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[n.jsx(ew,{}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsx("div",{style:{fontWeight:600,fontSize:"1.05rem"},children:"Rae Disenyo Garden and Landscaping Services"}),n.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:"SUPERADMIN"})]})]}),Cd=(e,t,r)=>{const a=x.memo(e,t);return a.displayName=r||e.displayName||e.name,a},tw=Cd(({employee:e,index:t,onEdit:r,onDelete:a})=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:t+1}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:e.employeeId}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border",children:[e.firstName," ",e.lastName]}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${(e==null?void 0:e.status)==="regular"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:(e==null?void 0:e.status)==="regular"?"Regular":(e==null?void 0:e.status)==="oncall"?"On Call":"Unknown"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:e.email}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:e.contactNumber?e.contactNumber:"N/A"}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:new Date(e.hireDate||e.date).toLocaleDateString()}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${e.fingerprintEnrolled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.fingerprintEnrolled?"Enrolled":"Not Enrolled"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("button",{onClick:()=>r(e),className:"bg-pink-400 text-black px-2 py-1 rounded text-xs hover:bg-pink-500 transition duration-200",children:"Edit"}),n.jsx("button",{onClick:()=>a(e._id),className:"bg-red-500 text-white px-2 py-1 rounded text-xs hover:bg-red-600 transition duration-200",children:"Delete"})]})})]},e._id),(e,t)=>e.employee._id===t.employee._id&&e.employee.firstName===t.employee.firstName&&e.employee.lastName===t.employee.lastName&&e.employee.email===t.employee.email&&e.employee.contactNumber===t.employee.contactNumber&&e.employee.status===t.employee.status&&e.employee.hireDate===t.employee.hireDate&&e.employee.fingerprintEnrolled===t.employee.fingerprintEnrolled&&e.index===t.index,"EmployeeRow"),rw=()=>{const e=()=>{const K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let Z="";for(let se=0;se<12;se++)Z+=K.charAt(Math.floor(Math.random()*K.length));return Z},t=()=>`EMP-${Math.floor(Math.random()*9e3)+1e3}`,[r,a]=x.useState([]),[s,l]=x.useState(!0),[o,i]=x.useState(null),[c,d]=x.useState(!1),[u,m]=x.useState(!1),[y,w]=x.useState(null),[v,S]=x.useState(""),[b,h]=x.useState(!1),[f,p]=x.useState(0),[N,k]=x.useState(null),[j,g]=x.useState(!1),[R,V]=x.useState(!1),[O,ee]=x.useState({firstName:"",lastName:"",email:"",employeeId:"",contactNumber:"",date:new Date().toISOString().split("T")[0],salary:"",status:"regular",username:"",password:"",plainTextPassword:"",fingerprintEnrolled:!1});x.useEffect(()=>{ue();const K=()=>{console.log(" EmployeeList: Received employee-created event, calling fetchEmployees(true)"),ue(!0)},Z=()=>{console.log(" EmployeeList: Received employee-updated event, calling fetchEmployees(true)"),ue(!0)},se=ae=>{console.log(" EmployeeList: Received employee-deleted event for ID:",ae.id),a(we=>we.filter(qe=>qe._id!==ae.id)),console.log(" EmployeeList: Calling fetchEmployees(true) after delete"),ue(!0)};return console.log(" EmployeeList: Registering event listeners"),Re.on("employee-created",K),Re.on("employee-updated",Z),Re.on("employee-deleted",se),console.log(" EmployeeList: Event listeners registered"),()=>{console.log(" EmployeeList: Cleaning up event listeners"),Re.removeListener("employee-created",K),Re.removeListener("employee-updated",Z),Re.removeListener("employee-deleted",se)}},[]);const ue=async(K=!1)=>{var Z,se;try{console.log(" EmployeeList: fetchEmployees called with bypassCache=",K),l(!0);const ae=await Ot.getAll({bypassCache:K});console.log(" EmployeeList: Received data from API:",ae?`${ae.length||((Z=ae.data)==null?void 0:Z.length)||((se=ae.employees)==null?void 0:se.length)||0} employees`:"no data");const we=Array.isArray(ae)?ae:ae.data||ae.employees||[];a(we),console.log(" EmployeeList: State updated with",we.length,"employees"),i(null)}catch(ae){F.error("Error fetching employees:",ae),i(ae.message||"Failed to fetch employees.")}finally{l(!1)}},ne=async()=>{h(!0),p(0);try{F.log(" Testing biometric device connection...");const K=await fetch("/api/biometric-integrated/device/health");if(!K.ok)throw new Error("Biometric device not connected");const Z=await K.json();if(F.log(" Device status:",Z),!Z.success||!Z.connected)throw new Error("Biometric device not available");alert(` Device ready! Place your finger on the scanner when prompted.

You will need to scan 3 times. Wait for the green light between scans.`),p(1),F.log(" Starting fingerprint capture...");const se=await fetch("/api/biometric-integrated/pre-enroll",{method:"POST",headers:{"Content-Type":"application/json"}});if(!se.ok)throw new Error("Fingerprint capture failed");const ae=await se.json();if(F.log(" Fingerprint capture result:",ae),!ae.success)throw new Error(ae.message||"Failed to capture fingerprint");k(ae.template),F.log(" Fingerprint template stored in state (length:",ae.templateLength,")"),F.log(" Generating employee credentials...");const we=t(),qe=e();ee($e=>({...$e,employeeId:we,username:we,password:qe,plainTextPassword:qe,fingerprintEnrolled:!0})),p(2),F.log(" Fingerprint captured and credentials generated!"),alert(' Fingerprint captured successfully! You can now fill in the employee details and click "Add Employee".'),setTimeout(()=>{p(0),h(!1)},3e3)}catch(K){F.error(" Fingerprint enrollment error:",K),k(null);let Z=K.message;(K.message.includes("Failed to fetch")||K.message.includes("NetworkError"))&&(Z="Cannot connect to fingerprint service. Please make sure the biometric device is connected and the backend server is running."),alert(` Fingerprint Enrollment Failed:
`+Z),p(0),h(!1),ee(se=>({...se,employeeId:"",username:"",password:"",plainTextPassword:"",fingerprintEnrolled:!1}))}},ge=r.filter(K=>{var qe,$e;const Z=v.toLowerCase(),se=`${K.firstName} ${K.lastName}`.toLowerCase(),ae=((qe=K.employeeId)==null?void 0:qe.toLowerCase())||"",we=(($e=K.contactNumber)==null?void 0:$e.toLowerCase())||"";return se.includes(Z)||ae.includes(Z)||we.includes(Z)}),ye=K=>{const{name:Z,value:se}=K.target;ee(ae=>({...ae,[Z]:se}))},Ee=()=>{d(!0),m(!1),w(null),ee({firstName:"",lastName:"",email:"",employeeId:"",contactNumber:"",date:new Date().toISOString().split("T")[0],salary:"",status:"regular",username:"",password:"",plainTextPassword:"",fingerprintEnrolled:!1}),k(null),p(0)},He=K=>{w(K),m(!0),d(!1),ee({firstName:K.firstName||"",lastName:K.lastName||"",email:K.email||"",employeeId:K.employeeId||"",contactNumber:K.contactNumber||"",date:K.hireDate?new Date(K.hireDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],salary:K.salary||"",status:K.status||"regular",username:K.username||K.employeeId||"",password:K.password||"",plainTextPassword:K.plainTextPassword||"",fingerprintEnrolled:K.fingerprintEnrolled||!1})},W=async K=>{K.preventDefault();try{if(l(!0),!y&&!O.fingerprintEnrolled){alert('Please click "Enroll Fingerprint" button first to generate credentials!'),l(!1);return}if(!y&&(!O.employeeId||!O.username||!O.password)){alert("Please enroll fingerprint to generate credentials first!"),l(!1);return}if(!O.contactNumber.trim()){alert("Please enter contact number!"),l(!1);return}let Z;y?Z={firstName:O.firstName,lastName:O.lastName,email:O.email,contactNumber:O.contactNumber,hireDate:O.date,salary:parseFloat(O.salary),status:O.status}:Z={firstName:O.firstName,lastName:O.lastName,email:O.email,employeeId:O.employeeId,contactNumber:O.contactNumber,hireDate:O.date,salary:parseFloat(O.salary),status:O.status,username:O.username,password:O.password,plainTextPassword:O.plainTextPassword,fingerprintEnrolled:!1},F.log(" Submitting employee data:",Z);let se;if(y){const ae=await Ot.update(y._id,Z);if(ae.error)throw new Error(ae.error);const we=ae.data||ae;a(qe=>qe.map($e=>$e._id===y._id?{...$e,...we}:$e)),await ue(!0),m(!1),w(null),alert("Employee updated successfully!")}else{const ae=await Ot.create(Z);if(F.log(" Employee created:",ae),ae.error)throw new Error(ae.error);if(se=ae,O.fingerprintEnrolled&&N){F.log(" Saving pre-captured fingerprint template...");try{const we={fingerprintTemplate:N,fingerprintTemplates:[{template:N,enrolledAt:new Date().toISOString(),finger:"unknown"}],fingerprintEnrolled:!0,biometricStatus:"enrolled"};await Ot.update(se._id,we),alert(" Employee added and fingerprint enrolled successfully!"),k(null)}catch(we){F.error("Fingerprint save error:",we),alert(" Employee created but fingerprint save failed: "+we.message)}}else alert("Employee added successfully!");d(!1)}ee({firstName:"",lastName:"",email:"",employeeId:"",contactNumber:"",date:new Date().toISOString().split("T")[0],salary:"",status:"regular",username:"",password:"",plainTextPassword:"",fingerprintEnrolled:!1}),k(null),i(null)}catch(Z){F.error("Error saving employee:",Z),i(Z.message),alert("Error: "+Z.message)}finally{l(!1)}},de=async K=>{if(window.confirm("Are you sure you want to delete this employee?"))try{l(!0);const Z=await Ot.delete(K);Z.error?Z.error.includes("Employee not found")?(alert("This employee has already been deleted. Refreshing list..."),a(se=>se.filter(ae=>ae._id!==K)),await ue(!0)):alert("Error: "+Z.error):alert("Employee deleted successfully!"),i(null)}catch(Z){i(Z.message),Z.message.includes("Employee not found")?(alert("This employee has already been deleted. Refreshing list..."),a(se=>se.filter(ae=>ae._id!==K)),await ue(!0)):alert("Error: "+Z.message)}finally{l(!1)}},he=()=>{d(!1),m(!1),w(null),p(0),h(!1),V(!1),k(null)},ke=async()=>{if(!y){toast.error("No employee selected for re-enrollment");return}if(y.fingerprintEnrollmentCount>=3){toast.error("Maximum fingerprint enrollment limit (3) reached for this employee");return}window.confirm(`Re-enroll fingerprint for ${y.firstName} ${y.lastName}?

Current enrollments: ${y.fingerprintEnrollmentCount||0}/3

This will replace the existing fingerprint template.`)&&(V(!0),p(0),k(null),await ne())},fe=async()=>{if(!N){toast.error("No fingerprint captured. Please enroll fingerprint first.");return}if(!y){toast.error("No employee selected");return}try{l(!0),F.log(" Submitting fingerprint re-enrollment for:",y.employeeId);const K=await Ot.update(y._id,{fingerprintTemplate:N,fingerprintEnrolled:!0});F.log(" Re-enrollment response:",K);const Z=K.data||K;a(se=>se.map(ae=>ae._id===y._id?{...ae,...Z,fingerprintEnrolled:!0}:ae)),w(se=>({...se,...Z,fingerprintEnrolled:!0})),toast.success(`Fingerprint re-enrolled successfully for ${y.firstName} ${y.lastName}!`),ee(se=>({...se,fingerprintEnrolled:!0})),V(!1),p(0),k(null),await ue(!0)}catch(K){F.error(" Re-enrollment error:",K),toast.error(K.message||"Failed to re-enroll fingerprint")}finally{l(!1)}},Je=()=>{if(!O.fingerprintEnrolled){alert("Please enroll fingerprint first!");return}const K=t(),Z=e();ee(se=>({...se,employeeId:K,username:K,password:Z,plainTextPassword:Z}))};return o?n.jsx("div",{className:"container mt-4",children:n.jsxs("div",{className:"alert alert-danger",children:[n.jsx("h4",{className:"alert-heading",children:"Error!"}),n.jsx("p",{children:o}),n.jsx("hr",{}),n.jsx("button",{className:"btn btn-danger",onClick:ue,children:"Try Again"})]})}):n.jsxs("div",{className:"d-flex",style:{minHeight:"100vh",background:"#f8f9fb"},children:[n.jsx("button",{className:"hamburger-menu-button",onClick:()=>g(!j),"aria-label":"Toggle navigation menu",children:n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),n.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),n.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),j&&n.jsx("div",{className:"mobile-sidebar-overlay",onClick:()=>g(!1)}),n.jsx(Vr,{isMobileOpen:j,onClose:()=>g(!1)}),n.jsxs("div",{className:"admin-main-content",children:[n.jsx(Yr,{}),n.jsx("div",{className:"admin-content-area",children:n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"card shadow-sm",style:{borderRadius:"15px",border:"none"},children:[n.jsxs("div",{className:"card-header",style:{borderRadius:"0",padding:"20px",background:"transparent"},children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"mb-1",style:{fontWeight:"bold",color:"black",display:"flex",alignItems:"center",gap:8,fontSize:"2rem",fontFamily:"sans-serif"},children:[n.jsx("i",{className:"fas fa-users me-2"}),"Employee Management"]}),n.jsx("p",{className:"mb-0",style:{fontSize:"16px",opacity:"0.9",color:"black"},children:"Comprehensive employee database and management system"})]}),n.jsxs("button",{className:"btn",onClick:Ee,style:{backgroundColor:"#f06a98",border:"none",color:"#ffffff",padding:"10px 20px",fontSize:"1rem",borderRadius:"8px"},children:[n.jsx("i",{className:"fas fa-plus me-2"}),"Add Employee"]})]}),n.jsx("div",{className:"mt-4",children:n.jsxs("div",{className:"input-group",style:{maxWidth:"400px"},children:[n.jsx("span",{className:"input-group-text",children:n.jsx("i",{className:"fas fa-search"})}),n.jsx("input",{type:"text",className:"form-control",placeholder:"Search by name, employee ID, or contact...",value:v,onChange:K=>S(K.target.value)})]})})]}),n.jsx("div",{className:"card-body",style:{padding:"10px 20px"},children:s?n.jsx("div",{className:"text-center py-4",children:n.jsx("div",{className:"spinner-border text-primary",role:"status",children:n.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):n.jsxs("div",{className:"overflow-x-auto bg-white p-4 rounded-lg shadow-md",style:{marginTop:"10px"},children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-3",children:"Employee Records"}),n.jsxs("table",{className:"min-w-full table-auto text-sm",style:{fontSize:"0.875rem"},children:[n.jsx("thead",{className:"bg-gray-100 text-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"#"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Employee ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Employee Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Email"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Contact"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Date Hired"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Fingerprint"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Actions"})]})}),n.jsx("tbody",{className:"text-gray-700 divide-y divide-gray-200",children:ge.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"9",className:"text-center py-4 text-muted",children:["No employees found ",v&&"matching your search"]})}):ge.map((K,Z)=>n.jsx(tw,{employee:K,index:Z,onEdit:He,onDelete:de},K._id))})]})]})})]})})})," "]})," ",c&&n.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)",zIndex:1050},children:n.jsx("div",{className:"modal-dialog modal-lg",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h5",{className:"modal-title",style:{fontSize:"1.3rem",color:"#2c3e50"},children:[n.jsx("i",{className:"fas fa-user-plus me-2"}),"Add New Employee"]}),n.jsx("button",{type:"button",className:"btn-close",onClick:he})]}),n.jsx("div",{className:"modal-body",style:{padding:"30px"},children:n.jsxs("form",{onSubmit:W,children:[n.jsxs("div",{className:"row g-3",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"First Name *"}),n.jsx("input",{type:"text",name:"firstName",value:O.firstName,onChange:ye,className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Last Name *"}),n.jsx("input",{type:"text",name:"lastName",value:O.lastName,onChange:ye,className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Email *"}),n.jsx("input",{type:"email",name:"email",value:O.email,onChange:ye,className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Contact Number *"}),n.jsx("input",{type:"tel",name:"contactNumber",value:O.contactNumber,onChange:ye,className:"form-control",placeholder:"09123456789",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Status *"}),n.jsxs("select",{name:"status",value:O.status,onChange:ye,className:"form-control",required:!0,children:[n.jsx("option",{value:"regular",children:"Regular"}),n.jsx("option",{value:"oncall",children:"On Call"})]})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Date Hired *"}),n.jsx("input",{type:"date",name:"date",value:O.date,onChange:ye,className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-12",children:[n.jsx("label",{className:"form-label",children:"Biometric Enrollment *"}),n.jsxs("div",{className:"text-center border rounded p-3 bg-light",children:[n.jsx("button",{type:"button",onClick:ne,disabled:b||O.fingerprintEnrolled,className:`btn ${O.fingerprintEnrolled?"btn-success":"btn-primary"}`,style:{minWidth:"180px",padding:"8px 16px",fontSize:"0.9rem"},children:b?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fas fa-spinner fa-spin me-2"}),f===1?"Scanning...":"Processing..."]}):O.fingerprintEnrolled?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fas fa-check me-2"}),"Fingerprint Enrolled"]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fas fa-fingerprint me-2"}),"Enroll Fingerprint"]})}),f===1&&n.jsxs("div",{className:"alert alert-info mt-2 mb-0 p-2 text-center",children:[n.jsx("i",{className:"fas fa-info-circle me-2"}),"Please touch your finger on the biometric scanner..."]}),f===2&&n.jsxs("div",{className:"alert alert-success mt-2 mb-0 p-2 text-center",children:[n.jsx("i",{className:"fas fa-check-circle me-2"}),"Fingerprint enrolled successfully! Employee ID and credentials generated."]}),!O.fingerprintEnrolled&&f===0&&n.jsxs("small",{className:"text-danger d-block mt-2 text-center",children:[n.jsx("i",{className:"fas fa-exclamation-triangle me-1"}),"Fingerprint enrollment is required to generate Employee ID"]})]})]}),n.jsx("div",{className:"col-12",children:n.jsxs("div",{className:"card bg-light",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h6",{className:"mb-0",children:[n.jsx("i",{className:"fas fa-key me-2"}),"Employee Credentials",O.fingerprintEnrolled&&n.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary float-end",onClick:Je,children:[n.jsx("i",{className:"fas fa-sync me-1"}),"Regenerate"]})]})}),n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-4",children:[n.jsx("label",{className:"form-label",children:"Employee ID *"}),n.jsx("input",{type:"text",name:"employeeId",value:O.employeeId,onChange:ye,className:"form-control",required:!0,readOnly:!0,placeholder:"Will be generated after fingerprint enrollment"})]}),n.jsxs("div",{className:"col-md-4",children:[n.jsx("label",{className:"form-label",children:"Username *"}),n.jsx("input",{type:"text",name:"username",value:O.username,onChange:ye,className:"form-control",required:!0,readOnly:!0,placeholder:"Will be generated after fingerprint enrollment"})]}),n.jsxs("div",{className:"col-md-4",children:[n.jsx("label",{className:"form-label",children:"Password *"}),n.jsx("input",{type:"text",name:"password",value:O.password,onChange:ye,className:"form-control",required:!0,readOnly:!0,placeholder:"Will be generated after fingerprint enrollment"})]})]}),n.jsxs("div",{className:"text-muted mt-2",style:{color:"black",fontSize:"0.9rem"},children:[n.jsx("i",{className:"fas fa-info-circle me-1"}),"Employee ID and username will be auto-generated after fingerprint enrollment and cannot be changed."]})]})]})})]}),n.jsxs("div",{className:"modal-footer mt-4",children:[n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:he,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn",style:{backgroundColor:"#f06a98",color:"white"},disabled:s||!O.fingerprintEnrolled,children:s?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Saving..."]}):"Add Employee"})]})]})})]})})}),u&&n.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)",zIndex:1050},children:n.jsx("div",{className:"modal-dialog modal-lg",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h5",{className:"modal-title",style:{fontSize:"1.3rem",color:"#2c3e50"},children:[n.jsx("i",{className:"fas fa-user-edit me-2"}),"Edit Employee"]}),n.jsx("button",{type:"button",className:"btn-close",onClick:he})]}),n.jsx("div",{className:"modal-body",style:{padding:"30px"},children:n.jsxs("form",{onSubmit:W,children:[n.jsxs("div",{className:"row g-3",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"First Name *"}),n.jsx("input",{type:"text",name:"firstName",value:O.firstName,onChange:ye,className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Last Name *"}),n.jsx("input",{type:"text",name:"lastName",value:O.lastName,onChange:ye,className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Email *"}),n.jsx("input",{type:"email",name:"email",value:O.email,onChange:ye,className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Contact Number *"}),n.jsx("input",{type:"tel",name:"contactNumber",value:O.contactNumber,onChange:ye,className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Status *"}),n.jsxs("select",{name:"status",value:O.status,onChange:ye,className:"form-control",required:!0,children:[n.jsx("option",{value:"regular",children:"Regular"}),n.jsx("option",{value:"oncall",children:"On Call"})]})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Date Hired *"}),n.jsx("input",{type:"date",name:"date",value:O.date,onChange:ye,className:"form-control",required:!0})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Fingerprint Status"}),n.jsxs("div",{className:`p-2 rounded text-center ${O.fingerprintEnrolled?"bg-success text-white":"bg-secondary text-white"}`,children:[n.jsx("i",{className:`fas ${O.fingerprintEnrolled?"fa-check-circle":"fa-times-circle"} me-2`}),O.fingerprintEnrolled?"Enrolled":"Not Enrolled"]})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label",children:"Fingerprint Actions"}),n.jsxs("button",{type:"button",className:"btn btn-warning w-100",onClick:ke,disabled:b,children:[n.jsx("i",{className:"fas fa-fingerprint me-2"}),O.fingerprintEnrolled?"Re-Enroll Fingerprint":"Enroll Fingerprint"]}),(y==null?void 0:y.fingerprintEnrollmentCount)>0&&n.jsxs("small",{className:"text-muted d-block mt-1",children:["Enrollments: ",y.fingerprintEnrollmentCount,"/3"]})]}),R&&n.jsx("div",{className:"col-12 mt-3",children:n.jsxs("div",{className:"card border-primary",children:[n.jsx("div",{className:"card-header bg-primary text-white",children:n.jsxs("h6",{className:"mb-0",children:[n.jsx("i",{className:"fas fa-fingerprint me-2"}),"Fingerprint Re-Enrollment"]})}),n.jsxs("div",{className:"card-body text-center",children:[f===0&&n.jsxs("div",{className:"alert alert-info",children:[n.jsx("i",{className:"fas fa-info-circle me-2"}),"Place your finger on the scanner to begin enrollment."]}),f===1&&n.jsxs("div",{className:"alert alert-warning",children:[n.jsx("div",{className:"spinner-border text-warning me-2",role:"status"}),n.jsx("strong",{children:"Scanning fingerprint..."}),n.jsx("p",{className:"mb-0 mt-2",children:"Please keep your finger on the scanner"})]}),f===2&&N&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"alert alert-success",children:[n.jsx("i",{className:"fas fa-check-circle me-2"}),n.jsx("strong",{children:"Fingerprint captured successfully!"})]}),n.jsx("button",{type:"button",className:"btn btn-success btn-lg",onClick:fe,disabled:s,children:s?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fas fa-save me-2"}),"Save New Fingerprint"]})})]})]})]})}),n.jsx("div",{className:"col-12",children:n.jsxs("div",{className:"card bg-light",children:[n.jsx("div",{className:"card-header",children:n.jsxs("h6",{className:"mb-0",children:[n.jsx("i",{className:"fas fa-key me-2"}),"Employee Credentials"]})}),n.jsxs("div",{className:"card-body",children:[n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-4",children:[n.jsx("label",{className:"form-label",children:"Employee ID *"}),n.jsx("input",{type:"text",name:"employeeId",value:O.employeeId,onChange:ye,className:"form-control",required:!0,readOnly:!0})]}),n.jsxs("div",{className:"col-md-4",children:[n.jsx("label",{className:"form-label",children:"Username *"}),n.jsx("input",{type:"text",name:"username",value:O.username,onChange:ye,className:"form-control",required:!0,readOnly:!0})]}),n.jsxs("div",{className:"col-md-4",children:[n.jsx("label",{className:"form-label",children:"Password *"}),n.jsx("input",{type:"text",name:"password",value:O.plainTextPassword||"(Password is encrypted - use reset if needed)",onChange:ye,className:"form-control",required:!0,readOnly:!0})]})]}),n.jsxs("div",{className:"text-muted mt-2",style:{color:"black",fontSize:"0.9rem"},children:[n.jsx("i",{className:"fas fa-info-circle me-1"}),"Employee credentials cannot be changed once generated."]})]})]})})]}),n.jsxs("div",{className:"modal-footer mt-4",children:[n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:he,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn",style:{backgroundColor:"#f06a98",color:"white"},disabled:s,children:s?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Updating..."]}):"Update Employee"})]})]})})]})})})]})},nw="/assets/login-BiqcOW6_.png",aw="/assets/login1-DUhdvNHC.png",sw="/assets/login2-D0M9g4kM.png",lw=({onComplete:e,onCancel:t,loading:r=!1})=>{const[a,s]=x.useState(["","","","","",""]),[l,o]=x.useState(!1),i=x.useRef([]);x.useEffect(()=>{i.current[0]&&i.current[0].focus()},[]),x.useEffect(()=>{if(a.every(w=>w!=="")&&!l){const w=a.join("");w.length===6&&(o(!0),e(w))}},[a,e,l]);const c=(y,w)=>{if(w&&!/^\d$/.test(w))return;const v=[...a];v[y]=w,s(v),w&&y<5&&i.current[y+1].focus()},d=(y,w)=>{w.key==="Backspace"&&!a[y]&&y>0&&i.current[y-1].focus(),w.key==="ArrowLeft"&&y>0&&i.current[y-1].focus(),w.key==="ArrowRight"&&y<5&&i.current[y+1].focus()},u=y=>{y.preventDefault();const w=y.clipboardData.getData("text");if(/^\d{6}$/.test(w)){const v=w.split("");s(v),i.current[5].focus()}},m=()=>{s(["","","","","",""]),o(!1),i.current[0].focus()};return n.jsxs("div",{className:"pin-input-container",children:[n.jsxs("div",{className:"pin-input-header",children:[n.jsx("h3",{className:"pin-input-title",children:"Enter 6-Digit PIN"}),n.jsx("p",{className:"pin-input-subtitle",children:"Please enter your administrator PIN to continue"})]}),n.jsx("div",{className:"pin-input-boxes",onPaste:u,children:a.map((y,w)=>n.jsx("input",{ref:v=>i.current[w]=v,type:"password",inputMode:"numeric",maxLength:1,value:y,onChange:v=>c(w,v.target.value),onKeyDown:v=>d(w,v),className:`pin-input-box ${y?"filled":""}`,disabled:r,autoComplete:"off"},w))}),n.jsxs("div",{className:"pin-input-actions",children:[n.jsx("button",{type:"button",onClick:m,className:"pin-input-btn pin-input-btn-clear",disabled:r,children:"Clear"}),n.jsx("button",{type:"button",onClick:t,className:"pin-input-btn pin-input-btn-cancel",disabled:r,children:"Cancel"})]}),r&&n.jsxs("div",{className:"pin-input-loading",children:[n.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:n.jsx("span",{className:"visually-hidden",children:"Verifying..."})}),n.jsx("span",{className:"ms-2",children:"Verifying PIN..."})]})]})};function ow(){const[e,t]=Te.useState(new Date);Te.useEffect(()=>{const o=setInterval(()=>t(new Date),1e3);return()=>clearInterval(o)},[]);const a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],s=e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),l=e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return n.jsxs("span",{className:"login-clock-text",children:[a," | ",s," ",l]})}const iw=()=>{const[e,t]=x.useState(!1),[r,a]=x.useState(""),[s,l]=x.useState(""),[o,i]=x.useState(""),[c,d]=x.useState(0),[u,m]=x.useState(!1),[y,w]=x.useState(!1),[v,S]=x.useState(null),b=_a(),h=[nw,aw,sw];x.useEffect(()=>{const j=setInterval(()=>{d(g=>(g+1)%h.length)},4e3);return()=>clearInterval(j)},[]);const f=()=>t(j=>!j),p=async j=>{j.preventDefault(),i("");try{const g=await Ot.login({username:r,password:s});if(g.error){i(g.error),pe.error(g.error);return}if(g.requiresPin===!0){S({token:g.token,employee:g.employee,employeeId:g.employee.employeeId||g.employee.username}),m(!0),pe.info("Please enter your 6-digit PIN");return}if(g.employee&&g.employee.isAdmin){if(!g.employee.adminPin){pe.error("Admin PIN not configured. Please contact system administrator."),i("Admin PIN not configured. Please contact system administrator.");return}S({token:g.token,employee:g.employee,employeeId:g.employee.employeeId||g.employee.username}),m(!0),pe.info("Please enter your 6-digit PIN");return}g.token&&localStorage.setItem("token",g.token);const R={...g.employee,requiresPasswordChange:g.requiresPasswordChange||!1};localStorage.setItem("userRole","employee"),localStorage.setItem("currentEmployee",JSON.stringify(R)),pe.success(g.message||"Login successful"),b("/employee-dashboard")}catch(g){console.error("Login error:",g),i("Login failed. Please try again."),pe.error("Login failed. Please try again.")}},N=async j=>{if(!v){i("Session expired. Please login again."),m(!1);return}if(!y){w(!0),i("");try{const g=await Ot.verifyPin(v.employeeId,j);if(g.error||!g.success){i(g.message||g.error||"Invalid PIN"),pe.error(g.message||g.error||"Invalid PIN"),w(!1),setTimeout(()=>{m(!1),S(null),l("")},2e3);return}localStorage.setItem("token",v.token),localStorage.setItem("userRole","admin"),localStorage.setItem("currentEmployee",JSON.stringify(v.employee)),pe.success("PIN verified successfully"),m(!1),w(!1),S(null),setTimeout(()=>{b("/dashboard")},100)}catch(g){console.error("PIN verification error:",g),i("PIN verification failed. Please try again."),pe.error("PIN verification failed. Please try again."),w(!1)}}},k=()=>{m(!1),S(null),l(""),i(""),pe.info("Login cancelled")};return n.jsxs("div",{className:"login-wrapper",children:[u&&n.jsx("div",{className:"pin-verification-overlay",children:n.jsx(lw,{onComplete:N,onCancel:k,loading:y})}),n.jsx("div",{className:"login-bg-circle login-bg-circle-top"}),n.jsx("div",{className:"login-bg-circle login-bg-circle-bottom"}),n.jsx("div",{className:"login-clock-bar",children:n.jsx(ow,{})}),n.jsxs("div",{className:"login-main-container",children:[n.jsxs("div",{className:"login-form-section",children:[n.jsx("img",{src:Ro,alt:"Garden & Landscaping Logo",className:"login-logo"}),n.jsx("h2",{className:"login-welcome-title",children:"Welcome Back"}),n.jsx("p",{className:"login-subtitle",children:"Payroll Management System"}),n.jsxs("form",{className:"login-form",onSubmit:p,children:[n.jsxs("div",{className:"login-input-wrapper",children:[n.jsx("label",{className:"login-label",children:"Username or Employee ID"}),n.jsxs("div",{className:"login-input-container",children:[n.jsx(Zr,{className:"login-input-icon"}),n.jsx("input",{type:"text",placeholder:"Enter your username",value:r,onChange:j=>a(j.target.value),className:"login-input-field",autoComplete:"username"})]})]}),n.jsxs("div",{className:"login-input-wrapper",children:[n.jsx("label",{className:"login-label",children:"Password"}),n.jsxs("div",{className:"login-input-container",children:[n.jsx(hn,{className:"login-input-icon"}),n.jsx("input",{type:e?"text":"password",placeholder:"Enter your password",value:s,onChange:j=>l(j.target.value),className:"login-input-field",autoComplete:"current-password"}),n.jsx("span",{onClick:f,className:"login-password-toggle",children:e?n.jsx(Lr,{}):n.jsx(Dr,{})})]})]}),o&&n.jsx("p",{className:"login-error-message",children:o}),n.jsx("button",{type:"submit",className:"login-button",children:"Sign In"})]})]}),n.jsxs("div",{className:"login-image-section",children:[n.jsx("div",{className:"login-image-bg-pattern"}),n.jsx("div",{className:"login-image-slider-container",children:h.map((j,g)=>n.jsx("img",{src:j,alt:`Garden & Landscaping ${g+1}`,className:`login-slider-image ${c===g?"active":""}`},g))}),n.jsx("div",{className:"login-slider-indicators",children:h.map((j,g)=>n.jsx("div",{className:`login-slider-indicator ${c===g?"active":""}`,onClick:()=>d(g)},g))})]})]}),n.jsxs("div",{className:"login-social-container",children:[n.jsx("a",{href:"https://www.facebook.com/balajadiarachel.com.ph",target:"_blank",rel:"noopener noreferrer",className:"login-social-icon login-social-icon-facebook",children:n.jsx(Uv,{})}),n.jsx("a",{href:"https://maps.app.goo.gl/RNvRoSwEbEi7cr81A",target:"_blank",rel:"noopener noreferrer",className:"login-social-icon login-social-icon-maps",children:n.jsx(qv,{})})]}),n.jsx("p",{className:"login-footer-text",children:n.jsx("i",{children:"  2025 Rae Disenyo Garden & Landscaping Services. All rights reserved."})})]})},cw="modulepreload",dw=function(e){return"/"+e},pf={},uw=function(t,r,a){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),i=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=dw(c),c in pf)return;pf[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":cw,d||(m.as="script"),m.crossOrigin="",m.href=c,i&&m.setAttribute("nonce",i),document.head.appendChild(m),d)return new Promise((y,w)=>{m.addEventListener("load",y),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(o){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o}return s.then(o=>{for(const i of o||[])i.status==="rejected"&&l(i.reason);return t().catch(l)})};function vh(e,t){return function(){return e.apply(t,arguments)}}const{toString:fw}=Object.prototype,{getPrototypeOf:Dd}=Object,{iterator:Ao,toStringTag:wh}=Symbol,_o=(e=>t=>{const r=fw.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),br=e=>(e=e.toLowerCase(),t=>_o(t)===e),Io=e=>t=>typeof t===e,{isArray:Ia}=Array,Os=Io("undefined");function mw(e){return e!==null&&!Os(e)&&e.constructor!==null&&!Os(e.constructor)&&Kt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const bh=br("ArrayBuffer");function pw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&bh(e.buffer),t}const hw=Io("string"),Kt=Io("function"),Nh=Io("number"),Lo=e=>e!==null&&typeof e=="object",yw=e=>e===!0||e===!1,Rl=e=>{if(_o(e)!=="object")return!1;const t=Dd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(wh in e)&&!(Ao in e)},gw=br("Date"),xw=br("File"),vw=br("Blob"),ww=br("FileList"),bw=e=>Lo(e)&&Kt(e.pipe),Nw=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Kt(e.append)&&((t=_o(e))==="formdata"||t==="object"&&Kt(e.toString)&&e.toString()==="[object FormData]"))},jw=br("URLSearchParams"),[Sw,kw,Ew,Cw]=["ReadableStream","Request","Response","Headers"].map(br),Dw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ys(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),Ia(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{const l=r?Object.getOwnPropertyNames(e):Object.keys(e),o=l.length;let i;for(a=0;a<o;a++)i=l[a],t.call(null,e[i],i,e)}}function jh(e,t){t=t.toLowerCase();const r=Object.keys(e);let a=r.length,s;for(;a-- >0;)if(s=r[a],t===s.toLowerCase())return s;return null}const _n=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sh=e=>!Os(e)&&e!==_n;function vc(){const{caseless:e}=Sh(this)&&this||{},t={},r=(a,s)=>{const l=e&&jh(t,s)||s;Rl(t[l])&&Rl(a)?t[l]=vc(t[l],a):Rl(a)?t[l]=vc({},a):Ia(a)?t[l]=a.slice():t[l]=a};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Ys(arguments[a],r);return t}const Pw=(e,t,r,{allOwnKeys:a}={})=>(Ys(t,(s,l)=>{r&&Kt(s)?e[l]=vh(s,r):e[l]=s},{allOwnKeys:a}),e),Tw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Rw=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Aw=(e,t,r,a)=>{let s,l,o;const i={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),l=s.length;l-- >0;)o=s[l],(!a||a(o,e,t))&&!i[o]&&(t[o]=e[o],i[o]=!0);e=r!==!1&&Dd(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},_w=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},Iw=e=>{if(!e)return null;if(Ia(e))return e;let t=e.length;if(!Nh(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Lw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Dd(Uint8Array)),Ow=(e,t)=>{const a=(e&&e[Ao]).call(e);let s;for(;(s=a.next())&&!s.done;){const l=s.value;t.call(e,l[0],l[1])}},Mw=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},Fw=br("HTMLFormElement"),zw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,s){return a.toUpperCase()+s}),hf=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),$w=br("RegExp"),kh=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Ys(r,(s,l)=>{let o;(o=t(s,l,e))!==!1&&(a[l]=o||s)}),Object.defineProperties(e,a)},Uw=e=>{kh(e,(t,r)=>{if(Kt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(Kt(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Bw=(e,t)=>{const r={},a=s=>{s.forEach(l=>{r[l]=!0})};return Ia(e)?a(e):a(String(e).split(t)),r},Hw=()=>{},Ww=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Vw(e){return!!(e&&Kt(e.append)&&e[wh]==="FormData"&&e[Ao])}const Yw=e=>{const t=new Array(10),r=(a,s)=>{if(Lo(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[s]=a;const l=Ia(a)?[]:{};return Ys(a,(o,i)=>{const c=r(o,s+1);!Os(c)&&(l[i]=c)}),t[s]=void 0,l}}return a};return r(e,0)},qw=br("AsyncFunction"),Jw=e=>e&&(Lo(e)||Kt(e))&&Kt(e.then)&&Kt(e.catch),Eh=((e,t)=>e?setImmediate:t?((r,a)=>(_n.addEventListener("message",({source:s,data:l})=>{s===_n&&l===r&&a.length&&a.shift()()},!1),s=>{a.push(s),_n.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Kt(_n.postMessage)),Kw=typeof queueMicrotask<"u"?queueMicrotask.bind(_n):typeof process<"u"&&process.nextTick||Eh,Qw=e=>e!=null&&Kt(e[Ao]),B={isArray:Ia,isArrayBuffer:bh,isBuffer:mw,isFormData:Nw,isArrayBufferView:pw,isString:hw,isNumber:Nh,isBoolean:yw,isObject:Lo,isPlainObject:Rl,isReadableStream:Sw,isRequest:kw,isResponse:Ew,isHeaders:Cw,isUndefined:Os,isDate:gw,isFile:xw,isBlob:vw,isRegExp:$w,isFunction:Kt,isStream:bw,isURLSearchParams:jw,isTypedArray:Lw,isFileList:ww,forEach:Ys,merge:vc,extend:Pw,trim:Dw,stripBOM:Tw,inherits:Rw,toFlatObject:Aw,kindOf:_o,kindOfTest:br,endsWith:_w,toArray:Iw,forEachEntry:Ow,matchAll:Mw,isHTMLForm:Fw,hasOwnProperty:hf,hasOwnProp:hf,reduceDescriptors:kh,freezeMethods:Uw,toObjectSet:Bw,toCamelCase:zw,noop:Hw,toFiniteNumber:Ww,findKey:jh,global:_n,isContextDefined:Sh,isSpecCompliantForm:Vw,toJSONObject:Yw,isAsyncFn:qw,isThenable:Jw,setImmediate:Eh,asap:Kw,isIterable:Qw};function Ce(e,t,r,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}B.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const Ch=Ce.prototype,Dh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Dh[e]={value:e}});Object.defineProperties(Ce,Dh);Object.defineProperty(Ch,"isAxiosError",{value:!0});Ce.from=(e,t,r,a,s,l)=>{const o=Object.create(Ch);return B.toFlatObject(e,o,function(c){return c!==Error.prototype},i=>i!=="isAxiosError"),Ce.call(o,e.message,t,r,a,s),o.cause=e,o.name=e.name,l&&Object.assign(o,l),o};const Xw=null;function wc(e){return B.isPlainObject(e)||B.isArray(e)}function Ph(e){return B.endsWith(e,"[]")?e.slice(0,-2):e}function yf(e,t,r){return e?e.concat(t).map(function(s,l){return s=Ph(s),!r&&l?"["+s+"]":s}).join(r?".":""):t}function Gw(e){return B.isArray(e)&&!e.some(wc)}const Zw=B.toFlatObject(B,{},null,function(t){return/^is[A-Z]/.test(t)});function Oo(e,t,r){if(!B.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=B.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,b){return!B.isUndefined(b[S])});const a=r.metaTokens,s=r.visitor||u,l=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(t);if(!B.isFunction(s))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(B.isDate(v))return v.toISOString();if(!c&&B.isBlob(v))throw new Ce("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(v)||B.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,S,b){let h=v;if(v&&!b&&typeof v=="object"){if(B.endsWith(S,"{}"))S=a?S:S.slice(0,-2),v=JSON.stringify(v);else if(B.isArray(v)&&Gw(v)||(B.isFileList(v)||B.endsWith(S,"[]"))&&(h=B.toArray(v)))return S=Ph(S),h.forEach(function(p,N){!(B.isUndefined(p)||p===null)&&t.append(o===!0?yf([S],N,l):o===null?S:S+"[]",d(p))}),!1}return wc(v)?!0:(t.append(yf(b,S,l),d(v)),!1)}const m=[],y=Object.assign(Zw,{defaultVisitor:u,convertValue:d,isVisitable:wc});function w(v,S){if(!B.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+S.join("."));m.push(v),B.forEach(v,function(h,f){(!(B.isUndefined(h)||h===null)&&s.call(t,h,B.isString(f)?f.trim():f,S,y))===!0&&w(h,S?S.concat(f):[f])}),m.pop()}}if(!B.isObject(e))throw new TypeError("data must be an object");return w(e),t}function gf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Pd(e,t){this._pairs=[],e&&Oo(e,this,t)}const Th=Pd.prototype;Th.append=function(t,r){this._pairs.push([t,r])};Th.toString=function(t){const r=t?function(a){return t.call(this,a,gf)}:gf;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function e1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Rh(e,t,r){if(!t)return e;const a=r&&r.encode||e1;B.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let l;if(s?l=s(t,r):l=B.isURLSearchParams(t)?t.toString():new Pd(t,r).toString(a),l){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class xf{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){B.forEach(this.handlers,function(a){a!==null&&t(a)})}}const Ah={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t1=typeof URLSearchParams<"u"?URLSearchParams:Pd,r1=typeof FormData<"u"?FormData:null,n1=typeof Blob<"u"?Blob:null,a1={isBrowser:!0,classes:{URLSearchParams:t1,FormData:r1,Blob:n1},protocols:["http","https","file","blob","url","data"]},Td=typeof window<"u"&&typeof document<"u",bc=typeof navigator=="object"&&navigator||void 0,s1=Td&&(!bc||["ReactNative","NativeScript","NS"].indexOf(bc.product)<0),l1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",o1=Td&&window.location.href||"http://localhost",i1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Td,hasStandardBrowserEnv:s1,hasStandardBrowserWebWorkerEnv:l1,navigator:bc,origin:o1},Symbol.toStringTag,{value:"Module"})),Rt={...i1,...a1};function c1(e,t){return Oo(e,new Rt.classes.URLSearchParams,Object.assign({visitor:function(r,a,s,l){return Rt.isNode&&B.isBuffer(r)?(this.append(a,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},t))}function d1(e){return B.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function u1(e){const t={},r=Object.keys(e);let a;const s=r.length;let l;for(a=0;a<s;a++)l=r[a],t[l]=e[l];return t}function _h(e){function t(r,a,s,l){let o=r[l++];if(o==="__proto__")return!0;const i=Number.isFinite(+o),c=l>=r.length;return o=!o&&B.isArray(s)?s.length:o,c?(B.hasOwnProp(s,o)?s[o]=[s[o],a]:s[o]=a,!i):((!s[o]||!B.isObject(s[o]))&&(s[o]=[]),t(r,a,s[o],l)&&B.isArray(s[o])&&(s[o]=u1(s[o])),!i)}if(B.isFormData(e)&&B.isFunction(e.entries)){const r={};return B.forEachEntry(e,(a,s)=>{t(d1(a),s,r,0)}),r}return null}function f1(e,t,r){if(B.isString(e))try{return(t||JSON.parse)(e),B.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const qs={transitional:Ah,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",s=a.indexOf("application/json")>-1,l=B.isObject(t);if(l&&B.isHTMLForm(t)&&(t=new FormData(t)),B.isFormData(t))return s?JSON.stringify(_h(t)):t;if(B.isArrayBuffer(t)||B.isBuffer(t)||B.isStream(t)||B.isFile(t)||B.isBlob(t)||B.isReadableStream(t))return t;if(B.isArrayBufferView(t))return t.buffer;if(B.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return c1(t,this.formSerializer).toString();if((i=B.isFileList(t))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Oo(i?{"files[]":t}:t,c&&new c,this.formSerializer)}}return l||s?(r.setContentType("application/json",!1),f1(t)):t}],transformResponse:[function(t){const r=this.transitional||qs.transitional,a=r&&r.forcedJSONParsing,s=this.responseType==="json";if(B.isResponse(t)||B.isReadableStream(t))return t;if(t&&B.isString(t)&&(a&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(i){if(o)throw i.name==="SyntaxError"?Ce.from(i,Ce.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rt.classes.FormData,Blob:Rt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],e=>{qs.headers[e]={}});const m1=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),p1=e=>{const t={};let r,a,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),a=o.substring(s+1).trim(),!(!r||t[r]&&m1[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},vf=Symbol("internals");function Ga(e){return e&&String(e).trim().toLowerCase()}function Al(e){return e===!1||e==null?e:B.isArray(e)?e.map(Al):String(e)}function h1(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const y1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function yi(e,t,r,a,s){if(B.isFunction(a))return a.call(this,t,r);if(s&&(t=r),!!B.isString(t)){if(B.isString(a))return t.indexOf(a)!==-1;if(B.isRegExp(a))return a.test(t)}}function g1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function x1(e,t){const r=B.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(s,l,o){return this[a].call(this,t,s,l,o)},configurable:!0})})}let Qt=class{constructor(t){t&&this.set(t)}set(t,r,a){const s=this;function l(i,c,d){const u=Ga(c);if(!u)throw new Error("header name must be a non-empty string");const m=B.findKey(s,u);(!m||s[m]===void 0||d===!0||d===void 0&&s[m]!==!1)&&(s[m||c]=Al(i))}const o=(i,c)=>B.forEach(i,(d,u)=>l(d,u,c));if(B.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(B.isString(t)&&(t=t.trim())&&!y1(t))o(p1(t),r);else if(B.isObject(t)&&B.isIterable(t)){let i={},c,d;for(const u of t){if(!B.isArray(u))throw TypeError("Object iterator must return a key-value pair");i[d=u[0]]=(c=i[d])?B.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(i,r)}else t!=null&&l(r,t,a);return this}get(t,r){if(t=Ga(t),t){const a=B.findKey(this,t);if(a){const s=this[a];if(!r)return s;if(r===!0)return h1(s);if(B.isFunction(r))return r.call(this,s,a);if(B.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ga(t),t){const a=B.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||yi(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let s=!1;function l(o){if(o=Ga(o),o){const i=B.findKey(a,o);i&&(!r||yi(a,a[i],i,r))&&(delete a[i],s=!0)}}return B.isArray(t)?t.forEach(l):l(t),s}clear(t){const r=Object.keys(this);let a=r.length,s=!1;for(;a--;){const l=r[a];(!t||yi(this,this[l],l,t,!0))&&(delete this[l],s=!0)}return s}normalize(t){const r=this,a={};return B.forEach(this,(s,l)=>{const o=B.findKey(a,l);if(o){r[o]=Al(s),delete r[l];return}const i=t?g1(l):String(l).trim();i!==l&&delete r[l],r[i]=Al(s),a[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return B.forEach(this,(a,s)=>{a!=null&&a!==!1&&(r[s]=t&&B.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(s=>a.set(s)),a}static accessor(t){const a=(this[vf]=this[vf]={accessors:{}}).accessors,s=this.prototype;function l(o){const i=Ga(o);a[i]||(x1(s,o),a[i]=!0)}return B.isArray(t)?t.forEach(l):l(t),this}};Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(Qt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});B.freezeMethods(Qt);function gi(e,t){const r=this||qs,a=t||r,s=Qt.from(a.headers);let l=a.data;return B.forEach(e,function(i){l=i.call(r,l,s.normalize(),t?t.status:void 0)}),s.normalize(),l}function Ih(e){return!!(e&&e.__CANCEL__)}function La(e,t,r){Ce.call(this,e??"canceled",Ce.ERR_CANCELED,t,r),this.name="CanceledError"}B.inherits(La,Ce,{__CANCEL__:!0});function Lh(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new Ce("Request failed with status code "+r.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function v1(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function w1(e,t){e=e||10;const r=new Array(e),a=new Array(e);let s=0,l=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=a[l];o||(o=d),r[s]=c,a[s]=d;let m=l,y=0;for(;m!==s;)y+=r[m++],m=m%e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),d-o<t)return;const w=u&&d-u;return w?Math.round(y*1e3/w):void 0}}function b1(e,t){let r=0,a=1e3/t,s,l;const o=(d,u=Date.now())=>{r=u,s=null,l&&(clearTimeout(l),l=null),e.apply(null,d)};return[(...d)=>{const u=Date.now(),m=u-r;m>=a?o(d,u):(s=d,l||(l=setTimeout(()=>{l=null,o(s)},a-m)))},()=>s&&o(s)]}const oo=(e,t,r=3)=>{let a=0;const s=w1(50,250);return b1(l=>{const o=l.loaded,i=l.lengthComputable?l.total:void 0,c=o-a,d=s(c),u=o<=i;a=o;const m={loaded:o,total:i,progress:i?o/i:void 0,bytes:c,rate:d||void 0,estimated:d&&i&&u?(i-o)/d:void 0,event:l,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(m)},r)},wf=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},bf=e=>(...t)=>B.asap(()=>e(...t)),N1=Rt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Rt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Rt.origin),Rt.navigator&&/(msie|trident)/i.test(Rt.navigator.userAgent)):()=>!0,j1=Rt.hasStandardBrowserEnv?{write(e,t,r,a,s,l){const o=[e+"="+encodeURIComponent(t)];B.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),B.isString(a)&&o.push("path="+a),B.isString(s)&&o.push("domain="+s),l===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function S1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function k1(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Oh(e,t,r){let a=!S1(t);return e&&(a||r==!1)?k1(e,t):t}const Nf=e=>e instanceof Qt?{...e}:e;function Vn(e,t){t=t||{};const r={};function a(d,u,m,y){return B.isPlainObject(d)&&B.isPlainObject(u)?B.merge.call({caseless:y},d,u):B.isPlainObject(u)?B.merge({},u):B.isArray(u)?u.slice():u}function s(d,u,m,y){if(B.isUndefined(u)){if(!B.isUndefined(d))return a(void 0,d,m,y)}else return a(d,u,m,y)}function l(d,u){if(!B.isUndefined(u))return a(void 0,u)}function o(d,u){if(B.isUndefined(u)){if(!B.isUndefined(d))return a(void 0,d)}else return a(void 0,u)}function i(d,u,m){if(m in t)return a(d,u);if(m in e)return a(void 0,d)}const c={url:l,method:l,data:l,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(d,u,m)=>s(Nf(d),Nf(u),m,!0)};return B.forEach(Object.keys(Object.assign({},e,t)),function(u){const m=c[u]||s,y=m(e[u],t[u],u);B.isUndefined(y)&&m!==i||(r[u]=y)}),r}const Mh=e=>{const t=Vn({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:l,headers:o,auth:i}=t;t.headers=o=Qt.from(o),t.url=Rh(Oh(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):"")));let c;if(B.isFormData(r)){if(Rt.hasStandardBrowserEnv||Rt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Rt.hasStandardBrowserEnv&&(a&&B.isFunction(a)&&(a=a(t)),a||a!==!1&&N1(t.url))){const d=s&&l&&j1.read(l);d&&o.set(s,d)}return t},E1=typeof XMLHttpRequest<"u",C1=E1&&function(e){return new Promise(function(r,a){const s=Mh(e);let l=s.data;const o=Qt.from(s.headers).normalize();let{responseType:i,onUploadProgress:c,onDownloadProgress:d}=s,u,m,y,w,v;function S(){w&&w(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function h(){if(!b)return;const p=Qt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),k={data:!i||i==="text"||i==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:p,config:e,request:b};Lh(function(g){r(g),S()},function(g){a(g),S()},k),b=null}"onloadend"in b?b.onloadend=h:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(h)},b.onabort=function(){b&&(a(new Ce("Request aborted",Ce.ECONNABORTED,e,b)),b=null)},b.onerror=function(){a(new Ce("Network Error",Ce.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||Ah;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),a(new Ce(N,k.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,e,b)),b=null},l===void 0&&o.setContentType(null),"setRequestHeader"in b&&B.forEach(o.toJSON(),function(N,k){b.setRequestHeader(k,N)}),B.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),i&&i!=="json"&&(b.responseType=s.responseType),d&&([y,v]=oo(d,!0),b.addEventListener("progress",y)),c&&b.upload&&([m,w]=oo(c),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",w)),(s.cancelToken||s.signal)&&(u=p=>{b&&(a(!p||p.type?new La(null,e,b):p),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const f=v1(s.url);if(f&&Rt.protocols.indexOf(f)===-1){a(new Ce("Unsupported protocol "+f+":",Ce.ERR_BAD_REQUEST,e));return}b.send(l||null)})},D1=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,s;const l=function(d){if(!s){s=!0,i();const u=d instanceof Error?d:this.reason;a.abort(u instanceof Ce?u:new La(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,l(new Ce(`timeout ${t} of ms exceeded`,Ce.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),e=null)};e.forEach(d=>d.addEventListener("abort",l));const{signal:c}=a;return c.unsubscribe=()=>B.asap(i),c}},P1=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,s;for(;a<r;)s=a+t,yield e.slice(a,s),a=s},T1=async function*(e,t){for await(const r of R1(e))yield*P1(r,t)},R1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},jf=(e,t,r,a)=>{const s=T1(e,t);let l=0,o,i=c=>{o||(o=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await s.next();if(d){i(),c.close();return}let m=u.byteLength;if(r){let y=l+=m;r(y)}c.enqueue(new Uint8Array(u))}catch(d){throw i(d),d}},cancel(c){return i(c),s.return()}},{highWaterMark:2})},Mo=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Fh=Mo&&typeof ReadableStream=="function",A1=Mo&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),zh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_1=Fh&&zh(()=>{let e=!1;const t=new Request(Rt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Sf=64*1024,Nc=Fh&&zh(()=>B.isReadableStream(new Response("").body)),io={stream:Nc&&(e=>e.body)};Mo&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!io[t]&&(io[t]=B.isFunction(e[t])?r=>r[t]():(r,a)=>{throw new Ce(`Response type '${t}' is not supported`,Ce.ERR_NOT_SUPPORT,a)})})})(new Response);const I1=async e=>{if(e==null)return 0;if(B.isBlob(e))return e.size;if(B.isSpecCompliantForm(e))return(await new Request(Rt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(B.isArrayBufferView(e)||B.isArrayBuffer(e))return e.byteLength;if(B.isURLSearchParams(e)&&(e=e+""),B.isString(e))return(await A1(e)).byteLength},L1=async(e,t)=>{const r=B.toFiniteNumber(e.getContentLength());return r??I1(t)},O1=Mo&&(async e=>{let{url:t,method:r,data:a,signal:s,cancelToken:l,timeout:o,onDownloadProgress:i,onUploadProgress:c,responseType:d,headers:u,withCredentials:m="same-origin",fetchOptions:y}=Mh(e);d=d?(d+"").toLowerCase():"text";let w=D1([s,l&&l.toAbortSignal()],o),v;const S=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let b;try{if(c&&_1&&r!=="get"&&r!=="head"&&(b=await L1(u,a))!==0){let k=new Request(t,{method:"POST",body:a,duplex:"half"}),j;if(B.isFormData(a)&&(j=k.headers.get("content-type"))&&u.setContentType(j),k.body){const[g,R]=wf(b,oo(bf(c)));a=jf(k.body,Sf,g,R)}}B.isString(m)||(m=m?"include":"omit");const h="credentials"in Request.prototype;v=new Request(t,{...y,signal:w,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:a,duplex:"half",credentials:h?m:void 0});let f=await fetch(v);const p=Nc&&(d==="stream"||d==="response");if(Nc&&(i||p&&S)){const k={};["status","statusText","headers"].forEach(V=>{k[V]=f[V]});const j=B.toFiniteNumber(f.headers.get("content-length")),[g,R]=i&&wf(j,oo(bf(i),!0))||[];f=new Response(jf(f.body,Sf,g,()=>{R&&R(),S&&S()}),k)}d=d||"text";let N=await io[B.findKey(io,d)||"text"](f,e);return!p&&S&&S(),await new Promise((k,j)=>{Lh(k,j,{data:N,headers:Qt.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:v})})}catch(h){throw S&&S(),h&&h.name==="TypeError"&&/Load failed|fetch/i.test(h.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,e,v),{cause:h.cause||h}):Ce.from(h,h&&h.code,e,v)}}),jc={http:Xw,xhr:C1,fetch:O1};B.forEach(jc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const kf=e=>`- ${e}`,M1=e=>B.isFunction(e)||e===null||e===!1,$h={getAdapter:e=>{e=B.isArray(e)?e:[e];const{length:t}=e;let r,a;const s={};for(let l=0;l<t;l++){r=e[l];let o;if(a=r,!M1(r)&&(a=jc[(o=String(r)).toLowerCase()],a===void 0))throw new Ce(`Unknown adapter '${o}'`);if(a)break;s[o||"#"+l]=a}if(!a){const l=Object.entries(s).map(([i,c])=>`adapter ${i} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?l.length>1?`since :
`+l.map(kf).join(`
`):" "+kf(l[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:jc};function xi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new La(null,e)}function Ef(e){return xi(e),e.headers=Qt.from(e.headers),e.data=gi.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$h.getAdapter(e.adapter||qs.adapter)(e).then(function(a){return xi(e),a.data=gi.call(e,e.transformResponse,a),a.headers=Qt.from(a.headers),a},function(a){return Ih(a)||(xi(e),a&&a.response&&(a.response.data=gi.call(e,e.transformResponse,a.response),a.response.headers=Qt.from(a.response.headers))),Promise.reject(a)})}const Uh="1.9.0",Fo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Fo[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const Cf={};Fo.transitional=function(t,r,a){function s(l,o){return"[Axios v"+Uh+"] Transitional option '"+l+"'"+o+(a?". "+a:"")}return(l,o,i)=>{if(t===!1)throw new Ce(s(o," has been removed"+(r?" in "+r:"")),Ce.ERR_DEPRECATED);return r&&!Cf[o]&&(Cf[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,o,i):!0}};Fo.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function F1(e,t,r){if(typeof e!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const l=a[s],o=t[l];if(o){const i=e[l],c=i===void 0||o(i,l,e);if(c!==!0)throw new Ce("option "+l+" must be "+c,Ce.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ce("Unknown option "+l,Ce.ERR_BAD_OPTION)}}const _l={assertOptions:F1,validators:Fo},kr=_l.validators;let Mn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new xf,response:new xf}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?l&&!String(a.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+l):a.stack=l}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Vn(this.defaults,r);const{transitional:a,paramsSerializer:s,headers:l}=r;a!==void 0&&_l.assertOptions(a,{silentJSONParsing:kr.transitional(kr.boolean),forcedJSONParsing:kr.transitional(kr.boolean),clarifyTimeoutError:kr.transitional(kr.boolean)},!1),s!=null&&(B.isFunction(s)?r.paramsSerializer={serialize:s}:_l.assertOptions(s,{encode:kr.function,serialize:kr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),_l.assertOptions(r,{baseUrl:kr.spelling("baseURL"),withXsrfToken:kr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=l&&B.merge(l.common,l[r.method]);l&&B.forEach(["delete","get","head","post","put","patch","common"],v=>{delete l[v]}),r.headers=Qt.concat(o,l);const i=[];let c=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(r)===!1||(c=c&&S.synchronous,i.unshift(S.fulfilled,S.rejected))});const d=[];this.interceptors.response.forEach(function(S){d.push(S.fulfilled,S.rejected)});let u,m=0,y;if(!c){const v=[Ef.bind(this),void 0];for(v.unshift.apply(v,i),v.push.apply(v,d),y=v.length,u=Promise.resolve(r);m<y;)u=u.then(v[m++],v[m++]);return u}y=i.length;let w=r;for(m=0;m<y;){const v=i[m++],S=i[m++];try{w=v(w)}catch(b){S.call(this,b);break}}try{u=Ef.call(this,w)}catch(v){return Promise.reject(v)}for(m=0,y=d.length;m<y;)u=u.then(d[m++],d[m++]);return u}getUri(t){t=Vn(this.defaults,t);const r=Oh(t.baseURL,t.url,t.allowAbsoluteUrls);return Rh(r,t.params,t.paramsSerializer)}};B.forEach(["delete","get","head","options"],function(t){Mn.prototype[t]=function(r,a){return this.request(Vn(a||{},{method:t,url:r,data:(a||{}).data}))}});B.forEach(["post","put","patch"],function(t){function r(a){return function(l,o,i){return this.request(Vn(i||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:l,data:o}))}}Mn.prototype[t]=r(),Mn.prototype[t+"Form"]=r(!0)});let z1=class Bh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const a=this;this.promise.then(s=>{if(!a._listeners)return;let l=a._listeners.length;for(;l-- >0;)a._listeners[l](s);a._listeners=null}),this.promise.then=s=>{let l;const o=new Promise(i=>{a.subscribe(i),l=i}).then(s);return o.cancel=function(){a.unsubscribe(l)},o},t(function(l,o,i){a.reason||(a.reason=new La(l,o,i),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Bh(function(s){t=s}),cancel:t}}};function $1(e){return function(r){return e.apply(null,r)}}function U1(e){return B.isObject(e)&&e.isAxiosError===!0}const Sc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sc).forEach(([e,t])=>{Sc[t]=e});function Hh(e){const t=new Mn(e),r=vh(Mn.prototype.request,t);return B.extend(r,Mn.prototype,t,{allOwnKeys:!0}),B.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Hh(Vn(e,s))},r}const Oe=Hh(qs);Oe.Axios=Mn;Oe.CanceledError=La;Oe.CancelToken=z1;Oe.isCancel=Ih;Oe.VERSION=Uh;Oe.toFormData=Oo;Oe.AxiosError=Ce;Oe.Cancel=Oe.CanceledError;Oe.all=function(t){return Promise.all(t)};Oe.spread=$1;Oe.isAxiosError=U1;Oe.mergeConfig=Vn;Oe.AxiosHeaders=Qt;Oe.formToJSON=e=>_h(B.isHTMLForm(e)?new FormData(e):e);Oe.getAdapter=$h.getAdapter;Oe.HttpStatusCode=Sc;Oe.default=Oe;const{Axios:Sb,AxiosError:kb,CanceledError:Eb,isCancel:Cb,CancelToken:Db,VERSION:Pb,all:Tb,Cancel:Rb,isAxiosError:Ab,spread:_b,toFormData:Ib,AxiosHeaders:Lb,HttpStatusCode:Ob,formToJSON:Mb,getAdapter:Fb,mergeConfig:zb}=Oe,B1={https:"https://localhost:3003/api",http:"http://localhost:3003/api"};class H1{constructor(){this.healthCheckInterval=null,this.deviceStatus={serverRunning:!1,deviceConnected:!1,lastCheck:null},this.activeBridgeUrl=null}async findWorkingBridgeUrl(){if(this.activeBridgeUrl)return this.activeBridgeUrl;for(const t of["https","http"]){const r=B1[t];try{const a=new AbortController,s=setTimeout(()=>a.abort(),2e3),l=await fetch(`${r}/health`,{method:"GET",headers:{"Content-Type":"application/json"},signal:a.signal});if(clearTimeout(s),l.ok)return console.log(` Bridge found: ${r}`),this.activeBridgeUrl=r,r}catch{console.log(` Bridge not available at ${r}`)}}return console.log(" No working bridge URL found"),null}async checkBridgeHealth(){try{const t=await this.findWorkingBridgeUrl();if(!t)throw new Error("Bridge server not available");const a=await(await fetch(`${t}/health`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();return this.deviceStatus.serverRunning=a.success,this.deviceStatus.deviceConnected=a.deviceConnected||!1,this.deviceStatus.lastCheck=new Date,a.success&&a.deviceConnected}catch{return this.deviceStatus.serverRunning=!1,this.deviceStatus.deviceConnected=!1,this.deviceStatus.lastCheck=new Date,!1}}async getDeviceStatus(){try{const r=await this.findWorkingBridgeUrl();if(!r)throw new Error("Bridge server not available");const s=await(await fetch(`${r}/device/status`)).json();return this.deviceStatus.serverRunning=!0,this.deviceStatus.deviceConnected=s.connected,this.deviceStatus.lastCheck=new Date,s}catch{return{success:!1,connected:!1,status:"not-available-in-production",message:"Fingerprint scanner is only available on local machine (not in cloud deployment)."}}}startAutoHealthCheck(t){console.log(" Starting bridge health checks (HTTPS supported)..."),this.healthCheckInterval&&this.stopAutoHealthCheck(),this.checkBridgeHealth().then(t),this.healthCheckInterval=setInterval(async()=>{const r=await this.checkBridgeHealth();t&&t(r)},5e3)}stopAutoHealthCheck(){this.healthCheckInterval&&(clearInterval(this.healthCheckInterval),this.healthCheckInterval=null)}getCurrentStatus(){return this.deviceStatus}async enrollEmployee(t){try{const r=await this.findWorkingBridgeUrl();if(!r)throw new Error("Bridge server not available. Please install and start the Fingerprint Bridge Service.");return(await Oe.post(`${r}/fingerprint/enroll`,{employeeId:t._id,firstName:t.firstName,lastName:t.lastName,email:t.email})).data}catch(r){throw console.error(" Enrollment failed:",r),r}}async loginWithFingerprint(){try{const t=await this.findWorkingBridgeUrl();if(!t)throw new Error("Bridge server not available. Please install and start the Fingerprint Bridge Service.");return(await Oe.post(`${t}/fingerprint/login`)).data}catch(t){throw console.error(" Fingerprint login failed:",t),t}}async captureFingerprint(){try{const t=await this.findWorkingBridgeUrl();if(!t)throw new Error("Bridge server not available. Please install and start the Fingerprint Bridge Service.");return(await Oe.post(`${t}/fingerprint/capture`)).data}catch(t){throw console.error(" Fingerprint capture failed:",t),t}}async recordAttendance(){try{const t=await this.findWorkingBridgeUrl();if(!t)throw new Error("Bridge server not available. Please install and start the Fingerprint Bridge Service.");return(await Oe.post(`${t}/attendance/record`)).data}catch(t){throw console.error(" Attendance recording failed:",t),t}}async connectDevice(){return this.checkBridgeHealth()}async checkService(){return this.checkBridgeHealth()}}const Za=new H1,W1="/assets/notif-CiRdI_7I.mp3",V1=({isOpen:e,onClose:t,onSuccess:r})=>{const[a,s]=x.useState(!1),[l,o]=x.useState("checking"),[i,c]=x.useState(null),[d,u]=x.useState(null),m=x.useRef(null);x.useEffect(()=>(e&&(S(),y(),Za.startAutoHealthCheck(h=>{const f=Za.getCurrentStatus();f.serverRunning&&f.deviceConnected?(o("connected"),v(" ZKTeco device ready on localhost:3003")):f.serverRunning&&!f.deviceConnected?(o("disconnected"),v(" Bridge running, but no ZKTeco device detected. Please plug in the scanner.")):(o("disconnected"),v(" Bridge server not running. Service may be stopped or not installed."))})),()=>{e&&Za.stopAutoHealthCheck()}),[e]);const y=async()=>{try{o("checking"),v("Checking device connection...");const h=await Za.getDeviceStatus();h.connected?(o("connected"),v(" "+h.message)):(o("disconnected"),v(" "+h.message))}catch(h){F.error("Error checking device:",h),o("disconnected"),v(" Cannot connect to bridge server")}},[w,v]=x.useState("Checking..."),S=()=>{try{const h=localStorage.getItem("user");if(h){const f=JSON.parse(h);u(f)}}catch(h){F.error("Error loading user data:",h)}},b=async()=>{var h;if(l!=="connected"){pe.error("Bridge server not connected. Please run START_BRIDGE.bat first.");return}try{s(!0);const f=pe.info(" Please place your finger on the scanner...",{autoClose:!1,closeButton:!1}),p=await Za.recordAttendance();if(pe.dismiss(f),p.success){m.current&&m.current.play().catch(j=>F.error("Error playing sound:",j));const N=p.employee?`${p.employee.firstName} ${p.employee.lastName}`:"Unknown",k=(h=p.attendance)!=null&&h.timeOut?"Time Out":"Time In";pe.success(` ${k} recorded for ${N}!`,{autoClose:3e3}),uw(async()=>{const{eventBus:j}=await Promise.resolve().then(()=>Fv);return{eventBus:j}},void 0).then(({eventBus:j})=>{j.emit("attendance-recorded",p)}),setTimeout(()=>{r&&r(p),t()},2e3)}else pe.error(p.message||"Fingerprint not recognized. Please try again.")}catch(f){F.error("Error recording attendance:",f),pe.error("Error: "+(f.message||"Failed to connect to bridge server"))}finally{s(!1)}};return e?n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:[n.jsx("audio",{ref:m,src:W1,preload:"auto"}),n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full overflow-hidden",style:{maxWidth:"450px",maxHeight:"85vh"},children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",style:{padding:"1.25rem"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"font-bold",style:{fontSize:"1.4rem"},children:"Fingerprint Attendance"}),n.jsx("p",{className:"text-blue-100 mt-1",style:{fontSize:"0.85rem"},children:"Record your time in/out"})]}),n.jsx("button",{onClick:t,className:"text-white hover:text-gray-200",style:{fontSize:"1.75rem"},disabled:a,children:""})]})}),n.jsxs("div",{className:"space-y-4",style:{padding:"1.25rem",maxHeight:"calc(85vh - 200px)",overflowY:"auto"},children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"text-3xl",children:l==="connected"?"":""}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Device Status"}),n.jsxs("p",{className:"text-xs text-gray-500",children:[l==="checking"&&"Checking connection...",l==="connected"&&"Ready to scan",l==="disconnected"&&"Not connected",w&&`  ${w}`]})]})]}),n.jsx("button",{onClick:y,disabled:a,className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Refresh"})]}),n.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-gray-600 mb-1",style:{fontSize:"0.8rem"},children:"Current Time"}),n.jsx("p",{className:"font-bold text-blue-600",style:{fontSize:"1.75rem"},children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),n.jsx("p",{className:"text-gray-500 mt-1",style:{fontSize:"0.8rem"},children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("p",{className:"text-yellow-800 font-medium mb-2",style:{fontSize:"0.85rem"},children:" Instructions:"}),n.jsxs("ol",{className:"text-yellow-700 space-y-1 ml-4 list-decimal",style:{fontSize:"0.75rem"},children:[n.jsx("li",{children:"Ensure biometric device is connected"}),n.jsx("li",{children:'Click the "Scan Fingerprint" button below'}),n.jsx("li",{children:"Place your enrolled finger on the scanner"}),n.jsx("li",{children:"Wait for confirmation"})]})]}),n.jsx("button",{onClick:b,disabled:a||l!=="connected",className:`w-full rounded-lg font-bold flex items-center justify-center gap-3 transition-all ${a||l!=="connected"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 shadow-lg hover:shadow-xl"}`,style:{padding:"0.9rem 1.25rem",fontSize:"1rem"},children:a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}),n.jsx("span",{children:"Scanning..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsx("span",{children:"Scan Fingerprint"})]})}),l!=="connected"&&n.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[n.jsx("p",{className:"text-sm text-red-800 font-medium",children:" Bridge Server Not Connected"}),n.jsxs("p",{className:"text-xs text-red-700 mt-1",children:["Please start the bridge server by running ",n.jsx("code",{className:"bg-red-100 px-1 rounded",children:"START_BRIDGE.bat"})," in the ",n.jsx("code",{className:"bg-red-100 px-1 rounded",children:"employee/fingerprint-bridge"})," folder."]})]})]}),n.jsx("div",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3",children:n.jsx("button",{onClick:t,disabled:a,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"})})]})]}):null},Y1=()=>{const[e,t]=x.useState(!1),[r,a]=x.useState(!1),[s,l]=x.useState(!0),[o,i]=x.useState(null),[c,d]=x.useState(!1),[u,m]=x.useState(!1),[y,w]=x.useState(null),v={https:"https://localhost:3003",http:"http://localhost:3003"},S=async()=>{for(const f of["https","http"]){const p=v[f];try{const N=new AbortController,k=setTimeout(()=>N.abort(),2e3),j=await fetch(`${p}/api/health`,{method:"GET",headers:{"Content-Type":"application/json"},signal:N.signal});if(clearTimeout(k),j.ok)return{url:p,protocol:f}}catch{}}return null},b=async()=>{try{l(!0);const f=await S();if(f){const{url:p,protocol:N}=f;w(N);const j=await(await fetch(`${p}/api/health`)).json();t(!0),a(j.deviceConnected||!1),i(new Date)}else t(!1),a(!1),w(null)}catch{t(!1),a(!1),w(null)}finally{l(!1)}},h=async()=>{try{d(!0),pe.info(" Preparing download...");const f="/downloads/fingerprint-bridge-installer.zip";console.log(" Download URL:",f);const p=await fetch(f);if(!p.ok){const g=await p.text();throw console.error(" Download failed:",p.status,g),new Error(`Download failed (HTTP ${p.status})`)}const N=await p.blob();if(console.log(" Downloaded blob size:",N.size,"bytes"),N.size<100)throw new Error("Downloaded file is too small, may be corrupted");const k=window.URL.createObjectURL(N),j=document.createElement("a");j.href=k,j.download="fingerprint-bridge-installer.zip",document.body.appendChild(j),console.log(" Triggering download..."),j.click(),setTimeout(()=>{window.URL.revokeObjectURL(k),document.body.removeChild(j),console.log(" Cleaned up download resources")},100),pe.success(" Download complete! Check your Downloads folder",{autoClose:5e3}),m(!0)}catch(f){console.error(" Download error:",f),pe.error(` Download failed: ${f.message}`,{autoClose:1e4})}finally{d(!1)}};return x.useEffect(()=>{b()},[]),n.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",marginBottom:"20px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"15px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("i",{className:"fas fa-fingerprint",style:{fontSize:"24px",color:e?"#10b981":"#ef4444"}}),n.jsxs("div",{children:[n.jsx("h4",{style:{margin:0,fontSize:"18px",fontWeight:"bold"},children:"Fingerprint Scanner Status"}),n.jsx("p",{style:{margin:0,fontSize:"13px",color:"#6b7280"},children:s?"Checking...":o?`Last checked: ${o.toLocaleTimeString()}`:""})]})]}),n.jsxs("button",{onClick:b,disabled:s,style:{background:"transparent",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 16px",cursor:s?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",color:"#6b7280",transition:"all 0.2s"},onMouseEnter:f=>{s||(f.currentTarget.style.background="#f3f4f6",f.currentTarget.style.borderColor="#d1d5db")},onMouseLeave:f=>{f.currentTarget.style.background="transparent",f.currentTarget.style.borderColor="#e5e7eb"},children:[n.jsx("i",{className:`fas fa-sync-alt ${s?"fa-spin":""}`}),"Refresh"]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"15px"},children:[n.jsxs("div",{style:{background:e?"#f0fdf4":"#fef2f2",border:`2px solid ${e?"#10b981":"#ef4444"}`,borderRadius:"8px",padding:"12px",display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:e?"#10b981":"#ef4444",animation:e?"pulse 2s infinite":"none"}}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"500"},children:"Bridge Software"}),n.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:e?"#10b981":"#ef4444"},children:e?" Connected":" Not Installed"})]})]}),n.jsxs("div",{style:{background:r?"#f0fdf4":"#fef2f2",border:`2px solid ${r?"#10b981":"#ef4444"}`,borderRadius:"8px",padding:"12px",display:"flex",alignItems:"center",gap:"10px"},children:[n.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:r?"#10b981":"#ef4444",animation:r?"pulse 2s infinite":"none"}}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"500"},children:"USB Scanner"}),n.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:r?"#10b981":"#ef4444"},children:r?" Connected":" Not Detected"})]})]})]}),!e&&n.jsxs("div",{style:{background:"#fef3c7",border:"2px solid #f59e0b",borderRadius:"8px",padding:"15px",marginBottom:"15px"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[n.jsx("i",{className:"fas fa-exclamation-triangle",style:{color:"#f59e0b",fontSize:"20px"}}),n.jsx("strong",{style:{color:"#92400e"},children:"Bridge software not installed"})]}),n.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"14px",color:"#92400e"},children:"To use fingerprint scanner features (attendance & enrollment), you need to install the bridge software on this computer."}),n.jsx("button",{onClick:h,disabled:c,style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"bold",cursor:c?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px",opacity:c?.7:1,transition:"all 0.3s"},onMouseEnter:f=>{c||(f.currentTarget.style.transform="translateY(-2px)",f.currentTarget.style.boxShadow="0 4px 12px rgba(245, 158, 11, 0.4)")},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)",f.currentTarget.style.boxShadow="none"},children:c?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fas fa-spinner fa-spin"}),"Downloading..."]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fas fa-download"}),"Download Bridge Installer"]})}),n.jsxs("button",{onClick:()=>m(!u),style:{background:"transparent",border:"none",color:"#92400e",fontSize:"13px",cursor:"pointer",marginTop:"8px",textDecoration:"underline",padding:0},children:[u?" Hide":""," Installation Instructions"]})]}),u&&n.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"15px",fontSize:"14px",lineHeight:"1.6"},children:[n.jsx("h5",{style:{margin:"0 0 10px 0",fontSize:"16px",fontWeight:"bold"},children:" Installation Steps:"}),n.jsxs("ol",{style:{margin:0,paddingLeft:"20px"},children:[n.jsx("li",{children:'Click "Download Bridge Installer" button above'}),n.jsx("li",{children:"Extract the downloaded ZIP file to a permanent location (e.g., C:\\fingerprint-bridge)"}),n.jsx("li",{children:"Connect your ZKTeco fingerprint scanner via USB"}),n.jsxs("li",{children:[n.jsx("strong",{children:'Right-click "INSTALL_AUTO_SERVICE.bat"'})," and select ",n.jsx("strong",{children:'"Run as Administrator"'})]}),n.jsx("li",{children:"Wait for installation to complete (the service will start automatically)"}),n.jsx("li",{children:'Refresh this page - you should see "Bridge Software:  Connected"'})]}),n.jsxs("div",{style:{background:"#fef3c7",borderLeft:"4px solid #f59e0b",padding:"10px",marginTop:"12px",fontSize:"13px"},children:[n.jsx("strong",{children:" Important:"})," Make sure Node.js and Python with pyzkfp library are installed first!"]})]}),e&&r&&n.jsxs("div",{style:{background:"#f0fdf4",border:"2px solid #10b981",borderRadius:"8px",padding:"15px",display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("i",{className:"fas fa-check-circle",style:{color:"#10b981",fontSize:"24px"}}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:"#065f46",fontSize:"15px"},children:" Fingerprint scanner ready!"}),n.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"13px",color:"#065f46"},children:"You can now use fingerprint attendance and enrollment features."})]})]}),e&&!r&&n.jsxs("div",{style:{background:"#fef3c7",border:"2px solid #f59e0b",borderRadius:"8px",padding:"15px",display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx("i",{className:"fas fa-usb",style:{color:"#f59e0b",fontSize:"24px"}}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:"#92400e",fontSize:"15px"},children:"USB scanner not detected"}),n.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"13px",color:"#92400e"},children:"Please connect your ZKTeco fingerprint scanner via USB and wait a few seconds."})]})]}),n.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            opacity: 1;
          }
          50% {
            opacity: 0.5;
          }
        }
      `})]})},q1=()=>{const e=_a(),[t,r]=x.useState([]),[a,s]=x.useState(!0),[l,o]=x.useState(null),[i,c]=x.useState({totalPresent:0,fullDay:0,halfDay:0,absent:0,invalid:0}),[d,u]=x.useState(!0),[m,y]=x.useState(null),[w,v]=x.useState(!1),[S,b]=x.useState(!1);x.useEffect(()=>{const p=async(k=!1)=>{try{s(!0),o(null);const j=await Ot.getAll({bypassCache:k});if(j.error)o(j.error);else{const g=Array.isArray(j)?j:j.data||j.employees||[];r(g)}}catch{o("Failed to fetch employees")}finally{s(!1)}};p();const N=()=>p(!0);return Re.on("employee-created",N),Re.on("employee-updated",N),Re.on("employee-deleted",N),()=>{Re.removeListener("employee-created",N),Re.removeListener("employee-updated",N),Re.removeListener("employee-deleted",N)}},[]);const h=async()=>{try{u(!0),y(null),console.log(" Dashboard: Fetching attendance stats...");const p=await Ls.getStats();if(console.log(" Dashboard: Raw response from API:",JSON.stringify(p,null,2)),console.log(" Dashboard: Data type:",typeof p),console.log(" Dashboard: Data keys:",Object.keys(p)),p.error)console.error(" Dashboard: Error in stats response:",p.error),y(p.error);else{const N={totalPresent:Number(p.totalPresent||0),fullDay:Number(p.fullDay||0),halfDay:Number(p.halfDay||0),absent:Number(p.absent||0),invalid:Number(p.invalid||0)};console.log(" Dashboard: Formatted stats to set:",N),c(N),setTimeout(()=>{console.log(" Dashboard: Stats in state after update (verify)")},100)}}catch(p){console.error(" Dashboard: Failed to fetch stats:",p),y("Failed to fetch attendance stats")}finally{u(!1)}};x.useEffect(()=>{h();const p=Re.on("attendance-recorded",N=>{h()});return()=>{p()}},[]);const f=p=>{const N=new Date().toISOString().split("T")[0];e("/attendance",{state:{presetFilter:p,presetDate:p!=="all"?N:null,presetDateType:p!=="all"?"today":null,timestamp:new Date().getTime()}})};return n.jsxs("div",{className:"admin-page-wrapper",children:[n.jsx("button",{className:"hamburger-menu-button",onClick:()=>b(!S),"aria-label":"Toggle Menu",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),n.jsx("div",{className:`mobile-sidebar-overlay ${S?"active":""}`,onClick:()=>b(!1)}),n.jsx(Vr,{isMobileOpen:S,onClose:()=>b(!1)}),n.jsxs("div",{className:"admin-main-content",children:[n.jsxs("div",{className:"admin-content-area",children:[n.jsxs("div",{className:"admin-card",children:[n.jsx("div",{style:{borderRadius:"15px 15px 0 0",overflow:"hidden",marginBottom:"20px"},children:n.jsx(Yr,{})}),n.jsx("div",{style:{backgroundColor:"transparent",color:"black",borderRadius:0,padding:"20px 0",marginBottom:"20px"},children:n.jsx("div",{className:"d-flex justify-content-between align-items-center",children:n.jsxs("div",{children:[n.jsxs("h2",{className:"mb-1",style:{fontWeight:"bold",color:"black",display:"flex",alignItems:"center",gap:8,fontSize:"clamp(1.5rem, 4vw, 2rem)",fontFamily:"sans-serif"},children:[n.jsx("i",{className:"fas fa-tachometer-alt me-2"}),"Dashboard"]}),n.jsx("p",{className:"mb-0",style:{fontSize:"clamp(0.9rem, 2.5vw, 1.05rem)",color:"black",fontFamily:"Poppins, sans-serif",fontWeight:500,letterSpacing:"0.5px"},children:"Overview of employee management system"})]})})}),n.jsxs("div",{style:{padding:"0"},children:[n.jsx(Y1,{}),n.jsxs("div",{className:"stats-grid",children:[n.jsx("div",{className:"stat-card",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"20px",borderRadius:"12px",cursor:"pointer"},onClick:()=>e("/employee"),children:n.jsxs("div",{className:"text-white text-center p-1",children:[n.jsx("i",{className:"fas fa-users fa-2x mb-3"}),n.jsx("h3",{className:"fw-bold",children:t.length}),n.jsx("p",{className:"mb-0",children:"Total Employees"})]})}),n.jsx("div",{className:"stat-card",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white",padding:"20px",borderRadius:"12px",cursor:"pointer"},onClick:()=>f("today"),children:n.jsxs("div",{className:"text-white text-center p-1",children:[n.jsx("i",{className:"fas fa-user-check fa-2x mb-3"}),n.jsx("h3",{className:"fw-bold",children:i.totalPresent}),n.jsx("p",{className:"mb-0",children:"Total Present"})]})}),n.jsx("div",{className:"stat-card",style:{background:"linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%)",color:"white",padding:"20px",borderRadius:"12px",cursor:"pointer"},onClick:()=>f("halfDay"),children:n.jsxs("div",{className:"text-white text-center p-1",children:[n.jsx("i",{className:"fas fa-clock fa-2x mb-3"}),n.jsx("h3",{className:"fw-bold",children:i.halfDay}),n.jsx("p",{className:"mb-0",children:"Half Day"})]})}),n.jsx("div",{className:"stat-card",style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",color:"white",padding:"20px",borderRadius:"12px",cursor:"pointer"},onClick:()=>f("fullDay"),children:n.jsxs("div",{className:"text-white text-center p-1",children:[n.jsx("i",{className:"fas fa-calendar-day fa-2x mb-3"}),n.jsx("h3",{className:"fw-bold",children:i.fullDay}),n.jsx("p",{className:"mb-0",children:"Full Day"})]})}),n.jsx("div",{className:"stat-card",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",color:"white",padding:"20px",borderRadius:"12px",cursor:"pointer"},onClick:()=>f("absent"),children:n.jsxs("div",{className:"text-white text-center p-1",children:[n.jsx("i",{className:"fas fa-user-times fa-2x mb-3"}),n.jsx("h3",{className:"fw-bold",children:i.absent}),n.jsx("p",{className:"mb-0",children:"Absent"})]})}),n.jsx("div",{className:"stat-card",style:{background:"linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%)",color:"white",padding:"20px",borderRadius:"12px",cursor:"pointer"},onClick:()=>f("invalid"),children:n.jsxs("div",{className:"text-white text-center p-1",children:[n.jsx("i",{className:"fas fa-exclamation-triangle fa-2x mb-3"}),n.jsx("h3",{className:"fw-bold",children:i.invalid||0}),n.jsx("p",{className:"mb-0",children:"Invalid"})]})})]}),n.jsx("div",{className:"row mt-4",children:n.jsx("div",{className:"col-12 d-flex justify-content-center",children:n.jsxs("button",{onClick:()=>v(!0),className:"btn btn-lg shadow-lg",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"50px",padding:"15px 40px",fontSize:"1.1rem",fontWeight:"600",border:"none",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:p=>{p.currentTarget.style.transform="scale(1.05)",p.currentTarget.style.boxShadow="0 10px 30px rgba(102, 126, 234, 0.4)"},onMouseLeave:p=>{p.currentTarget.style.transform="scale(1)",p.currentTarget.style.boxShadow=""},children:[n.jsx("i",{className:"fas fa-fingerprint me-2"}),"Fingerprint Attendance"]})})})]})," "]})," "]})," "]})," ",n.jsx(V1,{isOpen:w,onClose:()=>v(!1),onSuccess:p=>{h()}})]})},co="https://payroll-backend-cyan.vercel.app/api",zo=async()=>{try{return(await Oe.get(`${co}/salary-rate/current`)).data.rate}catch(e){return console.error(" Error fetching current salary rate:",e),{dailyRate:550,hourlyRate:68.75,overtimeRate:85.94,effectiveDate:new Date,isActive:!0}}},J1=async(e=10)=>{try{return(await Oe.get(`${co}/salary-rate/history`,{params:{limit:e}})).data.history}catch(t){return console.error(" Error fetching salary rate history:",t),[]}},K1=async e=>{var t,r,a,s,l,o,i,c;try{const d=localStorage.getItem("token");if(!d||d==="null"||d==="undefined")throw console.error(" NO TOKEN: User is not logged in"),new Error("You are not logged in. Please login again.");console.log(" Salary Rate Service - Sending create request"),console.log("  - API URL:",`${co}/salary-rate`),console.log("  - Rate Data:",e),console.log("  - Token exists:",!!d),console.log("  - Token length:",d.length);const u=await Oe.post(`${co}/salary-rate`,e,{headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"}});return console.log(" Salary rate created successfully:",u.data),u.data}catch(d){if(console.error(" Error creating salary rate:",d),console.error("  - Error message:",d.message),console.error("  - Response data:",(t=d.response)==null?void 0:t.data),console.error("  - Response status:",(r=d.response)==null?void 0:r.status),((a=d.response)==null?void 0:a.status)===401){const u=((l=(s=d.response)==null?void 0:s.data)==null?void 0:l.message)||"Authentication failed";throw new Error(`Authentication error: ${u}`)}else throw((o=d.response)==null?void 0:o.status)===403?new Error("Access denied. Admin privileges required."):new Error(((c=(i=d.response)==null?void 0:i.data)==null?void 0:c.message)||d.message||"Failed to update salary rate")}},Rd=(e,t=300)=>{const[r,a]=x.useState(e);return x.useEffect(()=>{const s=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(s)}},[e,t]),r},Q1=Cd(({record:e,index:t,onArchive:r,formatTableDate:a})=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:t+1}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:e.employeeId}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:e.name}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${e.status==="Present"?"bg-blue-100 text-blue-800":e.status==="Half-day"?"bg-yellow-100 text-yellow-800":e.status==="Full-day"?"bg-green-100 text-green-800":e.status==="Invalid"?"bg-red-100 text-red-800":e.status==="Overtime"?"bg-purple-100 text-purple-800":e.status==="Absent"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:e.status||"Present"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:e.timeIn||"-"}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("span",{style:{color:e.timeOutColor==="yellow"?"#d97706":e.timeOutColor==="green"?"#10b981":e.timeOutColor==="darkgreen"?"#047857":"inherit",fontWeight:e.timeOutColor?"600":"normal"},children:e.timeOut||"-"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:a(e.date)}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("div",{className:"flex space-x-1",children:n.jsx("button",{onClick:()=>r(e.id),className:"bg-purple-500 text-white px-2 py-1 rounded text-xs hover:bg-purple-600 transition duration-200",children:"Archive"})})})]},e.id),(e,t)=>e.record.id===t.record.id&&e.record.status===t.record.status&&e.record.timeOut===t.record.timeOut&&e.index===t.index,"AttendanceRow"),X1=Cd(({record:e,index:t,onRestore:r,formatTableDate:a})=>n.jsxs("tr",{className:"hover:bg-gray-50 bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:t+1}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:e.employeeId}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:e.name}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${e.status==="Present"?"bg-blue-100 text-blue-800":e.status==="Half-day"?"bg-yellow-100 text-yellow-800":e.status==="Full-day"?"bg-green-100 text-green-800":e.status==="Invalid"?"bg-red-100 text-red-800":e.status==="Overtime"?"bg-purple-100 text-purple-800":e.status==="Absent"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:e.status||"Present"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:e.timeIn||"-"}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("span",{style:{color:e.timeOutColor==="yellow"?"#d97706":e.timeOutColor==="green"?"#10b981":e.timeOutColor==="darkgreen"?"#047857":"inherit",fontWeight:e.timeOutColor?"600":"normal"},children:e.timeOut||"-"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:a(e.date)}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("div",{className:"flex space-x-1",children:n.jsx("button",{onClick:()=>r(e.id),className:"bg-blue-500 text-white px-2 py-1 rounded text-xs hover:bg-blue-600 transition duration-200",children:"Restore"})})})]},e.id),(e,t)=>e.record.id===t.record.id&&e.index===t.index,"ArchivedAttendanceRow"),G1=()=>{const[e,t]=x.useState(""),r=Rd(e,300),[a,s]=x.useState(""),[l,o]=x.useState(""),[i,c]=x.useState(""),[d,u]=x.useState([]),[m,y]=x.useState([]),[w,v]=x.useState(!1),[S,b]=x.useState([]),[h,f]=x.useState([]),[p,N]=x.useState([]),[k,j]=x.useState(!0),[g,R]=x.useState(!0),[V,O]=x.useState(null),[ee,ue]=x.useState(null),[ne,ge]=x.useState({field:null,direction:"asc"}),[ye,Ee]=x.useState({Present:!1,"Half-day":!1,"Full-day":!1,Absent:!1,Invalid:!1}),He=Kn(),[W,de]=x.useState(!1),[he,ke]=x.useState(!1),[fe,Je]=x.useState({dailyRate:550,hourlyRate:68.75,overtimeRate:85.94}),K=(P,M)=>{const T=M.reduce((xe,jt)=>(xe[jt.employeeId]={name:`${jt.firstName} ${jt.lastName}`,status:jt.status},xe),{}),A=P.map(xe=>{var Ie;const jt=xe.date||xe.time,mt=new Date(jt).getTime()+8*60*60*1e3,wt=new Date(mt).toISOString().split("T")[0];let D="Unknown";xe.employee&&typeof xe.employee=="object"?D=`${xe.employee.firstName||""} ${xe.employee.lastName||""}`.trim():D=((Ie=T[xe.employeeId])==null?void 0:Ie.name)||"Unknown";const $=je=>je?new Date(je).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"";let U=xe.status||"present",X="";if(xe.timeIn&&xe.timeOut&&U==="present"){const je=new Date(xe.timeIn),We=new Date(xe.timeOut),Gt=(We-je)/(1e3*60*60),E=13,_=je.getHours(),z=We.getHours();let q=Gt;_<E&&z>=E&&(q-=1),q<4?U="invalid":q<6.5?U="half-day":q<=8?U="full-day":z>=17?U="overtime":U="full-day",console.log(`  Fallback calculation for ${xe.employeeId}: ${q.toFixed(2)} hours  ${U}`)}return xe.timeIn&&xe.timeOut?U==="invalid"?X="red":U==="half-day"?X="yellow":U==="full-day"||U==="present"?X="green":U==="overtime"&&(X="darkgreen"):xe.timeIn&&!xe.timeOut&&(U="present",X=""),U=(je=>je?je==="half-day"?"Half-day":je==="full-day"?"Full-day":je==="invalid"?"Invalid":je==="overtime"?"Overtime":je==="present"?"Present":je==="absent"?"Absent":je.charAt(0).toUpperCase()+je.slice(1):"Present")(U),{id:xe._id||`${xe.employeeId}-${wt}`,employeeId:xe.employeeId,name:D,date:wt,status:U,archived:xe.archived||!1,timeIn:$(xe.timeIn),timeOut:$(xe.timeOut),timeOutColor:X,weekStart:se(wt),rawTimeIn:xe.timeIn,rawTimeOut:xe.timeOut,rawDate:xe.date}}),G=new Date().getTime()+8*60*60*1e3,re=new Date(G).toISOString().split("T")[0],Se=new Date(re+"T00:00:00.000Z").toISOString(),De=new Set(A.filter(xe=>xe.date===re&&!xe.archived).map(xe=>xe.employeeId)),Fe=M.filter(xe=>!De.has(xe.employeeId)).map(xe=>({id:`absent-${xe.employeeId}-${re}`,employeeId:xe.employeeId,name:`${xe.firstName} ${xe.lastName}`,date:re,status:"Absent",archived:!1,timeIn:"-",timeOut:"-",timeOutColor:"",weekStart:se(re),rawTimeIn:null,rawTimeOut:null,rawDate:Se}));return[...A,...Fe]},Z=async()=>{try{j(!0),R(!0),O(null),ue(null);const[P,M]=await Promise.all([Ls.getAll(),Ot.getAll()]);if(P.error&&O(P.error),M.error)ue(M.error);else{const T=Array.isArray(M)?M:M.data||M.employees||[];N(T)}if(!P.error&&!M.error){const T=Array.isArray(M)?M:M.data||M.employees||[],A=Array.isArray(P)?P:P.data||P.attendance||[];f(A);const H=K(A,T);b(H)}}catch{O("Failed to fetch attendance data"),ue("Failed to fetch employee data")}finally{j(!1),R(!1)}};x.useEffect(()=>{zo().then(P=>{Je(P)}).catch(P=>{F.error(" Failed to load salary rate, using defaults:",P)})},[]),x.useEffect(()=>{Z();const P=Re.on("attendance-updated",H=>{if(p.length>0){const G=Array.isArray(H)?H:H.data||H.attendance||[];f(G);const re=K(G,p);b(re)}}),M=Re.on("attendance-recorded",H=>{Z()}),T=Re.on("employees-updated",H=>{const G=Array.isArray(H)?H:H.data||H.employees||[];if(N(G),h.length>0){const re=K(h,G);b(re)}}),A=setInterval(()=>{Z()},6e4);return()=>{P(),M(),T(),clearInterval(A)}},[]),x.useEffect(()=>{const P=[...new Set(S.map(M=>M.date.substring(0,4)))].sort().reverse();u(P)},[S]);const se=P=>{try{if(!P)return"";const M=new Date(P);if(isNaN(M.getTime()))return"";const T=M.getDay(),A=T===0?-6:1-T,H=new Date(M);return H.setDate(M.getDate()+A),H.toISOString().split("T")[0]}catch(M){return F.error("Error getting week start date:",M),""}},ae=P=>{if(!P)return{start:"",end:""};try{const[M,T]=P.split("-W");if(!M||!T)return{start:"",end:""};const A=new Date(parseInt(M),0,1+(parseInt(T)-1)*7),H=A.getDay(),G=new Date(A);G.setDate(A.getDate()-H+(H===0?-6:1));const re=new Date(G);return re.setDate(G.getDate()+6),{start:G.toISOString().split("T")[0],end:re.toISOString().split("T")[0]}}catch(M){return F.error("Error parsing week input:",M),{start:"",end:""}}},we=P=>{try{if(!P)return"";const M=new Date(P);if(isNaN(M.getTime()))return"";const T=M.getFullYear(),A=M.getMonth();return new Date(T,A,1).toISOString().split("T")[0]}catch(M){return F.error("Error getting month start date:",M),""}},qe=P=>{try{if(!P)return"";const M=new Date(P);if(isNaN(M.getTime()))return"";const T=M.getFullYear(),A=M.getMonth();return new Date(T,A+1,0).toISOString().split("T")[0]}catch(M){return F.error("Error getting month end date:",M),""}};x.useEffect(()=>{o(""),c("")},[a]),x.useEffect(()=>{let P=S.filter(T=>!T.archived);if(a==="today"){const T=new Date,H=new Date(T.getTime()+8*60*60*1e3).toISOString().split("T")[0];P=P.filter(G=>{const re=G.rawDate;if(!re)return F.warn(` No date found for record ${G.id}`),!1;const Se=new Date(re);if(isNaN(Se.getTime()))return F.warn(` Invalid date detected for record ${G.id}:`,re),!1;const Fe=new Date(Se.getTime()+8*60*60*1e3).toISOString().split("T")[0],xe=Fe===H;return F.log(`   Record ${G.employeeId}: Manila date=${Fe}, Today=${H}, Match=${xe}`),xe}),F.log(` Filtered ${P.length} records for today`)}else if(a==="week"&&l)try{F.log(" Filtering by week:",l);const T=ae(l);F.log(" Week range:",T.start,"to",T.end),T.start&&T.end&&(P=P.filter(A=>{const H=A.rawDate;if(!H)return!1;const G=new Date(H);if(isNaN(G.getTime()))return!1;const Se=new Date(G.getTime()+8*60*60*1e3).toISOString().split("T")[0];return Se>=T.start&&Se<=T.end}))}catch(T){F.error(" Error filtering by week:",T)}else if(a==="month"&&l)try{const T=we(l),A=qe(l);F.log(" Filtering by month:",T,"to",A),P=P.filter(H=>{const G=H.rawDate;if(!G)return!1;const re=new Date(G);if(isNaN(re.getTime()))return!1;const De=new Date(re.getTime()+8*60*60*1e3).toISOString().split("T")[0];return De>=T&&De<=A})}catch(T){F.error("Error filtering by month:",T)}else a==="year"&&i&&(P=P.filter(T=>{const A=T.rawDate;if(!A)return!1;const H=new Date(A);return isNaN(H.getTime())?!1:new Date(H.getTime()+8*60*60*1e3).getFullYear().toString()===i}));if(r){const T=r.toLowerCase();P=P.filter(A=>{var re,Se;const H=((re=A.name)==null?void 0:re.toLowerCase())||"",G=((Se=A.employeeId)==null?void 0:Se.toLowerCase())||"";return H.includes(T)||G.includes(T)})}const M=Object.keys(ye).filter(T=>ye[T]);M.length>0&&(P=P.filter(T=>M.includes(T.status))),ne.field&&P.sort((T,A)=>{let H=T[ne.field],G=A[ne.field];if(ne.field==="date")H=new Date(T.rawDate||T.date),G=new Date(A.rawDate||A.date);else if(ne.field==="timeIn"||ne.field==="timeOut"){const re=Se=>{if(!Se||Se==="-")return-1;const De=Se.match(/(\d+):(\d+)\s*(AM|PM)/i);if(!De)return-1;let Fe=parseInt(De[1]);const xe=parseInt(De[2]),jt=De[3].toUpperCase();return jt==="PM"&&Fe!==12&&(Fe+=12),jt==="AM"&&Fe===12&&(Fe=0),Fe*60+xe};H=re(H),G=re(G)}else typeof H=="string"&&(H=H.toLowerCase(),G=G.toLowerCase());return H<G?ne.direction==="asc"?-1:1:H>G?ne.direction==="asc"?1:-1:0}),y(P)},[r,a,l,i,S,ye,ne]);const ft=S.filter(P=>P.archived).filter(P=>{var H,G;const M=r.toLowerCase(),T=((H=P.name)==null?void 0:H.toLowerCase())||"",A=((G=P.employeeId)==null?void 0:G.toLowerCase())||"";return T.includes(M)||A.includes(M)}),_e=m.length,Ke=P=>{ge(M=>({field:P,direction:M.field===P&&M.direction==="asc"?"desc":"asc"}))},Xt=P=>{Ee(M=>({...M,[P]:!M[P]}))},_t=()=>{Ee({Present:!1,"Half-day":!1,"Full-day":!1,Absent:!1,Invalid:!1})};x.useEffect(()=>{var P;if((P=He.state)!=null&&P.presetFilter){const{presetFilter:M,presetDate:T,presetDateType:A}=He.state;M==="fullDay"?Ee(H=>({...H,"Full-day":!0})):M==="halfDay"?Ee(H=>({...H,"Half-day":!0})):M==="today"?Ee(H=>({...H,Present:!0})):M==="absent"?Ee(H=>({...H,Absent:!0})):M==="invalid"&&Ee(H=>({...H,Invalid:!0})),T&&(s(A||"today"),o(T)),window.history.replaceState({},document.title)}},[He.state]);const et=P=>{try{if(!P)return"N/A";const M=new Date(P);if(isNaN(M.getTime()))return"N/A";const A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][M.getMonth()],H=M.getDate(),G=M.getFullYear();return`${A} ${H}, ${G}`}catch(M){return F.error("Error formatting date:",M),"N/A"}},Ut=P=>{try{if(!P)return"N/A";const M=new Date(P);if(isNaN(M.getTime()))return"N/A";const A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][M.getMonth()],H=M.getDate(),G=M.getFullYear();return`${A} ${H}, ${G}`}catch(M){return F.error("Error formatting table date:",M),"N/A"}},lr=()=>{if(!a&&!e)return"All Attendance Records";if(a==="week"&&l)try{const P=ae(l);if(P.start&&P.end){const M=et(P.start),T=et(P.end);return`Week: ${M} - ${T}`}}catch(P){F.error("Error getting week display text:",P)}else if(a==="month"&&l)try{const P=new Date(l);if(!isNaN(P.getTime()))return`${["January","February","March","April","May","June","July","August","September","October","November","December"][P.getMonth()]} ${P.getFullYear()}`}catch(P){F.error("Error getting month display text:",P)}else if(a==="year"&&i)return`Year: ${i}`;return e&&!a?`Search Results for: "${e}"`:"Filtered Attendance Records"},It=async P=>{if(window.confirm("Are you sure you want to archive this attendance record?"))try{if((await fetch(`/api/attendance/${P}/archive`,{method:"PATCH",headers:{"Content-Type":"application/json"}})).ok){const T=S.map(A=>A.id===P?{...A,archived:!0}:A);b(T),F.log(" Attendance record archived successfully")}else F.error(" Failed to archive attendance record"),alert("Failed to archive attendance record")}catch(M){F.error(" Error archiving attendance:",M),alert("Error archiving attendance record")}},I=async P=>{if(window.confirm("Are you sure you want to restore this attendance record?"))try{if((await fetch(`/api/attendance/${P}/restore`,{method:"PATCH",headers:{"Content-Type":"application/json"}})).ok){const T=S.map(A=>A.id===P?{...A,archived:!1}:A);b(T),F.log(" Attendance record restored successfully")}else F.error(" Failed to restore attendance record"),alert("Failed to restore attendance record")}catch(M){F.error(" Error restoring attendance:",M),alert("Error restoring attendance record")}},C=P=>{const M=P.target.value;o(M)},L=P=>{c(P.target.value)},J=()=>{s(""),o(""),c(""),t("")},Y=()=>a!==""||e!=="";return n.jsxs("div",{className:"admin-page-wrapper",children:[n.jsx("button",{className:"hamburger-menu-button",onClick:()=>ke(!he),"aria-label":"Toggle Menu",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),n.jsx("div",{className:`mobile-sidebar-overlay ${he?"active":""}`,onClick:()=>ke(!1)}),n.jsx(Vr,{isMobileOpen:he,onClose:()=>ke(!1)}),n.jsx("div",{className:"admin-main-content",children:n.jsx("div",{className:"admin-content-area",children:n.jsxs("div",{className:"card shadow-sm mb-4",style:{borderRadius:"15px",border:"none"},children:[n.jsx("div",{style:{borderRadius:"15px 15px 0 0",overflow:"hidden"},children:n.jsx(Yr,{})}),n.jsxs("div",{className:"card-header",style:{backgroundColor:"transparent",color:"black",borderRadius:0,padding:"20px"},children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"mb-1",style:{fontWeight:"bold",color:"black",display:"flex",alignItems:"center",gap:8,fontSize:"2rem",fontFamily:"sans-serif"},children:[n.jsx("i",{className:"fas fa-clock me-2"}),"Attendance Overview"]}),n.jsx("p",{className:"mb-0",style:{fontSize:"1.05rem",color:"black",fontFamily:"Poppins, sans-serif",fontWeight:500,letterSpacing:"0.5px"},children:"Monitor and track employee attendance records"})]}),n.jsx("div",{children:n.jsxs("button",{className:"btn btn-primary",onClick:()=>{Z()},style:{backgroundColor:"#007bff",border:"none",borderRadius:"8px",padding:"8px 16px",fontSize:"14px",fontWeight:"500"},children:[n.jsx("i",{className:"fas fa-sync-alt me-2"}),"Refresh"]})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4 mt-4",style:{maxWidth:"300px"},children:n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-center border",children:[k||g?n.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:n.jsx("span",{className:"visually-hidden",children:"Loading..."})}):V||ee?n.jsx("div",{className:"text-danger small",children:V||ee}):n.jsx("div",{className:"text-2xl font-bold",children:_e}),n.jsxs("div",{className:"text-gray-600 text-sm",children:["Total Employees - ",lr()]})]})}),n.jsxs("div",{className:"mt-4 d-flex gap-3 align-items-center flex-wrap",children:[n.jsxs("div",{className:"input-group",style:{maxWidth:"400px"},children:[n.jsx("span",{className:"input-group-text",children:n.jsx("i",{className:"fas fa-search"})}),n.jsx("input",{type:"text",className:"form-control",placeholder:"Search by name or employee ID...",value:e,onChange:P=>t(P.target.value)})]}),n.jsxs("div",{className:"d-flex gap-2 align-items-center flex-wrap",style:{backgroundColor:"#f8f9fa",padding:"10px 15px",borderRadius:"8px",border:"1px solid #dee2e6"},children:[n.jsxs("label",{className:"text-sm font-medium text-gray-600 mb-0",style:{fontWeight:"600",marginRight:"8px"},children:[n.jsx("i",{className:"fas fa-filter me-1"}),"Status:"]}),Object.keys(ye).map(P=>n.jsxs("label",{className:"d-flex align-items-center gap-1 mb-0",style:{cursor:"pointer",fontSize:"0.875rem"},children:[n.jsx("input",{type:"checkbox",checked:ye[P],onChange:()=>Xt(P),className:"form-check-input",style:{marginTop:"0",cursor:"pointer"}}),n.jsx("span",{className:"text-sm",children:P})]},P)),Object.values(ye).some(P=>P)&&n.jsx("button",{onClick:_t,className:"btn btn-sm btn-link text-primary",style:{padding:"0 4px",fontSize:"0.75rem",textDecoration:"underline"},children:"Clear All"})]}),n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Filter by:"}),n.jsxs("select",{value:a,onChange:P=>s(P.target.value),className:"border border-gray-300 rounded p-2 focus:ring-2 focus:ring-blue-500",style:{color:"black"},children:[n.jsx("option",{value:"",children:"Select filter..."}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"Week"}),n.jsx("option",{value:"month",children:"Month"}),n.jsx("option",{value:"year",children:"Year"})]})]}),n.jsxs("div",{className:"flex gap-2 items-center status-filter-dropdown",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status:"}),n.jsxs("select",{onChange:P=>{const M=P.target.value;if(M==="all")_t();else if(M){const T={Present:!1,"Half-day":!1,"Full-day":!1,Absent:!1,Invalid:!1};T[M]=!0,Ee(T)}},value:Object.keys(ye).find(P=>ye[P])||"",className:"border border-gray-300 rounded p-2 focus:ring-2 focus:ring-blue-500",style:{color:"black"},children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"Present",children:"Present"}),n.jsx("option",{value:"Half-day",children:"Half-day"}),n.jsx("option",{value:"Full-day",children:"Full-day"}),n.jsx("option",{value:"Absent",children:"Absent"}),n.jsx("option",{value:"Invalid",children:"Invalid"})]})]}),(a==="week"||a==="month")&&n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:a==="week"?"Select Week:":"Select Month:"}),n.jsx("input",{type:a==="week"?"week":"month",value:l,onChange:C,className:"border border-gray-300 rounded p-2 focus:ring-2 focus:ring-blue-500",style:{color:"black"},title:a==="week"?"Select a week":"Select a month"})]}),a==="year"&&n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Select Year:"}),n.jsxs("select",{value:i,onChange:L,className:"border border-gray-300 rounded p-2 focus:ring-2 focus:ring-blue-500",style:{color:"black",minWidth:"120px"},children:[n.jsx("option",{value:"",children:"Select year..."}),d.map(P=>n.jsx("option",{value:P,children:P},P))]})]}),Y()&&n.jsxs("button",{onClick:J,className:"btn btn-outline-secondary",style:{padding:"10px 20px",fontSize:"1rem",borderRadius:"8px"},children:[n.jsx("i",{className:"fas fa-times me-2"}),"Clear Filters"]}),n.jsxs("button",{onClick:()=>v(!w),className:"btn",style:{backgroundColor:w?"#6c757d":"#f06a98",border:"none",color:"#ffffff",padding:"10px 20px",fontSize:"1rem",borderRadius:"8px",flex:"0 0 auto",width:"auto",whiteSpace:"nowrap"},children:[n.jsx("i",{className:"fas fa-archive me-2"}),w?"Back to Main":"View Archive"]})]})]}),n.jsxs("div",{className:"card-body",style:{padding:"10px 20px"},children:[!w&&n.jsxs("div",{className:"overflow-x-auto bg-white p-4 rounded-lg shadow-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-700",children:["Attendance Records - ",lr()]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[m.length," record",m.length!==1?"s":""," found"]})]}),k||g?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"spinner-border text-primary",role:"status",children:n.jsx("span",{className:"visually-hidden",children:"Loading attendance data..."})}),n.jsx("p",{className:"mt-2 text-muted",children:"Loading attendance records..."})]}):V||ee?n.jsxs("div",{className:"text-center py-8 text-danger",children:[n.jsx("i",{className:"fas fa-exclamation-triangle fa-2x mb-3"}),n.jsx("p",{children:V||ee}),n.jsx("button",{onClick:Z,className:"btn btn-primary btn-sm",children:"Retry"})]}):n.jsxs("table",{className:"min-w-full table-auto text-sm",style:{fontSize:"0.875rem"},children:[n.jsx("thead",{className:"bg-gray-100 text-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"#"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border cursor-pointer hover:bg-gray-200 user-select-none",onClick:()=>Ke("employeeId"),style:{cursor:"pointer",userSelect:"none"},children:n.jsxs("div",{className:"d-flex align-items-center gap-1",children:["Employee ID",ne.field==="employeeId"&&n.jsx("i",{className:`fas fa-sort-${ne.direction==="asc"?"up":"down"}`,style:{fontSize:"0.75rem"}}),ne.field!=="employeeId"&&n.jsx("i",{className:"fas fa-sort",style:{fontSize:"0.75rem",opacity:.3}})]})}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border cursor-pointer hover:bg-gray-200 user-select-none",onClick:()=>Ke("name"),style:{cursor:"pointer",userSelect:"none"},children:n.jsxs("div",{className:"d-flex align-items-center gap-1",children:["Employee Name",ne.field==="name"&&n.jsx("i",{className:`fas fa-sort-${ne.direction==="asc"?"up":"down"}`,style:{fontSize:"0.75rem"}}),ne.field!=="name"&&n.jsx("i",{className:"fas fa-sort",style:{fontSize:"0.75rem",opacity:.3}})]})}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border cursor-pointer hover:bg-gray-200 user-select-none",onClick:()=>Ke("status"),style:{cursor:"pointer",userSelect:"none"},children:n.jsxs("div",{className:"d-flex align-items-center gap-1",children:["Status",ne.field==="status"&&n.jsx("i",{className:`fas fa-sort-${ne.direction==="asc"?"up":"down"}`,style:{fontSize:"0.75rem"}}),ne.field!=="status"&&n.jsx("i",{className:"fas fa-sort",style:{fontSize:"0.75rem",opacity:.3}})]})}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border cursor-pointer hover:bg-gray-200 user-select-none",onClick:()=>Ke("timeIn"),style:{cursor:"pointer",userSelect:"none"},children:n.jsxs("div",{className:"d-flex align-items-center gap-1",children:["Time In",ne.field==="timeIn"&&n.jsx("i",{className:`fas fa-sort-${ne.direction==="asc"?"up":"down"}`,style:{fontSize:"0.75rem"}}),ne.field!=="timeIn"&&n.jsx("i",{className:"fas fa-sort",style:{fontSize:"0.75rem",opacity:.3}})]})}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border cursor-pointer hover:bg-gray-200 user-select-none",onClick:()=>Ke("timeOut"),style:{cursor:"pointer",userSelect:"none"},children:n.jsxs("div",{className:"d-flex align-items-center gap-1",children:["Time Out",ne.field==="timeOut"&&n.jsx("i",{className:`fas fa-sort-${ne.direction==="asc"?"up":"down"}`,style:{fontSize:"0.75rem"}}),ne.field!=="timeOut"&&n.jsx("i",{className:"fas fa-sort",style:{fontSize:"0.75rem",opacity:.3}})]})}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border cursor-pointer hover:bg-gray-200 user-select-none",onClick:()=>Ke("date"),style:{cursor:"pointer",userSelect:"none"},children:n.jsxs("div",{className:"d-flex align-items-center gap-1",children:["Date",ne.field==="date"&&n.jsx("i",{className:`fas fa-sort-${ne.direction==="asc"?"up":"down"}`,style:{fontSize:"0.75rem"}}),ne.field!=="date"&&n.jsx("i",{className:"fas fa-sort",style:{fontSize:"0.75rem",opacity:.3}})]})}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Actions"})]})}),n.jsx("tbody",{className:"text-gray-700 divide-y divide-gray-200",children:m.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"text-center py-4 text-muted",children:e?"No attendance records found matching your search":"No attendance records found"})}):m.map((P,M)=>n.jsx(Q1,{record:P,index:M,onArchive:It,formatTableDate:Ut},P.id))})]}),n.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border-l-4 border-blue-500 rounded-lg shadow-sm",children:[n.jsxs("div",{className:"cursor-pointer d-flex align-items-center justify-content-between",onClick:()=>de(!W),children:[n.jsxs("h3",{className:"text-lg font-bold text-blue-800 mb-0 d-flex align-items-center gap-2",children:[n.jsx("i",{className:"fas fa-info-circle"}),"Important Notice: Attendance & Payroll Rules"]}),n.jsx("i",{className:`fas fa-chevron-${W?"up":"down"} text-blue-600`})]}),W&&n.jsxs("div",{className:"space-y-4 mt-3",children:[n.jsxs("div",{className:"bg-orange-50 p-3 rounded-md border border-orange-300",children:[n.jsxs("h4",{className:"font-semibold text-orange-800 mb-2 d-flex align-items-center gap-1",children:[n.jsx("i",{className:"fas fa-clock text-sm"})," Standard Work Hours & Lunch Break"]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Standard Shift:"})," 8:00 AM to 5:00 PM (9 hours total)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Paid Hours:"})," Only ",n.jsx("strong",{children:"8 hours"})," are counted as regular work"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Lunch Break (12:00 NN - 12:59 PM):"})," ",n.jsx("span",{className:"text-red-600 font-bold",children:"NOT INCLUDED"})," in the 8-hour computation"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Formula:"})," Total Time - Lunch Break = Paid Hours"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Example:"})," 8:00 AM - 5:00 PM = 9hrs - 1hr lunch = ",n.jsx("strong",{children:"8 hours paid"})]})]})]}),n.jsxs("div",{className:"bg-white p-3 rounded-md border border-blue-200",children:[n.jsxs("h4",{className:"font-semibold text-blue-700 mb-2 d-flex align-items-center gap-1",children:[n.jsx("i",{className:"fas fa-calculator text-sm"}),"Salary Computations"]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Hourly Rate:"})," Daily Rate  8 hours (",fe.hourlyRate.toFixed(2),"/hr)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Overtime Rate:"})," Hourly Rate  1.25 = ",fe.overtimeRate.toFixed(2),"/hr"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Half-Day Pay:"})," Variable (4 to <6.5 hours worked)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Full-Day Pay:"})," Daily Rate (6.5-8 hours worked)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Overtime Pay:"})," Full Day + OT Rate  OT hours (>6.5 hrs + after 5PM)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Invalid Attendance:"})," No pay (less than 4 hours worked)"]})]})]}),n.jsxs("div",{className:"bg-yellow-50 p-3 rounded-md border border-yellow-300",children:[n.jsxs("h4",{className:"font-semibold text-yellow-800 mb-2 d-flex align-items-center gap-1",children:[n.jsx("i",{className:"fas fa-coins text-sm"})," Half-Day Variable Pay Explained"]}),n.jsx("p",{className:"text-sm text-gray-700 mb-2",children:n.jsx("strong",{children:"Half-Day status applies to 4 to <6.5 hours worked, pay varies by actual hours:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs text-gray-700 ml-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"4 hours:"})," Half-Day Base = ",(fe.dailyRate/2).toFixed(2)," (Daily ",fe.dailyRate.toFixed(2),"  2)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"5 hours:"})," Half-Day + 1hr = ",(fe.dailyRate/2).toFixed(2)," + ",fe.hourlyRate.toFixed(2)," = ",n.jsxs("strong",{children:["",(fe.dailyRate/2+fe.hourlyRate).toFixed(2)]})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"6 hours:"})," Half-Day + 2hrs = ",(fe.dailyRate/2).toFixed(2)," + ",(fe.hourlyRate*2).toFixed(2)," = ",n.jsxs("strong",{children:["",(fe.dailyRate/2+fe.hourlyRate*2).toFixed(2)]})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"6.25 hours:"})," Half-Day + 2.25hrs = ",(fe.dailyRate/2).toFixed(2)," + ",(fe.hourlyRate*2.25).toFixed(2)," = ",n.jsxs("strong",{children:["",(fe.dailyRate/2+fe.hourlyRate*2.25).toFixed(2)]})]})]}),n.jsxs("p",{className:"text-xs text-gray-600 italic mt-2",children:[n.jsx("i",{className:"fas fa-lightbulb text-yellow-600 mr-1"}),n.jsx("strong",{children:"Note:"}),' Same "Half-Day" status, but different pay based on actual hours worked. Once 6.5 hrs, it becomes "Full Day" status.']})]}),n.jsxs("div",{className:"bg-white p-3 rounded-md border border-blue-200",children:[n.jsxs("h4",{className:"font-semibold text-blue-700 mb-2 d-flex align-items-center gap-1",children:[n.jsx("i",{className:"fas fa-tags text-sm"})," Status Definitions"]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Present:"})," Employee clocked in only (no clock out yet)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Invalid:"})," Worked <4 hours (0% pay - No Pay)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Half-Day:"})," Worked 4 to <6.5 hours (variable pay by exact hours)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Full-Day:"})," Worked 6.5-8 hours (100% daily rate)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Overtime:"})," Worked >6.5 hrs + timed out after 5PM (Full pay + OT rate)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Absent:"})," No time-in record for the day (0% pay)"]})]}),n.jsxs("p",{className:"text-xs text-gray-600 italic mt-2",children:[n.jsx("i",{className:"fas fa-info-circle text-blue-600 mr-1"}),n.jsx("strong",{children:"Note:"})," Grace period 8:00-9:30 AM allows Full Day eligibility if 6.5 hours worked."]})]}),n.jsxs("div",{className:"bg-purple-50 p-3 rounded-md border border-purple-300",children:[n.jsxs("h4",{className:"font-semibold text-purple-800 mb-2 d-flex align-items-center gap-1",children:[n.jsx("i",{className:"fas fa-clock text-sm"})," Overtime Eligibility Requirements"]}),n.jsx("p",{className:"text-sm text-gray-700 mb-2",children:n.jsxs("strong",{children:["Overtime pay (",fe.overtimeRate.toFixed(2),"/hr) requires ALL conditions:"]})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs text-gray-700 ml-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:" Work >8 hours total:"})," Overtime hours = hours beyond 8 (excluding lunch)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:" Minimum 6.5 hours worked:"})," Must work at least ",n.jsx("span",{className:"text-purple-600 font-bold",children:"6hrs 30min"})," to be eligible for OT"]}),n.jsxs("li",{children:[n.jsx("strong",{children:" Time-out after 5:00 PM:"})," Must work past 5:00 PM for overtime eligibility"]}),n.jsxs("li",{children:[n.jsx("strong",{children:" Manual time-out required:"})," Must manually clock out (not auto time-out at 8 PM)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:" Auto time-out = NO OT:"})," Employees who get auto-closed at 8:00 PM receive NO overtime pay"]}),n.jsxs("li",{children:[n.jsx("strong",{children:" Less than 6.5 hours:"})," Even if work past 5PM, no OT eligibility if <6.5hrs total"]})]}),n.jsxs("p",{className:"text-xs text-gray-600 italic mt-2",children:[n.jsx("i",{className:"fas fa-info-circle text-purple-600 mr-1"}),n.jsx("strong",{children:"Examples:"}),n.jsx("br",{})," 8AM-5PM exactly (8 hrs) = Full Day only, no OT (didn't work past 5PM)",n.jsx("br",{})," 8AM-6PM (9 hrs) = Full Day + 1hr OT pay ",n.jsx("br",{})," 2PM-8PM auto time-out (6 hrs) = Half Day, NO OT (6.5hrs minimum not met + auto time-out) ",n.jsx("br",{})," 2PM-8PM manual time-out (6 hrs) = Half Day, NO OT (6.5hrs minimum not met) ",n.jsx("br",{})," 10AM-7PM (8 hrs) = Full Day + 1hr OT pay (worked past 5PM + manual time-out) "]})]}),n.jsxs("div",{className:"bg-white p-3 rounded-md border border-red-200",children:[n.jsxs("h4",{className:"font-semibold text-red-700 mb-2 d-flex align-items-center gap-1",children:[n.jsx("i",{className:"fas fa-exclamation-triangle text-sm"}),"Critical Attendance Rules"]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:" Time-In Cutoff:"}),"  Cannot time-in after ",n.jsx("span",{className:"text-red-600 font-bold",children:"4:00 PM"})," (will be rejected)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:" Auto Time-Out:"})," All present employees automatically time-out at ",n.jsx("span",{className:"text-blue-600 font-bold",children:"8:00 PM"})," (no overtime pay for auto time-out)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"One Time-In Per Day:"})," Employees can only clock in once per day"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Duplicate Time-In:"}),' Second time-in attempt will be marked as "Invalid"']}),n.jsxs("li",{children:[n.jsx("strong",{children:"Minimum Work Hours:"})," At least 4 hours required for pay eligibility"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Time-Out Required:"})," Must manually clock out before 8:00 PM to be eligible for overtime"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Payroll Calculation:"})," Based on actual time-in and time-out records only"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Lunch Break Exclusion:"})," 12:00-12:59 PM is automatically excluded from paid hours"]})]})]}),n.jsx("div",{className:"bg-yellow-50 p-3 rounded-md border border-yellow-300",children:n.jsxs("p",{className:"text-xs text-gray-600 italic",children:[n.jsx("i",{className:"fas fa-lightbulb text-yellow-600 mr-1"}),n.jsx("strong",{children:"Note:"})," All time calculations are system-generated based on biometric attendance records. Manual adjustments require admin approval. Salary deductions (Cash Advance, SSS, PhilHealth, Pag-IBIG) are applied after gross salary calculation."]})})]})]})]}),w&&n.jsxs("div",{className:"overflow-x-auto bg-white p-4 rounded-lg shadow-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-700",children:["Archived Attendance Records - ",e?`Search: "${e}"`:"All Archived Records"]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[ft.length," archived record",ft.length!==1?"s":""]})]}),ft.length===0?n.jsxs("div",{className:"text-center py-8 text-muted",children:[n.jsx("i",{className:"fas fa-archive text-4xl mb-3 text-gray-300"}),n.jsx("p",{children:"No archived attendance records found"})]}):n.jsxs("table",{className:"min-w-full table-auto text-sm",style:{fontSize:"0.875rem"},children:[n.jsx("thead",{className:"bg-gray-100 text-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"#"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Employee ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Employee Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Time In"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Time Out"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Actions"})]})}),n.jsx("tbody",{className:"text-gray-700 divide-y divide-gray-200",children:ft.map((P,M)=>n.jsx(X1,{record:P,index:M,onRestore:I,formatTableDate:Ut},P.id))})]})]})]})]})})})]})},Ms="https://payroll-backend-cyan.vercel.app/api",Z1=async(e=!1)=>{const t=e?`${Ms}/cash-advance?_t=${Date.now()}`:`${Ms}/cash-advance`,r=await Oe.get(t),a=r.data.data||r.data.advances||r.data||[];return Array.isArray(a)?a.map(s=>{var o;const l=s.employee?`${s.employee.firstName} ${s.employee.lastName}`:s.employeeName||"Unknown";return{_id:s._id,employee:s.employee,employeeId:((o=s.employee)==null?void 0:o.employeeId)||s.employeeId,employeeName:l,name:l,amount:s.amount,status:s.status,date:s.requestDate||s.date,reason:s.purpose||s.reason||"Cash Advance",type:"Cash Advance"}}):(console.error(" Cash advance API did not return an array:",a),[])},eb=async e=>{const t={employee:e.employee||e.employeeId,amount:parseFloat(e.amount),purpose:e.reason||"Cash Advance",notes:e.notes||""};return(await Oe.post(`${Ms}/cash-advance`,t)).data},tb=async(e=!1)=>{const t=e?`${Ms}/cash-advance/archived?_t=${Date.now()}`:`${Ms}/cash-advance/archived`,r=await Oe.get(t),a=r.data.data||r.data.advances||r.data||[];return Array.isArray(a)?a.map(s=>{var o;const l=s.employee?`${s.employee.firstName} ${s.employee.lastName}`:s.employeeName||"Unknown";return{_id:s._id,employee:s.employee,employeeId:((o=s.employee)==null?void 0:o.employeeId)||s.employeeId,employeeName:l,name:l,amount:s.amount,status:s.status,date:s.requestDate||s.date,reason:s.purpose||s.reason||"Cash Advance",type:"Cash Advance",archived:!0}}):(console.error(" Archived cash advance API did not return an array:",a),[])},rb="https://payroll-backend-cyan.vercel.app/api",nb=async()=>{try{F.log(" Fetching employees...");const e=await fetch(`${rb}/employees`);if(!e.ok)throw new Error("Failed to fetch employees");const t=await e.json();F.log(" EMPLOYEES DATA:",t);const r=t.map(a=>({...a,contactNumber:a.contactNumber||"N/A",status:a.status||"regular",fingerprintEnrolled:a.fingerprintEnrolled||!1,username:a.username||a.employeeId,password:a.password||"********"}));return F.log(" EMPLOYEES WITH DEFAULTS:",r),r}catch(e){throw F.error(" Error fetching employees:",e),new Error(`Error fetching employees: ${e.message}`)}},vi=({status:e})=>{const r=(a=>{switch(a==null?void 0:a.toLowerCase()){case"regular":return{text:"Regular",bgColor:"bg-green-100",textColor:"text-green-800",borderColor:"border-green-200"};case"oncall":case"on-call":return{text:"On Call",bgColor:"bg-orange-100",textColor:"text-orange-800",borderColor:"border-orange-200"};default:return{text:"Unknown",bgColor:"bg-gray-100",textColor:"text-gray-800",borderColor:"border-gray-200"}}})(e);return n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${r.bgColor} ${r.textColor} ${r.borderColor}`,children:r.text})},ab=()=>{var J,Y,P,M;const[e,t]=x.useState([]),[r,a]=x.useState([]),[s,l]=x.useState(!0),[o,i]=x.useState(null),[c,d]=x.useState(!1),[u,m]=x.useState(""),[y,w]=x.useState(!1),[v,S]=x.useState([]),[b,h]=x.useState(null),[f,p]=x.useState(!1),[N,k]=x.useState(!1),[j,g]=x.useState(""),[R,V]=x.useState(""),[O,ee]=x.useState(""),[ue,ne]=x.useState([]),[ge,ye]=x.useState([]),[Ee,He]=x.useState([]),[W,de]=x.useState({name:"",employee:"",employeeIdInput:"",type:"Cash Advance",amount:"",date:new Date().toISOString().split("T")[0]}),[he,ke]=x.useState("");x.useEffect(()=>{Je(),K(),fe()},[]);const fe=async()=>{try{const T=await zo();F.info(" Current salary rate fetched:",T),h(T)}catch(T){F.error(" Error fetching salary rate:",T),h({dailyRate:550,maxCashAdvance:1100})}},Je=async(T=!1)=>{try{l(!0);const[A,H]=await Promise.all([Z1(T),tb(T)]);if(!Array.isArray(A))throw F.error(" getAllDeductions did not return an array:",A),new Error("Invalid active data format received from server");if(!Array.isArray(H))throw F.error(" getArchivedDeductions did not return an array:",H),new Error("Invalid archived data format received from server");t(A),S(H),i(null),F.info(` Fetched ${A.length} active and ${H.length} archived cash advances${T?" (cache bypassed)":""}`),Z(A)}catch(A){F.error(" Error fetching deductions:",A),i(A.message||"Failed to fetch deductions. Please make sure MongoDB is running."),t([]),S([])}finally{l(!1)}},K=async()=>{try{const T=await nb(),A=Array.isArray(T)?T:T.data||T.employees||[];a(A)}catch(T){F.error("Failed to fetch employees:",T),a([])}},Z=T=>{const A=[...new Set(T.map(H=>new Date(H.date||H.createdAt).getFullYear()))].sort((H,G)=>G-H);ne(A)},se=T=>{if(!T)return{start:"",end:""};try{const[A,H]=T.split("-W");if(!A||!H)return{start:"",end:""};const G=new Date(parseInt(A),0,1+(parseInt(H)-1)*7),re=G.getDay(),Se=new Date(G);Se.setDate(G.getDate()-re+(re===0?-6:1));const De=new Date(Se);return De.setDate(Se.getDate()+6),{start:Se.toISOString().split("T")[0],end:De.toISOString().split("T")[0]}}catch(A){return F.error("Error parsing week input:",A),{start:"",end:""}}},ae=T=>{try{if(!T)return"";const A=new Date(T);if(isNaN(A.getTime()))return"";const H=A.getFullYear(),G=A.getMonth();return new Date(H,G,1).toISOString().split("T")[0]}catch(A){return F.error("Error getting month start date:",A),""}},we=T=>{try{if(!T)return"";const A=new Date(T);if(isNaN(A.getTime()))return"";const H=A.getFullYear(),G=A.getMonth();return new Date(H,G+1,0).toISOString().split("T")[0]}catch(A){return F.error("Error getting month end date:",A),""}};x.useEffect(()=>{V(""),ee("")},[j]),x.useEffect(()=>{let T=e.filter(A=>!A.archived);if(j==="week"&&R)try{F.log(" Filtering by week:",R);const A=se(R);F.log(" Week range:",A.start,"to",A.end),A.start&&A.end&&(T=T.filter(H=>{const re=new Date(H.date||H.createdAt).toISOString().split("T")[0];return re>=A.start&&re<=A.end}))}catch(A){F.error(" Error filtering by week:",A)}else if(j==="month"&&R)try{const A=ae(R),H=we(R);F.log(" Filtering by month:",A,"to",H),T=T.filter(G=>{const Se=new Date(G.date||G.createdAt).toISOString().split("T")[0];return Se>=A&&Se<=H})}catch(A){F.error("Error filtering by month:",A)}else j==="year"&&O&&(T=T.filter(A=>new Date(A.date||A.createdAt).getFullYear().toString()===O));if(u){const A=u.toLowerCase();T=T.filter(H=>{var Se,De,Fe;const G=((Se=H.name)==null?void 0:Se.toLowerCase())||"",re=((Fe=(De=H.employee)==null?void 0:De.employeeId)==null?void 0:Fe.toLowerCase())||"";return G.includes(A)||re.includes(A)})}ye(T)},[u,j,R,O,e]),x.useEffect(()=>{let T=v;if(j==="week"&&R)try{const A=se(R);A.start&&A.end&&(T=T.filter(H=>{const re=new Date(H.date||H.createdAt).toISOString().split("T")[0];return re>=A.start&&re<=A.end}))}catch(A){F.error("Error filtering archived by week:",A)}else if(j==="month"&&R)try{const A=ae(R),H=we(R);T=T.filter(G=>{const Se=new Date(G.date||G.createdAt).toISOString().split("T")[0];return Se>=A&&Se<=H})}catch(A){F.error("Error filtering archived by month:",A)}else j==="year"&&O&&(T=T.filter(A=>new Date(A.date||A.createdAt).getFullYear().toString()===O));if(u){const A=u.toLowerCase();T=T.filter(H=>{var Se,De,Fe;const G=((Se=H.name)==null?void 0:Se.toLowerCase())||"",re=((Fe=(De=H.employee)==null?void 0:De.employeeId)==null?void 0:Fe.toLowerCase())||"";return G.includes(A)||re.includes(A)})}He(T)},[u,j,R,O,v]);const qe=T=>{try{if(!T)return"N/A";const A=new Date(T);if(isNaN(A.getTime()))return"N/A";const G=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][A.getMonth()],re=A.getDate(),Se=A.getFullYear();return`${G} ${re}, ${Se}`}catch(A){return F.error("Error formatting date:",A),"N/A"}},$e=T=>{try{if(!T)return"N/A";const A=new Date(T);return isNaN(A.getTime())?"N/A":A.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(A){return F.error("Error formatting table date:",A),"N/A"}},ft=()=>{if(!j&&!u)return"All Cash Advance Records";if(j==="week"&&R)try{const T=se(R);if(T.start&&T.end){const A=qe(T.start),H=qe(T.end);return`Week: ${A} - ${H}`}}catch(T){F.error("Error getting week display text:",T)}else if(j==="month"&&R)try{const T=new Date(R);if(!isNaN(T.getTime()))return`${["January","February","March","April","May","June","July","August","September","October","November","December"][T.getMonth()]} ${T.getFullYear()}`}catch(T){F.error("Error getting month display text:",T)}else if(j==="year"&&O)return`Year: ${O}`;return u&&!j?`Search Results for: "${u}"`:"Filtered Cash Advance Records"},_e=T=>{const{name:A,value:H}=T.target;de(G=>{const re={...G,[A]:H};if(A==="employeeIdInput"){const Se=String(H||"").trim();let De=r.find(Fe=>String(Fe.employeeId??"").trim()===Se);if(!De&&Se.length>0){const Fe=r.filter(xe=>String(xe.employeeId??"").startsWith(Se));Fe.length===1&&(De=Fe[0])}De?(re.employee=De._id,re.name=`${De.firstName} ${De.lastName}`.trim(),ke(De.status||"Unknown")):(re.employee="",re.name="",ke(""))}return A==="type"&&(re.type="Advance"),re})},Ke=()=>{de({name:"",employee:"",employeeIdInput:"",type:"Advance",amount:"",date:new Date().toISOString().split("T")[0]}),ke(""),d(!0)},Xt=async T=>{T.preventDefault();try{if(l(!0),!W.name){i("Please enter a valid Employee ID from Employee Management."),l(!1);return}const A=parseFloat(W.amount);if(isNaN(A)||A<0){i("Amount must be a valid non-negative number."),l(!1);return}const H=(b==null?void 0:b.maxCashAdvance)||1100;if(A>H){i(`Cash advance amount cannot exceed ${H.toLocaleString()} (2 days  ${(b==null?void 0:b.dailyRate)||550} daily rate).`),l(!1);return}if(W.employee)try{const re=new Date,Se=re.getDay(),De=Se===0?6:Se-1,Fe=new Date(re);Fe.setDate(re.getDate()-De),Fe.setHours(0,0,0,0);const xe=new Date(Fe);xe.setDate(Fe.getDate()+5),xe.setHours(23,59,59,999);const jt=await fetch(`/api/attendance?employeeId=${W.employee}&startDate=${Fe.toISOString()}&endDate=${xe.toISOString()}`);if(jt.ok){const mt=await jt.json(),wt=(Array.isArray(mt)?mt:mt.data||mt.attendance||[]).filter(D=>D.dayType==="Full Day"&&new Date(D.date).getDay()!==0).length;if(wt<2){i(`Cash advance requires at least 2 full-days of work this week. Employee has only ${wt} full-day(s) so far.`),l(!1);return}}const jn=await fetch(`/api/deductions?employeeId=${W.employee}&startDate=${Fe.toISOString()}&endDate=${xe.toISOString()}`);if(jn.ok){const mt=await jn.json();if((Array.isArray(mt)?mt:mt.data||[]).some(D=>D.type==="Advance"&&D.employee===W.employee)){i("Employee already received a cash advance this week. Only one cash advance allowed per week."),l(!1);return}}}catch(re){F.error("Error checking cash advance eligibility:",re)}const G={name:W.name,employee:W.employee||void 0,type:"Advance",amount:parseFloat(W.amount),date:W.date?new Date(W.date).toISOString():new Date().toISOString()};await eb(G),d(!1),de({name:"",employee:"",employeeIdInput:"",type:"Cash Advance",amount:"",date:new Date().toISOString().split("T")[0]}),ke(""),await Je(),i(null)}catch(A){i(A.message)}finally{l(!1)}},_t=T=>{const A=T.target.value;V(A)},et=T=>{ee(T.target.value)},Ut=()=>{g(""),V(""),ee(""),m("")},lr=()=>j!==""||u!=="",It=async T=>{if(!T){alert("Error: Cannot archive - No ID provided");return}if(window.confirm("Are you sure you want to archive this cash advance record?"))try{l(!0);const A=await fetch(`https://payroll-backend-cyan.vercel.app/api/cash-advance/${T}/archive`,{method:"PATCH",headers:{"Content-Type":"application/json"}}),H=await A.json();if(!A.ok)throw new Error(H.message||"Archive failed");await Je(!0),i(null),alert("Cash advance record archived successfully!")}catch(A){F.error("Archive error:",A);const H=A.message||"Archive failed";i(H),alert(`Error: ${H}`)}finally{l(!1)}},I=async T=>{if(!T){alert("Error: Cannot restore - No ID provided");return}if(window.confirm("Are you sure you want to restore this cash advance record?"))try{l(!0);const A=await fetch(`https://payroll-backend-cyan.vercel.app/api/cash-advance/${T}/restore`,{method:"PATCH",headers:{"Content-Type":"application/json"}}),H=await A.json();if(!A.ok)throw new Error(H.message||"Restore failed");await Je(!0),i(null),alert("Cash advance record restored successfully!")}catch(A){F.error("Restore error:",A);const H=A.message||"Restore failed";i(H),alert(`Error: ${H}`)}finally{l(!1)}},C=()=>{d(!1),de({name:"",employee:"",employeeIdInput:"",type:"Advance",amount:"",date:new Date().toISOString().split("T")[0]}),ke("")},L=T=>{const A=r.find(H=>H._id===T);return(A==null?void 0:A.status)||"Unknown"};return o?n.jsx("div",{className:"container mt-4",children:n.jsxs("div",{className:"alert alert-danger",children:[n.jsx("h4",{className:"alert-heading",children:"Error!"}),n.jsx("p",{children:o}),n.jsx("hr",{}),n.jsx("p",{className:"mb-0",children:n.jsx("button",{className:"btn btn-outline-danger",onClick:Je,children:"Try Again"})})]})}):n.jsxs("div",{className:"admin-page-wrapper",children:[n.jsx("button",{className:"hamburger-menu-button",onClick:()=>k(!N),"aria-label":"Toggle Menu",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),n.jsx("div",{className:`mobile-sidebar-overlay ${N?"active":""}`,onClick:()=>k(!1)}),n.jsx(Vr,{isMobileOpen:N,onClose:()=>k(!1)}),n.jsxs("div",{className:"admin-main-content",children:[n.jsx(Yr,{}),n.jsx("div",{className:"admin-content-area",children:n.jsxs("div",{className:"card shadow-sm mb-4",style:{borderRadius:"15px",border:"none"},children:[n.jsxs("div",{className:"card-header",style:{backgroundColor:"transparent",color:"black",borderRadius:0,padding:"20px"},children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"mb-1",style:{fontWeight:"bold",color:"black",display:"flex",alignItems:"center",gap:8,fontSize:"2rem",fontFamily:"sans-serif"},children:[n.jsx("i",{className:"fas fa-minus-circle me-2"}),"Cash Advance Management"]}),n.jsx("p",{className:"mb-0",style:{fontSize:"1.05rem",color:"black",fontFamily:"Poppins, sans-serif",fontWeight:500,letterSpacing:"0.5px"},children:"Track and manage employee cash advances efficiently"})]}),n.jsxs("button",{onClick:Ke,className:"btn",style:{backgroundColor:"#f06a98",border:"none",color:"#ffffff",padding:"10px 20px",fontSize:"1rem",borderRadius:"8px",flex:"0 0 auto",width:"auto",whiteSpace:"nowrap"},children:[n.jsx("i",{className:"fas fa-plus me-2"}),"Cash Advance"]})]}),n.jsxs("div",{className:"mt-4 d-flex gap-3 align-items-center flex-wrap",children:[n.jsxs("div",{className:"input-group",style:{maxWidth:"400px"},children:[n.jsx("span",{className:"input-group-text",children:n.jsx("i",{className:"fas fa-search"})}),n.jsx("input",{type:"text",className:"form-control",placeholder:"Search by name or employee ID...",value:u,onChange:T=>m(T.target.value)})]}),n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Filter by:"}),n.jsxs("select",{value:j,onChange:T=>g(T.target.value),className:"border border-gray-300 rounded p-2 focus:ring-2 focus:ring-blue-500",style:{color:"black"},children:[n.jsx("option",{value:"",children:"Select filter..."}),n.jsx("option",{value:"week",children:"Week"}),n.jsx("option",{value:"month",children:"Month"}),n.jsx("option",{value:"year",children:"Year"})]})]}),(j==="week"||j==="month")&&n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:j==="week"?"Select Week:":"Select Month:"}),n.jsx("input",{type:j==="week"?"week":"month",value:R,onChange:_t,className:"border border-gray-300 rounded p-2 focus:ring-2 focus:ring-blue-500",style:{color:"black"},title:j==="week"?"Select a week":"Select a month"})]}),j==="year"&&n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Select Year:"}),n.jsxs("select",{value:O,onChange:et,className:"border border-gray-300 rounded p-2 focus:ring-2 focus:ring-blue-500",style:{color:"black",minWidth:"120px"},children:[n.jsx("option",{value:"",children:"Select year..."}),ue.map(T=>n.jsx("option",{value:T,children:T},T))]})]}),lr()&&n.jsxs("button",{onClick:Ut,className:"btn btn-outline-secondary",style:{padding:"10px 20px",fontSize:"1rem",borderRadius:"8px"},children:[n.jsx("i",{className:"fas fa-times me-2"}),"Clear Filters"]}),n.jsxs("button",{onClick:()=>w(!y),className:"btn",style:{backgroundColor:y?"#6c757d":"#f06a98",border:"none",color:"#ffffff",padding:"10px 20px",fontSize:"1rem",borderRadius:"8px",flex:"0 0 auto",width:"auto",whiteSpace:"nowrap"},children:[n.jsx("i",{className:"fas fa-archive me-2"}),y?"Back to Main":"View Archive"]})]}),b&&n.jsxs("div",{className:"mt-4 mb-4",children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between p-3 rounded",style:{backgroundColor:"#e3f2fd",border:"1px solid #90caf9",cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>p(!f),children:[n.jsxs("div",{className:"d-flex align-items-center gap-2",children:[n.jsx("i",{className:"fas fa-info-circle text-primary",style:{fontSize:"1.5rem"}}),n.jsx("h3",{className:"mb-0 fw-bold text-primary",style:{fontSize:"1.1rem"},children:"Important Notice - Cash Advance Guidelines"})]}),n.jsx("i",{className:`fas fa-chevron-${f?"up":"down"} text-primary`})]}),f&&n.jsxs("div",{className:"p-4 mt-2 rounded",style:{backgroundColor:"#f5f5f5",border:"1px solid #e0e0e0"},children:[n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsxs("h4",{className:"fw-bold text-dark mb-3",style:{fontSize:"1rem"},children:[n.jsx("i",{className:"fas fa-dollar-sign text-success me-2"}),"Current Cash Advance Rate"]}),n.jsxs("div",{className:"ps-4",children:[n.jsxs("p",{className:"mb-2",children:[n.jsx("span",{className:"fw-semibold",children:"Daily Rate:"})," ",n.jsxs("span",{className:"text-primary fw-bold",style:{fontSize:"1.1rem"},children:["",((J=b.dailyRate)==null?void 0:J.toLocaleString())||"550"]})]}),n.jsxs("p",{className:"mb-2",children:[n.jsx("span",{className:"fw-semibold",children:"Maximum Cash Advance:"})," ",n.jsxs("span",{className:"text-success fw-bold",style:{fontSize:"1.2rem"},children:["",((Y=b.maxCashAdvance)==null?void 0:Y.toLocaleString())||"1,100"]}),n.jsx("br",{}),n.jsxs("small",{className:"text-muted",children:["(2 days  ",((P=b.dailyRate)==null?void 0:P.toLocaleString())||"550",")"]})]})]})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsxs("h4",{className:"fw-bold text-dark mb-3",style:{fontSize:"1rem"},children:[n.jsx("i",{className:"fas fa-exclamation-triangle text-warning me-2"}),"Cash Advance Rules"]}),n.jsxs("ul",{className:"ps-4",style:{lineHeight:"1.8"},children:[n.jsxs("li",{children:[n.jsx("span",{className:"fw-semibold",children:"Maximum Amount:"})," Cannot exceed"," ",n.jsxs("span",{className:"text-danger fw-bold",children:["",((M=b.maxCashAdvance)==null?void 0:M.toLocaleString())||"1,100"]})]}),n.jsxs("li",{children:[n.jsx("span",{className:"fw-semibold",children:"Frequency:"})," Only"," ",n.jsx("span",{className:"text-danger fw-bold",children:"one cash advance per week"})," per employee"]}),n.jsxs("li",{children:[n.jsx("span",{className:"fw-semibold",children:"Deduction:"})," Automatically deducted from payroll"]})]})]})]}),n.jsxs("div",{className:"alert alert-info mt-3 mb-0",style:{backgroundColor:"#e3f2fd",border:"1px solid #90caf9"},children:[n.jsx("i",{className:"fas fa-calculator me-2"}),n.jsx("span",{className:"fw-semibold",children:"Net Salary Calculation:"})," ","Gross Pay - SSS - PhilHealth - PAG-IBIG - Cash Advances = Net Salary"]})]})]})]}),n.jsx("div",{className:"card-body",style:{padding:"10px 20px"},children:s?n.jsx("div",{className:"text-center py-4",children:n.jsx("div",{className:"spinner-border text-primary",role:"status",children:n.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):n.jsxs(n.Fragment,{children:[!y&&n.jsxs("div",{className:"overflow-x-auto bg-white p-4 rounded-lg shadow-md",style:{marginTop:"10px"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-700",children:["Active Cash Advance Records - ",ft()]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[ge.length," record",ge.length!==1?"s":""," found"]})]}),n.jsxs("table",{className:"min-w-full table-auto text-sm",style:{fontSize:"0.875rem"},children:[n.jsx("thead",{className:"bg-gray-100 text-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"#"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Employee ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Employee Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Actions"})]})}),n.jsx("tbody",{className:"text-gray-700 divide-y divide-gray-200",children:ge.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"text-center py-4 text-muted",children:u?"No cash advances found matching your search":"No cash advances found"})}):ge.map((T,A)=>{var H,G;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:A+1}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:((H=T.employee)==null?void 0:H.employeeId)||""}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:T.name}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx(vi,{status:L((G=T.employee)==null?void 0:G._id)})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:T.type}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border",children:["",Number(T.amount).toLocaleString(void 0,{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:(()=>{let re=null;if(T.date)try{re=new Date(T.date)}catch{}else if(T.createdAt)try{re=new Date(T.createdAt)}catch{}return re&&!isNaN(re.getTime())?$e(re):"No date"})()}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("div",{className:"flex space-x-1",children:n.jsx("button",{onClick:()=>It(T._id),className:"bg-purple-500 text-white px-3 py-1 rounded text-xs hover:bg-purple-600 transition duration-200",children:"Archive"})})})]},T._id)})})]})]}),y&&n.jsxs("div",{className:"overflow-x-auto bg-white p-4 rounded-lg shadow-md",style:{marginTop:"10px"},children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-700 mb-3",children:["Archived Cash Advance Records - ",u?`Search: "${u}"`:"All Archived Records"]}),n.jsxs("table",{className:"min-w-full table-auto text-sm",style:{fontSize:"0.875rem"},children:[n.jsx("thead",{className:"bg-gray-100 text-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"#"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Employee ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Employee Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Actions"})]})}),n.jsx("tbody",{className:"text-gray-700 divide-y divide-gray-200",children:Ee.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"8",className:"text-center py-4 text-muted",children:["No archived cash advances found ",u&&"matching your search"]})}):Ee.map((T,A)=>{var H,G;return n.jsxs("tr",{className:"hover:bg-gray-50 bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:A+1}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:((H=T.employee)==null?void 0:H.employeeId)||""}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:T.name}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx(vi,{status:L((G=T.employee)==null?void 0:G._id)})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:T.type}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border",children:["",Number(T.amount).toLocaleString(void 0,{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:(()=>{let re=null;if(T.date)try{re=new Date(T.date)}catch{}else if(T.createdAt)try{re=new Date(T.createdAt)}catch{}return re&&!isNaN(re.getTime())?$e(re):"No date"})()}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("div",{className:"flex space-x-1",children:n.jsx("button",{onClick:()=>I(T._id),className:"bg-green-500 text-white px-3 py-1 rounded text-xs hover:bg-green-600 transition duration-200",children:"Restore"})})})]},T._id)})})]})]})]})})]})})]}),c&&n.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)",zIndex:1050},children:n.jsx("div",{className:"modal-dialog modal-lg",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",children:[n.jsxs("h5",{className:"modal-title fw-bold",style:{fontSize:"1.3rem",color:"#2c3e50"},children:[n.jsx("i",{className:"fas fa-minus-circle me-2"}),"Cash Advance"]}),n.jsx("button",{type:"button",className:"btn-close",onClick:C})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("form",{onSubmit:Xt,children:[n.jsxs("div",{className:"row g-3",children:[n.jsxs("div",{className:"col-12",children:[n.jsx("label",{className:"form-label",style:{fontSize:"1.1rem"},children:"Employee ID *"}),n.jsx("input",{type:"text",name:"employeeIdInput",value:W.employeeIdInput,onChange:_e,className:"form-control",placeholder:"Enter Employee ID",required:!0})]}),n.jsxs("div",{className:"col-12",children:[n.jsx("label",{className:"form-label",style:{fontSize:"1.1rem"},children:"Employee Name"}),n.jsx("input",{type:"text",className:"form-control",readOnly:!0,placeholder:"Employee Name (auto-filled)",value:W.name})]}),n.jsxs("div",{className:"col-12",children:[n.jsx("label",{className:"form-label",style:{fontSize:"1.1rem"},children:"Employee Status"}),n.jsx("div",{className:"form-control",style:{minHeight:"38px",display:"flex",alignItems:"center"},children:n.jsx(vi,{status:he})})]}),n.jsxs("div",{className:"col-12",children:[n.jsx("label",{className:"form-label",style:{fontSize:"1.1rem"},children:"Type *"}),n.jsx("select",{name:"type",value:W.type,onChange:_e,className:"form-control",required:!0,children:n.jsx("option",{value:"Cash Advance",children:"Cash Advance"})})]}),n.jsxs("div",{className:"col-12",children:[n.jsx("label",{className:"form-label",style:{fontSize:"1.1rem"},children:"Amount *"}),n.jsx("input",{type:"number",name:"amount",value:W.amount,onChange:_e,className:"form-control",placeholder:"Enter amount",required:!0})]}),n.jsxs("div",{className:"col-12",children:[n.jsx("label",{className:"form-label",style:{fontSize:"1.1rem"},children:"Date *"}),n.jsx("input",{type:"date",name:"date",value:W.date,onChange:_e,className:"form-control",required:!0})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:C,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn",disabled:s,style:{backgroundColor:"#f06a98",borderColor:"#f06a98",color:"white",boxShadow:"0 2px 4px rgba(240, 106, 152, 0.2)"},children:s?"Saving...":"Cash Advance"})]})]})})]})})})]})},Oa="/api",Ma=()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),ta=async()=>(await Oe.get(`${Oa}/payrolls`,Ma())).data,Df=async e=>(await Oe.post(`${Oa}/payrolls`,e,Ma())).data,sb=async(e,t)=>(await Oe.put(`${Oa}/payrolls/${e}`,t,Ma())).data,lb=async e=>(await Oe.put(`${Oa}/payrolls/${e}/archive`,{},Ma())).data,ob=async e=>(await Oe.put(`${Oa}/payrolls/${e}/restore`,{},Ma())).data,ib=async e=>(await Oe.delete(`${Oa}/payrolls/${e}`,Ma())).data,cb=()=>{const e=_a(),[t,r]=x.useState([]),[a,s]=x.useState([]),[l,o]=x.useState(!1),[i,c]=x.useState(!1),[d,u]=x.useState(!1),[m,y]=x.useState([]),[w,v]=x.useState([]),[S,b]=x.useState({}),[h,f]=x.useState(null),[p,N]=x.useState(!1),[k,j]=x.useState(!1),[g,R]=x.useState(!1),[V,O]=x.useState(!1),[ee,ue]=x.useState(""),ne=Rd(ee,300),[ge,ye]=x.useState(""),[Ee,He]=x.useState(""),[W,de]=x.useState(""),[he,ke]=x.useState([]),[fe,Je]=x.useState([]),[K,Z]=x.useState({key:null,direction:"asc"}),[se,ae]=x.useState({dailyRate:550,hourlyRate:68.75,overtimeRate:85.94}),[we,qe]=x.useState({employeeName:"",salary:"",deductions:"",netSalary:0}),[$e,ft]=x.useState(null),_e=D=>{const{name:$,value:U}=D.target;qe(X=>({...X,[$]:U}))},Ke=D=>new Date(D).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Xt=async()=>{N(!0);try{try{const D=await fetch("/api/employees");if(D.ok){const $=await D.json(),U=Array.isArray($)?$:$.data||$.employees||[];y(U);const X={};for(const be of U)X[be._id]=await Ut(be);b(X)}else m.length>0||y([])}catch{y(m.length>0?m:[])}try{const D=await fetch("/api/cash-advance");if(D.ok){const $=await D.json(),X=($.data||$.advances||$||[]).map(be=>{var Ie;return{_id:be._id,employee:be.employee,employeeId:(Ie=be.employee)==null?void 0:Ie.employeeId,name:be.employee?`${be.employee.firstName} ${be.employee.lastName}`:"Unknown",amount:be.amount,status:be.status,date:be.requestDate,type:"Cash Advance"}});v(X)}else v([])}catch(D){F.error("Error fetching cash advances:",D),v([])}h&&It(h)}catch(D){F.error("Critical error in fetchEmployeeAndDeductionData:",D)}finally{N(!1)}},_t=async()=>{try{try{const U=await fetch("/api/payrolls/archived");if(U.ok){const X=await U.json();s(X);return}}catch{}let D=[];try{D=await ta()}catch{D=t}const $=D.filter(U=>U.status==="archived");s($)}catch{s([])}},et=D=>!D||!w.length?0:w.filter(U=>{var je,We;if(D._id&&((je=U.employee)!=null&&je._id))return U.employee._id===D._id;const X=`${D.firstName} ${D.lastName}`.toLowerCase().trim(),be=(U.name||"").toLowerCase().trim(),Ie=(((We=U.employee)==null?void 0:We.name)||"").toLowerCase().trim();return be.includes(X)||Ie.includes(X)||be.includes(D.firstName.toLowerCase())||be.includes(D.lastName.toLowerCase())}).reduce((U,X)=>{const be=Number(X.amount)||0;return U+be},0),Ut=async D=>{if(!D)return 0;try{const $=await fetch("/api/salary-rate/current");let U=se;if($.ok){const le=await $.json();U=le.data||le}const X=new Date,be=X.getDay(),Ie=be===0?6:be-1,je=new Date(X);je.setDate(X.getDate()-Ie),je.setHours(0,0,0,0);const We=new Date(je);We.setDate(je.getDate()+5),We.setHours(23,59,59,999);const Nr=await fetch(`/api/attendance?employeeId=${D._id}&startDate=${je.toISOString()}&endDate=${We.toISOString()}`);if(!Nr.ok){const le=U.dailyRate,Ne=be===0?6:Math.min(be,6);return le*Ne}const Gt=await Nr.json(),E=Array.isArray(Gt)?Gt:Gt.data||Gt.attendance||[];if(!Array.isArray(E)){F.error(" Attendance records is not an array:",E);const le=U.dailyRate,Ne=be===0?6:Math.min(be,6);return le*Ne}let _=0;const z=U.dailyRate,q=U.hourlyRate,te=U.overtimeRate;return E.forEach(le=>{if(new Date(le.date).getDay()!==0)if(le.hoursWorked){const ie=Math.min(le.hoursWorked,8),me=Math.max(le.hoursWorked-8,0);_+=ie*q+me*te}else(le.status==="Present"||le.timeIn)&&(_+=z)}),Math.round(_*100)/100}catch($){F.error("Error calculating employee salary:",$);const U=se.dailyRate,be=new Date().getDay(),Ie=be===0?6:Math.min(be,6);return U*Ie}},lr=D=>{f(D),$e&&It(D)},It=D=>{const $=et(D),U=(D.salary||0)-$;qe({employeeName:D.firstName+" "+D.lastName,salary:D.salary||"",deductions:$.toString(),netSalary:U})},I=D=>{if(!D)return{start:"",end:""};try{const[$,U]=D.split("-W");if(!$||!U)return{start:"",end:""};const X=new Date(parseInt($),0,1+(parseInt(U)-1)*7),be=X.getDay(),Ie=new Date(X);Ie.setDate(X.getDate()-be+(be===0?-6:1));const je=new Date(Ie);return je.setDate(Ie.getDate()+6),{start:Ie.toISOString().split("T")[0],end:je.toISOString().split("T")[0]}}catch($){return F.error("Error parsing week input:",$),{start:"",end:""}}},C=D=>{try{if(!D)return"";const $=new Date(D);if(isNaN($.getTime()))return"";const U=$.getFullYear(),X=$.getMonth();return new Date(U,X,1).toISOString().split("T")[0]}catch($){return F.error("Error getting month start date:",$),""}},L=D=>{try{if(!D)return"";const $=new Date(D);if(isNaN($.getTime()))return"";const U=$.getFullYear(),X=$.getMonth();return new Date(U,X+1,0).toISOString().split("T")[0]}catch($){return F.error("Error getting month end date:",$),""}};x.useEffect(()=>{zo().then(D=>{ae(D)}).catch(D=>{F.error(" Failed to load salary rate, using defaults:",D)})},[]),x.useEffect(()=>{He(""),de("")},[ge]),x.useEffect(()=>{const D=[...new Set(t.map($=>new Date($.createdAt||$.updatedAt||Date.now()).getFullYear().toString()))].sort().reverse();ke(D)},[t]),x.useEffect(()=>{let D=[...t];if(ge==="today"){const $=new Date;$.setHours(0,0,0,0);const U=$.toISOString().split("T")[0];D=D.filter(X=>new Date(X.createdAt||X.updatedAt||Date.now()).toISOString().split("T")[0]===U)}else if(ge==="week"&&Ee)try{const $=I(Ee);$.start&&$.end&&(D=D.filter(U=>{const be=new Date(U.createdAt||U.updatedAt||Date.now()).toISOString().split("T")[0];return be>=$.start&&be<=$.end}))}catch($){F.error("Error filtering by week:",$)}else if(ge==="month"&&Ee)try{const $=C(Ee),U=L(Ee);D=D.filter(X=>{const Ie=new Date(X.createdAt||X.updatedAt||Date.now()).toISOString().split("T")[0];return Ie>=$&&Ie<=U})}catch($){F.error("Error filtering by month:",$)}else ge==="year"&&W&&(D=D.filter($=>new Date($.createdAt||$.updatedAt||Date.now()).getFullYear().toString()===W));if(ne){const $=ne.toLowerCase();D=D.filter(U=>{var Ie,je;const X=((Ie=U.employeeName)==null?void 0:Ie.toLowerCase())||"",be=((je=U.employeeId)==null?void 0:je.toLowerCase())||"";return X.includes($)||be.includes($)})}Je(D)},[ne,ge,Ee,W,t]);const J=()=>{if(!ge&&!ne)return"All Payroll Records";if(ge==="week"&&Ee)try{const D=I(Ee);if(D.start&&D.end){const $=Ke(D.start),U=Ke(D.end);return`Week: ${$} - ${U}`}}catch(D){F.error("Error getting week display text:",D)}else if(ge==="month"&&Ee)try{const D=new Date(Ee);if(!isNaN(D.getTime()))return`${["January","February","March","April","May","June","July","August","September","October","November","December"][D.getMonth()]} ${D.getFullYear()}`}catch(D){F.error("Error getting month display text:",D)}else if(ge==="year"&&W)return`Year: ${W}`;return ee&&!ge?`Search Results for: "${ee}"`:"Filtered Payroll Records"},Y=()=>{ye(""),He(""),de(""),ue("")},P=()=>ge!==""||ee!=="",M=D=>{He(D.target.value)},T=D=>{de(D.target.value)},A=()=>{const D=[],$=new Set;return m.forEach(U=>{$.has(U._id)||($.add(U._id),D.push(U))}),D},H=async D=>{if(D.preventDefault(),!$e&&!h&&!k){alert("Please select an employee first!");return}try{let $=[];if(k){for(const X of m){const be=`${X.firstName} ${X.lastName}`.trim(),Ie=Number(X.salary||0),je=Number(et(X)),We=Ie-je,Nr={employeeName:be,employeeId:X.employeeId||"",salary:Ie,deductions:je,netSalary:We},Gt=await Df(Nr);$.push(Gt)}alert(`Successfully created payroll for ${$.length} employees!`)}else if(h){const X=`${h.firstName} ${h.lastName}`.trim(),be=Number(h.salary||0),Ie=Number(et(h)),je=be-Ie,We={employeeName:X,employeeId:h.employeeId||"",salary:be,deductions:Ie,netSalary:je};$e?(await sb($e,We),alert("Payroll updated successfully!")):(await Df(We),alert("Payroll added successfully!"))}const U=await ta();r(U),qe({employeeName:"",salary:"",deductions:"",netSalary:0}),f(null),j(!1),ft(null)}catch($){F.error("Error saving payroll:",$),alert(`Error: ${$.message}`)}},G=async D=>{if(window.confirm(`Are you sure you want to archive this payroll record?

Archived records will be moved to the archive section and can be restored later.`))try{const $=t.find(X=>X._id===D);if(!$){alert("Payroll record not found!");return}await lb(D);const U=await ta();r(U),await _t(),alert(`Payroll record for ${$.employeeName} archived successfully!`)}catch($){F.error("ERROR in archive process:",$),alert(`Error archiving payroll: ${$.message}`)}},re=async D=>{if(window.confirm(`Are you sure you want to restore this payroll record?

It will be moved back to the active payroll records.`))try{const $=a.find(U=>U._id===D);if($){await ob(D);const U=await ta();r(U),_t(),alert(`Payroll record for ${$.employeeName} restored successfully!`)}}catch($){F.error("Error restoring payroll:",$),alert("Error restoring payroll. Please try again.")}},Se=async D=>{if(window.confirm(`Are you sure you want to delete this payroll record?

This action cannot be undone.`))try{await ib(D);const $=await ta();r($),alert("Payroll deleted successfully!")}catch($){F.error("Error deleting payroll:",$),alert("Error deleting payroll. Please try again.")}},De=()=>{qe({employeeName:"",salary:"",deductions:"",netSalary:0}),f(null),ft(null),alert("Edit cancelled.")},Fe=()=>{const D=Number(we.salary)||0,$=Number(we.deductions)||0,U=D-$;qe(X=>({...X,netSalary:U}))},xe=D=>{e(`/payroll/payslip/${D._id}`,{state:{employee:D,payrolls:t.filter($=>$.employeeId===D.employeeId||$.employeeName===`${D.firstName} ${D.lastName}`)}})},jt=()=>{u(!0)},jn=()=>{Xt(),_t(),alert("Data refreshed successfully!")},mt=D=>{let $="asc";K.key===D&&K.direction==="asc"&&($="desc"),Z({key:D,direction:$})},Rr=D=>K.key?[...D].sort((U,X)=>{var Nr,Gt;const be=m.find(E=>E.employeeId===U.employeeId||`${E.firstName} ${E.lastName}`===U.employeeName),Ie=m.find(E=>E.employeeId===X.employeeId||`${E.firstName} ${E.lastName}`===X.employeeName);let je,We;switch(K.key){case"employeeId":je=U.employeeId||"",We=X.employeeId||"";break;case"employeeName":je=U.employeeName||"",We=X.employeeName||"";break;case"status":const E={regular:1,oncall:2,"on-call":2};je=E[(Nr=be==null?void 0:be.status)==null?void 0:Nr.toLowerCase()]||999,We=E[(Gt=Ie==null?void 0:Ie.status)==null?void 0:Gt.toLowerCase()]||999;break;case"salary":je=parseFloat(U.salary)||0,We=parseFloat(X.salary)||0;break;case"deductions":je=parseFloat(U.deductions)||0,We=parseFloat(X.deductions)||0;break;case"netSalary":je=parseFloat(U.netSalary)||0,We=parseFloat(X.netSalary)||0;break;case"date":je=new Date(U.date||U.createdAt),We=new Date(X.date||X.createdAt);break;default:return 0}return je<We?K.direction==="asc"?-1:1:je>We?K.direction==="asc"?1:-1:0}):D,wt=D=>K.key!==D?n.jsx("i",{className:"fas fa-sort text-gray-400 ms-2"}):K.direction==="asc"?n.jsx("i",{className:"fas fa-sort-up text-blue-600 ms-2"}):n.jsx("i",{className:"fas fa-sort-down text-blue-600 ms-2"});return x.useEffect(()=>{const D=async()=>{try{const U=await ta();if(r(U),!U||U.length===0){const X=[{_id:"1",employeeName:"John Doe",employeeId:"EMP-001",salary:25e3,deductions:1500,netSalary:23500,status:"active",createdAt:new Date().toISOString()},{_id:"2",employeeName:"Jane Smith",employeeId:"EMP-002",salary:3e4,deductions:2e3,netSalary:28e3,status:"active",createdAt:new Date(Date.now()-6048e5).toISOString()}];r(X)}}catch{const X=[{_id:"1",employeeName:"Sample Employee 1",employeeId:"EMP-S001",salary:2e4,deductions:1e3,netSalary:19e3,status:"active",createdAt:new Date().toISOString()}];r(X)}};(async()=>{await D(),await Xt(),await _t()})()},[]),x.useEffect(()=>{$e&&h&&It(h)},[w,h,$e]),x.useEffect(()=>{$e&&Fe()},[we.salary,we.deductions]),n.jsxs("div",{className:"admin-page-wrapper",children:[n.jsx("button",{className:"hamburger-menu-button",onClick:()=>O(!V),"aria-label":"Toggle Menu",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),n.jsx("div",{className:`mobile-sidebar-overlay ${V?"active":""}`,onClick:()=>O(!1)}),n.jsx(Vr,{isMobileOpen:V,onClose:()=>O(!1)}),n.jsxs("div",{className:"admin-main-content",children:[n.jsx(Yr,{}),n.jsx("div",{className:"admin-content-area",children:n.jsxs("div",{className:"card shadow-sm mb-4",style:{borderRadius:"15px",border:"none"},children:[n.jsx("div",{className:"card-header",style:{backgroundColor:"transparent",color:"black",borderRadius:0,padding:"20px"},children:n.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"mb-1",style:{fontWeight:"bold",color:"black",display:"flex",alignItems:"center",gap:8,fontSize:"2rem",fontFamily:"sans-serif"},children:[n.jsx("i",{className:"fas fa-money-bill-wave me-2"}),"Payroll Management"]}),n.jsx("p",{className:"mb-0",style:{fontSize:"1.05rem",color:"black",fontFamily:"Poppins, sans-serif",fontWeight:500,letterSpacing:"0.5px"},children:"Efficient payroll processing for your team"})]}),n.jsxs("button",{onClick:jn,className:"btn btn-outline-primary btn-sm",style:{borderColor:"#f06a98",color:"#f06a98"},children:[n.jsx("i",{className:"fas fa-sync-alt me-2"}),"Refresh Data"]})]})}),n.jsx("div",{className:"card-body",style:{padding:"20px"},children:l?n.jsxs("div",{className:"overflow-x-auto bg-white p-4 rounded-lg shadow-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Archived Payroll Records"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[a.length," archived record",a.length!==1?"s":""]}),n.jsxs("button",{onClick:()=>o(!1),className:"bg-pink-500 text-white px-4 py-2 rounded hover:bg-pink-600 transition duration-200 flex items-center",children:[n.jsx("i",{className:"fas fa-arrow-left mr-2"}),"Back to Main"]})]})]}),a.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No archived payroll records yet"}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full table-auto text-sm",style:{fontSize:"0.875rem",minWidth:"1000px"},children:[n.jsx("thead",{className:"bg-gray-100 text-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"#"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Employee ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Employee Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Salary"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Cash Advances"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Net Salary"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Archived Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Actions"})]})}),n.jsx("tbody",{className:"text-gray-700 divide-y divide-gray-200",children:a.map((D,$)=>(m.find(U=>U.employeeId===D.employeeId||`${U.firstName} ${U.lastName}`===D.employeeName),n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:$+1}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:D.employeeId||"N/A"}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:D.employeeName}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border",children:["",D.salary.toFixed(2)]}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border",children:["",D.deductions.toFixed(2)]}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border",children:["",D.netSalary.toFixed(2)]}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:D.archivedAt?new Date(D.archivedAt).toLocaleDateString():"Unknown"}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsxs("div",{className:"flex space-x-1",children:[n.jsxs("button",{onClick:()=>re(D._id),className:"bg-green-500 text-white px-3 py-2 rounded text-xs hover:bg-green-600 transition duration-200",title:"Restore Payroll Record",children:[n.jsx("i",{className:"fas fa-undo me-1"}),"Restore"]}),n.jsxs("button",{onClick:()=>Se(D._id),className:"bg-red-500 text-white px-3 py-2 rounded text-xs hover:bg-red-600 transition duration-200",title:"Delete Permanently",children:[n.jsx("i",{className:"fas fa-trash me-1"}),"Delete"]})]})})]},D._id)))})]})})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-6 rounded-lg shadow-md pink-section",style:{background:"linear-gradient(135deg, #fce4ec 0%, #f8bbd0 100%)",border:"2px solid #f06a98"},children:[n.jsx("h2",{className:"text-xl font-semibold mb-4 text-center",style:{color:"#c2185b",fontSize:"1.5rem",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0,0,0,0.1)"},children:$e?"Edit Payroll Record":"Add New Payroll"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"flex justify-end mb-0",children:n.jsxs("button",{type:"button",onClick:jt,className:"btn btn-pink px-3 py-2 rounded-lg text-sm",style:{backgroundColor:"#f06a98",color:"white",border:"none",whiteSpace:"nowrap",minWidth:"150px",flex:"0 0 auto",width:"auto"},children:[n.jsx("i",{className:"fas fa-minus-circle me-2"}),"Mandatory Deduction"]})}),n.jsxs("div",{className:"mb-3",children:[n.jsx("div",{className:"flex justify-between items-center mb-2",children:n.jsx("label",{className:"block font-medium",style:{color:"#c2185b",fontSize:"1.1rem",fontWeight:"600"},children:"Select Employee"})}),n.jsxs("div",{style:{position:"relative",width:"100%"},children:[n.jsxs("select",{onChange:D=>{const $=D.target.value;if($==="ALL")j(!0),f(null),qe({employeeName:"",salary:"",deductions:"",netSalary:0});else{j(!1);const U=m.find(X=>X._id===$);U&&lr(U)}},className:"w-full border border-blue-300 rounded p-3 focus:ring-2 focus:ring-blue-500",style:{color:"black",paddingRight:h?"2.5rem":void 0,fontSize:"1rem",padding:"14px",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},value:k?"ALL":(h==null?void 0:h._id)||"",onMouseEnter:D=>{D.target.style.transform="scale(1.01)",D.target.style.boxShadow="0 4px 8px rgba(240, 106, 152, 0.3)"},onMouseLeave:D=>{D.target.style.transform="scale(1)",D.target.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[n.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Choose an employee"}),n.jsx("option",{value:"ALL",style:{color:"black"},disabled:!!$e,children:"All Employees"}),m.map(D=>n.jsxs("option",{value:D._id,style:{color:"black"},children:[D.firstName," ",D.lastName," | ID: ",D.employeeId||""," | Contact: ",D.contactNumber||"N/A"," | ",D.hireDate?new Date(D.hireDate).toLocaleDateString():"No Date"]},D._id))]}),(h||k)&&n.jsx("button",{type:"button",onClick:()=>{f(null),j(!1),qe({employeeName:"",salary:"",deductions:"",netSalary:0})},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"black",fontSize:"1.2rem",cursor:"pointer",padding:0},"aria-label":"Clear Selection",children:n.jsx("i",{className:"fas fa-times"})})]})]}),n.jsx("div",{className:"flex justify-end mt-2 gap-2",children:n.jsxs("button",{type:"button",onClick:()=>c(!0),className:"btn btn-pink px-3 py-2 rounded-lg text-sm",style:{backgroundColor:"#f06a98",color:"white",border:"none",whiteSpace:"nowrap",minWidth:"150px",flex:"0 0 auto",width:"auto"},children:[n.jsx("i",{className:"fas fa-file-invoice me-2"}),"Payslip"]})})]}),h&&n.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-green-800",style:{color:"black"},children:"Automatic Calculation Summary"}),n.jsxs("p",{className:"text-sm",style:{color:"black"},children:["Employee ID: ",n.jsx("strong",{children:h.employeeId||""})," | Contact: ",n.jsx("strong",{children:h.contactNumber||"N/A"})," | Status: ",n.jsx("strong",{className:h.status==="regular"?"text-green-600":"text-orange-600",children:h.status==="regular"?"Regular":"On Call"})]})]}),n.jsxs("div",{className:"flex items-center text-sm",style:{color:"black"},children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Live Update"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-green-200",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",(()=>{const $=t.filter(U=>U.employeeId===h.employeeId||U.employeeName===`${h.firstName} ${h.lastName}`).sort((U,X)=>new Date(X.createdAt||X.date)-new Date(U.createdAt||U.date))[0];return(($==null?void 0:$.salary)||S[h._id]||0).toLocaleString()})()]}),n.jsx("div",{className:"text-sm text-green-700",children:"Employee Salary"}),n.jsx("div",{className:"text-xs text-green-500 mt-1",children:t.filter($=>$.employeeId===h.employeeId||$.employeeName===`${h.firstName} ${h.lastName}`).length>0?"From Latest Payroll Record":"From Current Week Attendance"})]}),n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-red-200",children:[n.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["",(()=>{const $=t.filter(U=>U.employeeId===h.employeeId||U.employeeName===`${h.firstName} ${h.lastName}`).sort((U,X)=>new Date(X.createdAt||X.date)-new Date(U.createdAt||U.date))[0];return(($==null?void 0:$.deductions)||et(h)).toLocaleString()})()]}),n.jsx("div",{className:"text-sm text-red-700",children:"Cash Advances"}),n.jsx("div",{className:"text-xs text-red-500 mt-1",children:t.filter($=>$.employeeId===h.employeeId||$.employeeName===`${h.firstName} ${h.lastName}`).length>0?"From Latest Payroll Record":"From Cash Advance Page"})]}),n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-blue-200",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",style:{color:"black"},children:["",(()=>{const $=t.filter(U=>U.employeeId===h.employeeId||U.employeeName===`${h.firstName} ${h.lastName}`).sort((U,X)=>new Date(X.createdAt||X.date)-new Date(U.createdAt||U.date))[0];return $?$.netSalary.toLocaleString():((S[h._id]||0)-et(h)).toLocaleString()})()]}),n.jsx("div",{className:"text-sm text-blue-700",style:{color:"black"},children:"Net Pay"}),n.jsx("div",{className:"text-xs text-blue-500 mt-1",style:{color:"black"},children:"Auto-Calculated"})]})]})]}),k&&n.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-800",style:{color:"black"},children:"Batch Calculation Summary (All Employees)"}),n.jsxs("p",{className:"text-sm text-blue-600",children:["Employees selected: ",n.jsx("strong",{children:m.length})]})]}),n.jsxs("div",{className:"flex items-center text-sm text-blue-600",style:{color:"black"},children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2 animate-pulse"}),"Live Update"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-blue-200",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["",m.reduce((D,$)=>D+(S[$._id]||0),0).toLocaleString()]}),n.jsx("div",{className:"text-sm text-blue-700",children:"Total Salaries"})]}),n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-red-200",children:[n.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["",m.reduce((D,$)=>D+et($),0).toLocaleString()]}),n.jsx("div",{className:"text-sm text-red-700",children:"Total Cash Advances"})]}),n.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border border-green-200",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",m.reduce((D,$)=>D+((S[$._id]||0)-et($)),0).toLocaleString()]}),n.jsx("div",{className:"text-sm text-green-700",children:"Total Net Pay"})]})]})]}),$e&&n.jsxs("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3 text-yellow-800",children:"Edit Payroll Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-4",style:{background:"#fac1cc",padding:"16px",borderRadius:"8px"},children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"black"},children:"Employee Name"}),n.jsx("input",{name:"employeeName",value:we.employeeName,onChange:_e,placeholder:"Employee Name",className:"w-full border border-gray-300 rounded p-3 focus:ring-2 focus:ring-blue-500",style:{color:"black"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"black"},children:"Salary"}),n.jsx("input",{name:"salary",value:we.salary,onChange:_e,placeholder:"Salary",type:"number",min:"0",step:"0.01",className:"w-full border border-gray-300 rounded p-3 focus:ring-2 focus:ring-blue-500",style:{color:"black"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"black"},children:"Deductions"}),n.jsx("input",{name:"deductions",value:we.deductions,onChange:_e,placeholder:"Deductions",type:"number",min:"0",step:"0.01",className:"w-full border border-gray-300 rounded p-3 focus:ring-2 focus:ring-blue-500",style:{color:"black"},required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"black"},children:"Net Salary"}),n.jsx("input",{name:"netSalary",value:we.netSalary,readOnly:!0,className:"w-full border border-gray-300 rounded p-3 bg-gray-50",style:{color:"black"}})]})]})]}),n.jsxs("div",{className:"flex gap-4",children:[(h||k||$e)&&n.jsx("button",{type:"button",onClick:H,className:"btn btn-pink px-3 py-2.5 rounded-lg text-sm",style:{backgroundColor:"#f06a98",color:"white",border:"none"},children:$e?"Update Payroll":"Add Payroll"}),$e&&n.jsx("button",{type:"button",onClick:De,className:"bg-gray-300 text-gray-700 px-3 py-2.5 rounded-lg hover:bg-gray-400 transition duration-300 text-sm",children:"Cancel Edit"})]})]}),i&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-4 md:p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-800",children:"View Payslip"}),n.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx("i",{className:"fas fa-times text-xl"})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-gray-600 mb-2",children:"Select an employee to view payslip:"}),n.jsx("div",{className:"border rounded-lg max-h-96 overflow-y-auto",children:n.jsxs("table",{className:"min-w-full table-auto text-sm",children:[n.jsx("thead",{className:"bg-gray-100 sticky top-0",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Employee ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Contact"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Action"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:A().map(D=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:D.employeeId||"N/A"}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border",children:[D.firstName," ",D.lastName]}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:D.contactNumber||"N/A"}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${D.status==="regular"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:D.status==="regular"?"Regular":D.status==="oncall"?"On Call":"Unknown"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("button",{onClick:()=>xe(D),className:"bg-blue-500 text-white px-3 py-1 rounded text-xs hover:bg-blue-600 transition duration-200",children:"View"})})]},D._id))})]})})]}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx("button",{onClick:()=>c(!1),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition duration-300 mr-2",children:"Close"})})]})})}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-4 md:p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-800",children:"Mandatory Deductions"}),n.jsx("button",{onClick:()=>u(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx("i",{className:"fas fa-times text-xl"})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Manage mandatory deductions for employees:"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[n.jsx("h4",{className:"text-lg font-semibold mb-3 text-gray-700",children:"Add Mandatory Deduction"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee"}),n.jsxs("select",{className:"w-full border border-gray-300 rounded p-2",children:[n.jsx("option",{value:"",children:"Select Employee"}),m.map(D=>n.jsxs("option",{value:D._id,children:[D.firstName," ",D.lastName," - ",D.employeeId]},D._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deduction Type"}),n.jsxs("select",{className:"w-full border border-gray-300 rounded p-2",children:[n.jsx("option",{value:"",children:"Select Type"}),n.jsx("option",{value:"sss",children:"SSS Contribution"}),n.jsx("option",{value:"philhealth",children:"PhilHealth"}),n.jsx("option",{value:"pagibig",children:"Pag-IBIG"}),n.jsx("option",{value:"tax",children:"Withholding Tax"}),n.jsx("option",{value:"insurance",children:"Insurance"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),n.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded p-2",placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effective Date"}),n.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded p-2"})]})]}),n.jsx("div",{className:"mt-4",children:n.jsxs("button",{className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition duration-300",children:[n.jsx("i",{className:"fas fa-plus me-2"}),"Add Deduction"]})})]}),n.jsx("div",{className:"border rounded-lg",children:n.jsxs("table",{className:"min-w-full table-auto text-sm",children:[n.jsx("thead",{className:"bg-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Employee"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Effective Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"px-4 py-4 text-center text-gray-500",children:"No mandatory deductions added yet"})})})]})})]}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx("button",{onClick:()=>u(!1),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition duration-300 mr-2",children:"Close"})})]})})}),n.jsxs("div",{className:"overflow-x-auto bg-white p-4 rounded-lg shadow-md mt-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-700",children:["Payroll Records - ",J()]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[fe.length," record",fe.length!==1?"s":""," found"]})]}),n.jsxs("div",{className:"mb-4 d-flex gap-3 align-items-center flex-wrap",children:[n.jsxs("div",{className:"input-group",style:{maxWidth:"400px"},children:[n.jsx("span",{className:"input-group-text",children:n.jsx("i",{className:"fas fa-search"})}),n.jsx("input",{type:"text",className:"form-control",placeholder:"Search by name or employee ID...",value:ee,onChange:D=>ue(D.target.value)})]}),n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Filter by:"}),n.jsxs("select",{value:ge,onChange:D=>ye(D.target.value),className:"border border-gray-300 rounded p-2 focus:ring-2 focus:ring-blue-500",style:{color:"black"},children:[n.jsx("option",{value:"",children:"Select filter..."}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"Week"}),n.jsx("option",{value:"month",children:"Month"}),n.jsx("option",{value:"year",children:"Year"})]})]}),(ge==="week"||ge==="month")&&n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:ge==="week"?"Select Week:":"Select Month:"}),n.jsx("input",{type:ge==="week"?"week":"month",value:Ee,onChange:M,className:"border border-gray-300 rounded p-2 focus:ring-2 focus:ring-blue-500",style:{color:"black"},title:ge==="week"?"Select a week":"Select a month"})]}),ge==="year"&&n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Select Year:"}),n.jsxs("select",{value:W,onChange:T,className:"border border-gray-300 rounded p-2 focus:ring-2 focus:ring-blue-500",style:{color:"black",minWidth:"120px"},children:[n.jsx("option",{value:"",children:"Select year..."}),he.map(D=>n.jsx("option",{value:D,children:D},D))]})]}),P()&&n.jsxs("button",{onClick:Y,className:"btn btn-outline-secondary",style:{padding:"10px 20px",fontSize:"1rem",borderRadius:"8px"},children:[n.jsx("i",{className:"fas fa-times me-2"}),"Clear Filters"]}),n.jsxs("button",{onClick:()=>o(!l),className:"btn",style:{backgroundColor:l?"#6c757d":"#f06a98",border:"none",color:"#ffffff",padding:"10px 20px",fontSize:"1rem",borderRadius:"8px",flex:"0 0 auto",width:"auto",whiteSpace:"nowrap"},children:[n.jsx("i",{className:"fas fa-archive me-2"}),l?"Back to Main":"View Archive"]})]}),n.jsxs("div",{style:{overflowX:"auto",width:"100%"},children:[n.jsxs("table",{className:"min-w-full table-auto text-sm",style:{fontSize:"0.875rem",minWidth:"1000px",width:"100%"},children:[n.jsx("thead",{className:"bg-gray-100 text-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"#"}),n.jsxs("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>mt("employeeId"),children:["Employee ID ",wt("employeeId")]}),n.jsxs("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>mt("employeeName"),children:["Employee Name ",wt("employeeName")]}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Contact"}),n.jsxs("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>mt("status"),children:["Status ",wt("status")]}),n.jsxs("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>mt("salary"),children:["Salary ",wt("salary")]}),n.jsxs("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>mt("deductions"),children:["Cash Advances ",wt("deductions")]}),n.jsxs("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>mt("netSalary"),children:["Net Salary ",wt("netSalary")]}),n.jsxs("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>mt("date"),children:["Date ",wt("date")]}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Actions"})]})}),n.jsx("tbody",{className:"text-gray-700 divide-y divide-gray-200",children:Rr(fe).map((D,$)=>{const U=m.find(X=>X.employeeId===D.employeeId||`${X.firstName} ${X.lastName}`===D.employeeName);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:$+1}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:D.employeeId||"N/A"}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:D.employeeName}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:(U==null?void 0:U.contactNumber)||"N/A"}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${(U==null?void 0:U.status)==="regular"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:(U==null?void 0:U.status)==="regular"?"Regular":(U==null?void 0:U.status)==="oncall"?"On Call":"Unknown"})}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border",children:["",D.salary.toFixed(2)]}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border",children:["",D.deductions.toFixed(2)]}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border",children:["",D.netSalary.toFixed(2)]}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:(()=>{const X=D.endDate||D.cutoffDate||D.createdAt;if(X)try{return new Date(X).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return new Date().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}return new Date().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})()}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("div",{className:"flex space-x-1",children:n.jsxs("button",{onClick:()=>G(D._id),className:"bg-blue-500 text-white px-3 py-2 rounded text-xs hover:bg-blue-600 transition duration-200",title:"Archive Payroll Record",children:[n.jsx("i",{className:"fas fa-archive me-1"}),"Archive"]})})})]},D._id)})})]}),fe.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:ee?"No payroll records found matching your search":"No payroll records found"})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 p-6 rounded-lg shadow-md mt-6",children:[n.jsxs("div",{className:"cursor-pointer flex items-start",onClick:()=>R(!g),children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("i",{className:"fas fa-info-circle text-blue-500 text-3xl"})}),n.jsx("div",{className:"ml-4 flex-1",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[n.jsx("i",{className:"fas fa-exclamation-triangle text-yellow-500 mr-2"}),"Important Notice: Payroll Rules & Parameters"]}),n.jsx("i",{className:`fas fa-chevron-${g?"up":"down"} text-blue-600 text-xl`})]})})]}),g&&n.jsxs("div",{className:"ml-4 mt-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[n.jsx("i",{className:"fas fa-calendar-week text-blue-500 mr-2"}),"Work Week Schedule"]}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-check-circle text-green-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Work Days:"})," Monday to Saturday (6 days)"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-times-circle text-red-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"No Work:"})," Sunday is rest day (no work scheduled)"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-clock text-blue-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Work Hours:"})," 8:00 AM - 5:00 PM (8 hours + 1 hour lunch break)"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-stopwatch text-orange-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Overtime:"})," Work beyond 8 hours or after 5:00 PM"]})]})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[n.jsx("i",{className:"fas fa-calendar-check text-green-500 mr-2"}),"Payroll Period & Payment"]}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-arrow-right text-blue-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Pay Period:"})," Monday to Saturday (weekly)"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-cut text-red-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Cut-off Day:"})," Every Sunday (payroll calculation)"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-money-bill-wave text-green-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Payment Day:"})," Following Monday (salary release)"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-info-circle text-blue-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Example:"})," Work Oct 13-18 (Mon-Sat)  Cut-off Oct 19 (Sun)  Pay Oct 20 (Mon)"]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[n.jsx("i",{className:"fas fa-calculator text-purple-500 mr-2"}),"Salary Calculation Rules"]}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-coins text-yellow-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Current Rate:"})," ",se.dailyRate,"/day, ",se.hourlyRate,"/hr, ",se.overtimeRate,"/hr OT"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-sun text-yellow-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Full Day:"})," 6.5-8 hours worked = 100% daily rate (",se.dailyRate,")"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-cloud-sun text-orange-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Half Day:"})," 4-6.5 hours worked = Variable pay by actual hours"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-moon text-blue-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Overtime:"})," Hours beyond 8 hours  ",se.overtimeRate,"/hr"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-times text-red-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Invalid:"})," Less than 4 hours worked = No pay (0%)"]})]})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[n.jsx("i",{className:"fas fa-hand-holding-usd text-red-500 mr-2"}),"Deductions & Cash Advance"]}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-piggy-bank text-pink-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Cash Advance:"})," Automatically deducted from weekly payroll"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-receipt text-blue-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Mandatory Deductions:"})," Government-required deductions (if applicable)"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-calculator text-green-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Net Salary:"})," Gross Salary - Total Deductions"]})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-chart-line text-purple-500 mr-2 mt-1"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Formula:"})," (Work Days  Daily Rate) + (OT Hours  OT Rate) - Deductions"]})]})]})]})]})]}),n.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded",children:n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("i",{className:"fas fa-bell text-yellow-500 mr-2"}),n.jsx("strong",{children:"Note:"})," All salary calculations are based on actual attendance records from the Attendance page. Salary rates are set in the Salary Management page and automatically applied to all payroll calculations. Cash advances from the Cash Advance page are automatically deducted from weekly payroll."]})})]})]})]})})]})})]})]})},db=()=>{const e=_a();return x.useEffect(()=>{localStorage.removeItem("token"),e("/")},[e]),n.jsx("div",{children:"Logging out..."})},Wh=async(e,t={})=>{const{maxSizeMB:r=.2,maxWidthOrHeight:a=800,quality:s=.8,fileType:l="image/jpeg"}=t;return new Promise((o,i)=>{const c=new FileReader;c.onload=d=>{const u=new Image;u.onload=()=>{try{let m=u.width,y=u.height;(m>a||y>a)&&(m>y?(y=Math.round(y*a/m),m=a):(m=Math.round(m*a/y),y=a));const w=document.createElement("canvas");w.width=m,w.height=y,w.getContext("2d").drawImage(u,0,0,m,y);const S=w.toDataURL(l,s),b=Math.round(S.length*3/4/1024);if(F.log(`Image compressed: ${Math.round(e.size/1024)}KB  ${b}KB`),b>r*1024&&s>.5){F.warn("Image still too large, reducing quality..."),Wh(e,{...t,quality:s-.1}).then(o).catch(i);return}o(S)}catch(m){F.error("Error compressing image:",m),i(m)}},u.onerror=()=>{i(new Error("Failed to load image"))},u.src=d.target.result},c.onerror=()=>{i(new Error("Failed to read file"))},c.readAsDataURL(e)})},ub=(e,t={})=>{const{maxSizeMB:r=10,allowedTypes:a=["image/jpeg","image/jpg","image/png","image/webp"]}=t;return e?a.includes(e.type.toLowerCase())?e.size>r*1024*1024?{valid:!1,error:`File size exceeds ${r}MB limit`}:{valid:!0,error:null}:{valid:!1,error:`Invalid file type. Allowed: ${a.join(", ")}`}:{valid:!1,error:"No file selected"}},Pf=e=>{if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(t));return Math.round(e/Math.pow(t,a)*100)/100+" "+r[a]},fb=({employeeId:e,onClose:t,onPasswordChanged:r,onSuccess:a})=>{const[s,l]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[o,i]=x.useState({current:!1,new:!1,confirm:!1}),[c,d]=x.useState(!1),[u,m]=x.useState({}),y=b=>{i(h=>({...h,[b]:!h[b]}))},w=b=>{const{name:h,value:f}=b.target;l(p=>({...p,[h]:f})),u[h]&&m(p=>({...p,[h]:""}))},v=()=>{const b={};return s.currentPassword||(b.currentPassword="Current password is required"),s.newPassword?s.newPassword.length<6?b.newPassword="Password must be at least 6 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(s.newPassword)||(b.newPassword="Password must contain uppercase, lowercase, and number"):b.newPassword="New password is required",s.confirmPassword?s.newPassword!==s.confirmPassword&&(b.confirmPassword="Passwords do not match"):b.confirmPassword="Please confirm your new password",m(b),Object.keys(b).length===0},S=async b=>{if(b.preventDefault(),!!v()){d(!0);try{const h=await Ot.changePassword(e,{currentPassword:s.currentPassword,newPassword:s.newPassword});if(h.error)pe.error(h.error);else{pe.success("Password changed successfully!");const f=JSON.parse(localStorage.getItem("currentEmployee")||"{}");f.passwordChanged=!0,localStorage.setItem("currentEmployee",JSON.stringify(f)),a?a():r&&r(),t()}}catch(h){logger.error("Change password error:",h)}finally{d(!1)}}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Change Password"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(Gv,{size:20})})]}),n.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[n.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"For security, please change your temporary password to a strong one."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(hn,{className:"text-gray-400"})}),n.jsx("input",{type:o.current?"text":"password",name:"currentPassword",value:s.currentPassword,onChange:w,className:`block w-full pl-10 pr-10 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 ${u.currentPassword?"border-red-300":"border-gray-300"}`,placeholder:"Enter current password"}),n.jsx("button",{type:"button",onClick:()=>y("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.current?n.jsx(Lr,{className:"text-gray-400 hover:text-gray-600"}):n.jsx(Dr,{className:"text-gray-400 hover:text-gray-600"})})]}),u.currentPassword&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.currentPassword})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(hn,{className:"text-gray-400"})}),n.jsx("input",{type:o.new?"text":"password",name:"newPassword",value:s.newPassword,onChange:w,className:`block w-full pl-10 pr-10 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 ${u.newPassword?"border-red-300":"border-gray-300"}`,placeholder:"Enter new password"}),n.jsx("button",{type:"button",onClick:()=>y("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.new?n.jsx(Lr,{className:"text-gray-400 hover:text-gray-600"}):n.jsx(Dr,{className:"text-gray-400 hover:text-gray-600"})})]}),u.newPassword&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.newPassword}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Password must be at least 6 characters with uppercase, lowercase, and number."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(hn,{className:"text-gray-400"})}),n.jsx("input",{type:o.confirm?"text":"password",name:"confirmPassword",value:s.confirmPassword,onChange:w,className:`block w-full pl-10 pr-10 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 ${u.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"Confirm new password"}),n.jsx("button",{type:"button",onClick:()=>y("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.confirm?n.jsx(Lr,{className:"text-gray-400 hover:text-gray-600"}):n.jsx(Dr,{className:"text-gray-400 hover:text-gray-600"})})]}),u.confirmPassword&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.confirmPassword})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-md hover:bg-gray-300 transition-colors",disabled:c,children:"Cancel"}),n.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:c,children:c?"Changing...":"Change Password"})]})]})]})})},mb=({isOpen:e,onClick:t})=>n.jsxs("button",{className:`hamburger-menu ${e?"open":""}`,onClick:t,"aria-label":e?"Close menu":"Open menu","aria-expanded":e,type:"button",children:[n.jsx("span",{className:"hamburger-line"}),n.jsx("span",{className:"hamburger-line"}),n.jsx("span",{className:"hamburger-line"})]}),Tf=({status:e})=>{const r=(a=>{switch(a==null?void 0:a.toLowerCase()){case"regular":return{text:"Regular",bgColor:"bg-green-100",textColor:"text-green-800",borderColor:"border-green-200"};case"oncall":case"on-call":return{text:"On Call",bgColor:"bg-orange-100",textColor:"text-orange-800",borderColor:"border-orange-200"};case"probationary":return{text:"Probationary",bgColor:"bg-purple-100",textColor:"text-purple-800",borderColor:"border-purple-200"};default:return{text:"Regular",bgColor:"bg-green-100",textColor:"text-green-800",borderColor:"border-green-200"}}})(e);return n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${r.bgColor} ${r.textColor} ${r.borderColor}`,children:r.text})},pb=()=>{const[e,t]=x.useState(null),[r,a]=x.useState([]),[s,l]=x.useState([]),[o,i]=x.useState([]),[c,d]=x.useState(!0),[u,m]=x.useState("profile"),[y,w]=x.useState(""),[v,S]=x.useState(""),[b,h]=x.useState(""),[f,p]=x.useState(""),[N,k]=x.useState({key:"date",direction:"desc"}),[j,g]=x.useState(null),[R,V]=x.useState(!1),[O,ee]=x.useState(!1),[ue,ne]=x.useState(!1),[ge,ye]=x.useState(!1),Ee=x.useRef(null),He=I=>!I||I.length===0?[]:I.map(C=>{const L=C.date||C.timeIn,J=C.timeIn?new Date(C.timeIn).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"-",Y=C.timeOut?new Date(C.timeOut).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"-";let P="unknown";return C.dayType?P=C.dayType.toLowerCase().replace(" ","-"):C.status?P=C.status.toLowerCase():C.timeIn&&C.timeOut?P="present":C.timeIn&&!C.timeOut?P="incomplete":C.timeIn||(P="absent"),{_id:C._id,date:L,timeIn:J,timeOut:Y,status:P,actualHoursWorked:C.actualHoursWorked||0,dayType:C.dayType||C.status}}),W=(I,C)=>{const L=new Date(C,0,1),J=(I-1)*7,Y=new Date(L);Y.setDate(L.getDate()+J-L.getDay());const P=new Date(Y);return P.setDate(Y.getDate()+6),{start:Y,end:P}},de=(I,C)=>{if(!C)return I;const L=new Date(C),J=L.getFullYear(),Y=L.getMonth();return I.filter(P=>{const M=new Date(P.date);return M.getFullYear()===J&&M.getMonth()===Y})},he=(I,C)=>{if(!C)return I;const[L,J]=C.split("-W"),Y=W(parseInt(J),parseInt(L));return I.filter(P=>{const M=new Date(P.date);return M>=Y.start&&M<=Y.end})},ke=(I,C)=>{if(!C)return I;const L=new Date(C),J=L.getFullYear(),Y=L.getMonth();return I.filter(P=>{const M=new Date(P.createdAt||P.updatedAt||Date.now());return M.getFullYear()===J&&M.getMonth()===Y})},fe=(I,C)=>{if(!C)return I;const[L,J]=C.split("-W"),Y=W(parseInt(J),parseInt(L));return I.filter(P=>{const M=new Date(P.createdAt||P.updatedAt||Date.now());return M>=Y.start&&M<=Y.end})},Je=(I,C)=>{if(!C)return I;const L=new Date(C),J=L.getFullYear(),Y=L.getMonth();return I.filter(P=>{const M=new Date(P.date);return M.getFullYear()===J&&M.getMonth()===Y})},K=(I,C)=>{if(!C)return I;const[L,J]=C.split("-W"),Y=W(parseInt(J),parseInt(L));return I.filter(P=>{const M=new Date(P.date);return M>=Y.start&&M<=Y.end})},Z=(I,C)=>{if(f==="month"&&v){if(C==="attendance")return de(I,v);if(C==="payroll")return ke(I,v);if(C==="deductions")return Je(I,v)}else if(f==="week"&&b){if(C==="attendance")return he(I,b);if(C==="payroll")return fe(I,b);if(C==="deductions")return K(I,b)}return I},se=I=>I.includes("September 17")&&I.includes("September 23")?[{date:"2025-09-17",salary:550,cashAdvance:0,netSalary:550},{date:"2025-09-18",salary:550,cashAdvance:0,netSalary:550},{date:"2025-09-19",salary:550,cashAdvance:1e3,netSalary:-450},{date:"2025-09-20",salary:550,cashAdvance:0,netSalary:550},{date:"2025-09-21",salary:550,cashAdvance:0,netSalary:550},{date:"2025-09-22",salary:550,cashAdvance:0,netSalary:550},{date:"2025-09-23",salary:550,cashAdvance:0,netSalary:550}]:I.includes("September 24")&&I.includes("September 30")?[{date:"2025-09-24",salary:550,cashAdvance:0,netSalary:550},{date:"2025-09-25",salary:550,cashAdvance:0,netSalary:550},{date:"2025-09-26",salary:550,cashAdvance:1e3,netSalary:-450},{date:"2025-09-27",salary:550,cashAdvance:1e3,netSalary:-450},{date:"2025-09-28",salary:550,cashAdvance:0,netSalary:550},{date:"2025-09-29",salary:550,cashAdvance:1e3,netSalary:-450},{date:"2025-09-30",salary:550,cashAdvance:1e3,netSalary:-450}]:I.includes("October 1")&&I.includes("October 7")?[{date:"2025-10-01",salary:550,cashAdvance:1e3,netSalary:-450},{date:"2025-10-02",salary:550,cashAdvance:0,netSalary:550},{date:"2025-10-03",salary:550,cashAdvance:1e3,netSalary:-450},{date:"2025-10-04",salary:550,cashAdvance:0,netSalary:550},{date:"2025-10-05",salary:550,cashAdvance:1e3,netSalary:-450},{date:"2025-10-06",salary:550,cashAdvance:0,netSalary:550},{date:"2025-10-07",salary:550,cashAdvance:1e3,netSalary:-450}]:I.includes("October 8")&&I.includes("October 14")?[{date:"2025-10-08",salary:550,cashAdvance:0,netSalary:550},{date:"2025-10-09",salary:550,cashAdvance:1e3,netSalary:-450},{date:"2025-10-10",salary:550,cashAdvance:0,netSalary:550},{date:"2025-10-11",salary:550,cashAdvance:0,netSalary:550},{date:"2025-10-12",salary:550,cashAdvance:1e3,netSalary:-450},{date:"2025-10-13",salary:550,cashAdvance:0,netSalary:550},{date:"2025-10-14",salary:550,cashAdvance:1e3,netSalary:-450}]:I.includes("October 15")&&I.includes("October 21")?[{date:"2025-10-15",salary:550,cashAdvance:0,netSalary:550},{date:"2025-10-16",salary:550,cashAdvance:1e3,netSalary:-450},{date:"2025-10-17",salary:550,cashAdvance:0,netSalary:550},{date:"2025-10-18",salary:550,cashAdvance:0,netSalary:550},{date:"2025-10-19",salary:550,cashAdvance:0,netSalary:550},{date:"2025-10-20",salary:550,cashAdvance:1e3,netSalary:-450},{date:"2025-10-21",salary:550,cashAdvance:0,netSalary:550}]:[],ae=(I,C="date")=>{if(!I||!Array.isArray(I))return[];let L=[...I];return N.key&&L.sort((J,Y)=>{let P,M;switch(N.key){case"date":P=new Date(J[C]||J.createdAt),M=new Date(Y[C]||Y.createdAt);break;case"amount":P=J.amount,M=Y.amount;break;case"salary":P=J.salary,M=Y.salary;break;case"deductions":P=J.deductions,M=Y.deductions;break;case"netSalary":P=J.netSalary,M=Y.netSalary;break;default:return 0}return P<M?N.direction==="asc"?-1:1:P>M?N.direction==="asc"?1:-1:0}),L},we=I=>{k(C=>({key:I,direction:C.key===I&&C.direction==="asc"?"desc":"asc"}))},qe=(I=null)=>{const C=window.open("","_blank"),L=I||e.payroll[0];C.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Payslip - ${e.firstName} ${e.lastName}</title>
          <style>
            body { 
              font-family: 'Arial', sans-serif; 
              margin: 0;
              padding: 20px;
              color: #000000;
              background: white;
            }
            .payslip-container {
              max-width: 800px;
              margin: 0 auto;
              border: 2px solid #000000;
              padding: 25px;
              background: white;
            }
            .header-section {
              text-align: center;
              margin-bottom: 25px;
              border-bottom: 2px solid #000000;
              padding-bottom: 20px;
            }
            .logo {
              max-width: 150px;
              margin-bottom: 10px;
            }
            .payslip-title {
              font-size: 24px;
              font-weight: bold;
              margin: 10px 0 5px 0;
              color: #000000;
            }
            .employee-name {
              font-size: 18px;
              font-weight: bold;
              color: #000000;
              margin-bottom: 5px;
            }
            .period-info {
              font-size: 14px;
              color: #000000;
              margin: 5px 0;
            }
            .details-section {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
              margin-bottom: 25px;
            }
            .employee-details, .payroll-details {
              padding: 15px;
              background: #f8f9fa;
              border-radius: 4px;
              border: 1px solid #dddddd;
            }
            .section-title {
              font-size: 16px;
              font-weight: bold;
              margin-bottom: 15px;
              color: #000000;
              border-bottom: 1px solid #000000;
              padding-bottom: 5px;
            }
            .detail-group {
              margin-bottom: 8px;
              display: flex;
              justify-content: space-between;
            }
            .detail-label {
              font-weight: bold;
              color: #000000;
              font-size: 13px;
            }
            .detail-value {
              color: #000000;
              font-size: 13px;
            }
            .summary-section {
              margin-top: 25px;
              padding: 20px;
              background: #f8f9fa;
              border-radius: 4px;
              border: 1px solid #dddddd;
            }
            .summary-row {
              display: flex;
              justify-content: space-between;
              margin-bottom: 8px;
              padding: 5px 0;
            }
            .summary-label {
              font-weight: bold;
              color: #000000;
              font-size: 14px;
            }
            .summary-value {
              font-weight: bold;
              color: #000000;
              font-size: 14px;
            }
            .total-row {
              border-top: 2px solid #000000;
              padding-top: 10px;
              margin-top: 10px;
              font-size: 16px;
            }
            .negative {
              color: #000000;
            }
            .footer {
              margin-top: 30px;
              text-align: center;
              font-size: 11px;
              color: #000000;
              border-top: 1px solid #000000;
              padding-top: 15px;
            }
            .signature-section {
              margin-top: 40px;
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
            }
            .signature-line {
              border-top: 1px solid #000000;
              margin-top: 60px;
              text-align: center;
              padding-top: 10px;
              font-size: 12px;
            }
            @media print {
              body { margin: 0; padding: 15px; }
              .payslip-container { border: none; padding: 0; }
            }
          </style>
        </head>
        <body>
          <div class="payslip-container">
            <div class="header-section">
              <img src="${Ro}" alt="Company Logo" class="logo" onerror="this.style.display='none'">
              <div class="payslip-title">EMPLOYEE PAYSLIP</div>
              <div class="employee-name">${e.firstName} ${e.lastName}</div>
              <div class="period-info">Pay Period: ${L.period}</div>
              <div class="period-info">Date Generated: ${new Date().toLocaleDateString()}</div>
            </div>
            
            <div class="details-section">
              <div class="employee-details">
                <div class="section-title">Employee Information</div>
                <div class="detail-group">
                  <span class="detail-label">Employee ID:</span>
                  <span class="detail-value">${e.employeeId}</span>
                </div>
                <div class="detail-group">
                  <span class="detail-label">Full Name:</span>
                  <span class="detail-value">${e.firstName} ${e.lastName}</span>
                </div>
                <div class="detail-group">
                  <span class="detail-label">Position:</span>
                  <span class="detail-value">${e.status==="regular"?"Regular Employee":"On-Call Employee"}</span>
                </div>
                <div class="detail-group">
                  <span class="detail-label">Daily Rate:</span>
                  <span class="detail-value">550.00</span>
                </div>
              </div>
              
              <div class="payroll-details">
                <div class="section-title">Payroll Information</div>
                <div class="detail-group">
                  <span class="detail-label">Pay Period:</span>
                  <span class="detail-value">${L.period}</span>
                </div>
                <div class="detail-group">
                  <span class="detail-label">Payment Date:</span>
                  <span class="detail-value">${new Date().toLocaleDateString()}</span>
                </div>
                <div class="detail-group">
                  <span class="detail-label">Payment Method:</span>
                  <span class="detail-value">Bank Transfer</span>
                </div>
              </div>
            </div>
            
            <div class="summary-section">
              <div class="section-title">Salary Summary</div>
              <div class="summary-row">
                <span class="summary-label">Basic Salary (7 days):</span>
                <span class="summary-value">${L.salary.toLocaleString()}</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Cash Advances:</span>
                <span class="summary-value">-${L.deductions.toLocaleString()}</span>
              </div>
              <div class="summary-row total-row">
                <span class="summary-label">NET SALARY:</span>
                <span class="summary-value ${L.netSalary<0?"negative":""}">${L.netSalary.toLocaleString()}</span>
              </div>
            </div>

            <div class="signature-section">
              <div>
                <div class="signature-line">
                  <div>Employee's Signature</div>
                </div>
              </div>
              <div>
                <div class="signature-line">
                  <div>Authorized Signature</div>
                </div>
              </div>
            </div>
            
            <div class="footer">
              This is a computer-generated document. No signature is required.<br>
              For inquiries, please contact HR Department.
            </div>
          </div>
        </body>
      </html>
    `),C.document.close(),C.focus(),setTimeout(()=>{C.print(),C.close()},500)},$e=I=>{g(I),V(!0)},ft=()=>{p(""),S(""),h("")};x.useEffect(()=>{(async()=>{try{F.log(" fetchEmployeeData called - START"),F.log(" Call stack trace:",new Error().stack);const C=localStorage.getItem("currentEmployee");if(!C){pe.error("No employee data found. Please login again."),window.location.href="/";return}const L=JSON.parse(C);F.log(" Employee data from localStorage:",{id:L._id,hasProfilePicture:!!L.profilePicture,profilePictureLength:L.profilePicture?L.profilePicture.length:0}),F.log(" Fetching fresh employee data from database for ID:",L._id);const J=await Ot.getById(L._id);if(J&&!J.error){F.log(" Fresh employee data fetched:",{id:J._id,hasProfilePicture:!!J.profilePicture,profilePictureLength:J.profilePicture?J.profilePicture.length:0});const Y={...J,profilePicture:J.profilePicture||L.profilePicture||null};F.log(" Merged employee data with preserved profile picture:",{hasProfilePicture:!!Y.profilePicture,profilePictureLength:Y.profilePicture?Y.profilePicture.length:0}),t(Y),localStorage.setItem("currentEmployee",JSON.stringify(Y)),F.log(" fetchEmployeeData completed - localStorage updated"),J.requiresPasswordChange&&ee(!0);const P=await Ls.getByEmployeeId(J.employeeId);if(!P.error){a(P);const T=He(P);l(T)}const M=await wa.getAll();if(!M.error){const T=M.filter(A=>A.employeeId===J.employeeId);i(T)}}else{F.error(" Failed to fetch fresh employee data, falling back to localStorage"),t(L),L.requiresPasswordChange&&ee(!0);const Y=await Ls.getByEmployeeId(L.employeeId);if(!Y.error){a(Y);const M=He(Y);l(M)}const P=await wa.getAll();if(!P.error){const M=P.filter(T=>T.employeeId===L.employeeId);i(M)}}}catch(C){F.error("Error fetching employee data:",C),pe.error("Failed to load employee data")}finally{d(!1)}})()},[]),x.useEffect(()=>{const I=Re.on("attendance-recorded",C=>{e&&C.employee&&C.employee.employeeId===e.employeeId&&fetchEmployeeData()});return()=>{I()}},[e]);const _e=I=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(I||0),Ke=I=>I?new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",Xt=()=>{ye(!1),localStorage.removeItem("currentEmployee"),localStorage.removeItem("userRole"),window.location.href="/"},_t=async I=>{const C=I.target.files[0];if(!C)return;const L=ub(C,{maxSizeMB:10,allowedTypes:["image/jpeg","image/jpg","image/png","image/webp"]});if(!L.valid){pe.error(L.error);return}ne(!0);try{F.log(`Original image size: ${Pf(C.size)}`);const J=await Wh(C,{maxSizeMB:.2,maxWidthOrHeight:800,quality:.8,fileType:"image/jpeg"});F.log(`Compressed image size: ~${Pf(J.length*.75)}`),F.log(` Sending profile picture to API for employee ${e.employeeId}`),F.log(` Compressed base64 length: ${J.length}`),F.log(` Compressed base64 preview: ${J.substring(0,50)}...`);const Y=await Ot.updateProfilePicture(e.employeeId,J);if(F.log(" API Response received:",Y),F.log(" Response has profilePicture:",!!Y.profilePicture),Y.profilePicture&&(F.log(` Response profilePicture length: ${Y.profilePicture.length}`),F.log(` Response profilePicture preview: ${Y.profilePicture.substring(0,50)}...`)),Y.error)pe.error(Y.error);else{const P={...e,profilePicture:Y.profilePicture};t(P),F.log(" Updated employee state with new profile picture"),localStorage.setItem("currentEmployee",JSON.stringify(P)),F.log(" Updated localStorage with new profile picture"),pe.success("Profile picture updated successfully!")}}catch(J){F.error("Error uploading profile picture:",J),pe.error("Failed to upload profile picture")}finally{ne(!1)}},et=()=>{var I;(I=Ee.current)==null||I.click()};if(c)return n.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"100vh",backgroundColor:"#f8f9fb"},children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"spinner-border text-primary",role:"status",children:n.jsx("span",{className:"visually-hidden",children:"Loading..."})}),n.jsx("p",{className:"mt-3",children:"Loading your dashboard..."})]})});const Ut=Z((e==null?void 0:e.deductions)||[],"deductions"),lr=Z(r||[],"attendance"),It=Z(o||[],"payroll");return n.jsxs("div",{className:"employee-dashboard-container",children:[n.jsx(mb,{isOpen:ge,onClick:()=>ye(!ge)}),ge&&n.jsx("div",{className:"sidebar-overlay",onClick:()=>ye(!1)}),n.jsxs("div",{className:`employee-sidebar ${ge?"sidebar-open":""}`,children:[n.jsx("h4",{className:"fw-bold mb-4",style:{color:"white",fontSize:"1.6rem",textAlign:"center"},children:"Employee Panel"}),n.jsxs("div",{className:"text-center mb-4 p-3 rounded",style:{backgroundColor:"rgba(255,255,255,0.1)"},children:[n.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[n.jsx("div",{style:{width:"90px",height:"90px",borderRadius:"50%",overflow:"hidden",border:"3px solid white",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",margin:"0 auto 15px",background:e!=null&&e.profilePicture?"transparent":"white",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:e!=null&&e.profilePicture?n.jsx("img",{src:e.profilePicture,alt:"Profile",loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}}):n.jsx(Zr,{style:{fontSize:"2.5rem",color:"#f06a98"}})}),n.jsx("button",{onClick:et,disabled:ue,style:{position:"absolute",bottom:"15px",right:"-5px",width:"32px",height:"32px",borderRadius:"50%",background:"white",border:"2px solid #f06a98",display:"flex",alignItems:"center",justifyContent:"center",cursor:ue?"not-allowed":"pointer",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",transition:"all 0.3s",opacity:ue?.6:1},onMouseOver:I=>{ue||(I.currentTarget.style.transform="scale(1.1)",I.currentTarget.style.background="#f8f8f8")},onMouseOut:I=>{I.currentTarget.style.transform="scale(1)",I.currentTarget.style.background="white"},children:ue?n.jsx("div",{className:"spinner-border spinner-border-sm",style:{color:"#f06a98",width:"14px",height:"14px"}}):n.jsx(Hv,{style:{fontSize:"0.8rem",color:"#f06a98"}})}),n.jsx("input",{ref:Ee,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:_t,style:{display:"none"}})]}),n.jsxs("h6",{className:"mb-1",style:{color:"white",fontSize:"1rem"},children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),n.jsx("p",{className:"mb-0",style:{color:"white",fontSize:"0.8rem",opacity:.8},children:e==null?void 0:e.employeeId}),n.jsx(Tf,{status:e==null?void 0:e.status})]}),n.jsxs("ul",{className:"nav flex-column px-3 py-2",children:[n.jsx("li",{className:"nav-item mb-2",children:n.jsxs("button",{className:`nav-link w-100 text-start d-flex align-items-center ${u==="profile"?"active":""}`,onClick:()=>{m("profile"),ye(!1)},style:{color:"white",fontSize:"0.95rem",fontWeight:u==="profile"?"600":"500",padding:"12px 16px",backgroundColor:u==="profile"?"rgba(255, 255, 255, 0.2)":"transparent",border:"none",borderRadius:"8px",transition:"all 0.2s ease"},onMouseOver:I=>{u!=="profile"&&(I.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)")},onMouseOut:I=>{u!=="profile"&&(I.currentTarget.style.backgroundColor="transparent")},children:[n.jsx(Zr,{className:"me-3",style:{fontSize:"1.1rem"}}),"Profile"]})}),n.jsx("li",{className:"nav-item mb-2",children:n.jsxs("button",{className:`nav-link w-100 text-start d-flex align-items-center ${u==="deductions"?"active":""}`,onClick:()=>{m("deductions"),ye(!1)},style:{color:"white",fontSize:"0.95rem",fontWeight:u==="deductions"?"600":"500",padding:"12px 16px",backgroundColor:u==="deductions"?"rgba(255, 255, 255, 0.2)":"transparent",border:"none",borderRadius:"8px",transition:"all 0.2s ease"},onMouseOver:I=>{u!=="deductions"&&(I.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)")},onMouseOut:I=>{u!=="deductions"&&(I.currentTarget.style.backgroundColor="transparent")},children:[n.jsx(Pl,{className:"me-3",style:{fontSize:"1.1rem"}}),"Cash Advance"]})}),n.jsx("li",{className:"nav-item mb-2",children:n.jsxs("button",{className:`nav-link w-100 text-start d-flex align-items-center ${u==="attendance"?"active":""}`,onClick:()=>{m("attendance"),ye(!1)},style:{color:"white",fontSize:"0.95rem",fontWeight:u==="attendance"?"600":"500",padding:"12px 16px",backgroundColor:u==="attendance"?"rgba(255, 255, 255, 0.2)":"transparent",border:"none",borderRadius:"8px",transition:"all 0.2s ease"},onMouseOver:I=>{u!=="attendance"&&(I.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)")},onMouseOut:I=>{u!=="attendance"&&(I.currentTarget.style.backgroundColor="transparent")},children:[n.jsx(Dl,{className:"me-3",style:{fontSize:"1.1rem"}}),"Attendance"]})}),n.jsx("li",{className:"nav-item mb-2",children:n.jsxs("button",{className:`nav-link w-100 text-start d-flex align-items-center ${u==="payslip"?"active":""}`,onClick:()=>{m("payslip"),ye(!1)},style:{color:"white",fontSize:"0.95rem",fontWeight:u==="payslip"?"600":"500",padding:"12px 16px",backgroundColor:u==="payslip"?"rgba(255, 255, 255, 0.2)":"transparent",border:"none",borderRadius:"8px",transition:"all 0.2s ease"},onMouseOver:I=>{u!=="payslip"&&(I.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)")},onMouseOut:I=>{u!=="payslip"&&(I.currentTarget.style.backgroundColor="transparent")},children:[n.jsx(Tl,{className:"me-3",style:{fontSize:"1.1rem"}}),"Payslip"]})}),n.jsx("li",{style:{borderTop:"1px solid rgba(255, 255, 255, 0.2)",margin:"15px 0"}}),n.jsx("li",{className:"nav-item mb-2",children:n.jsxs("button",{className:"nav-link w-100 text-start d-flex align-items-center",onClick:()=>ee(!0),style:{color:"white",fontSize:"0.95rem",fontWeight:"500",padding:"12px 16px",backgroundColor:"transparent",border:"none",borderRadius:"8px",transition:"all 0.2s ease"},onMouseOver:I=>{I.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)"},onMouseOut:I=>{I.currentTarget.style.backgroundColor="transparent"},children:[n.jsx(hn,{className:"me-3",style:{fontSize:"1.1rem"}}),"Change Password"]})}),n.jsx("li",{className:"nav-item mt-3",children:n.jsxs("button",{className:"nav-link w-100 text-start d-flex align-items-center",onClick:Xt,style:{color:"white",fontSize:"0.95rem",fontWeight:"500",padding:"12px 16px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",transition:"all 0.2s ease"},onMouseOver:I=>{I.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)"},onMouseOut:I=>{I.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)"},children:[n.jsx(xh,{className:"me-3",style:{fontSize:"1.1rem"}}),"Logout"]})})]})]}),n.jsx("div",{className:"employee-main-content",children:n.jsx("div",{className:"employee-content-wrapper",children:n.jsxs("div",{className:"card shadow-lg mb-4",style:{borderRadius:"15px",border:"none",background:"white",overflow:"hidden"},children:[n.jsxs("div",{style:{background:"#f06a98",color:"white",padding:"15px 30px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx(hb,{}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsxs("span",{style:{fontWeight:600,fontSize:"1.05rem",color:"white"},children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),n.jsx("br",{}),n.jsx("span",{style:{fontSize:"0.85rem",opacity:.9,color:"white"},children:(e==null?void 0:e.position)||"EMPLOYEE"})]})]}),n.jsx("div",{className:"card-header",style:{backgroundColor:"#f7fafc",borderRadius:0,padding:"25px 30px",borderBottom:"1px solid #e2e8f0"},children:n.jsx("div",{className:"d-flex justify-content-between align-items-center",children:n.jsxs("div",{children:[n.jsxs("h2",{className:"mb-2",style:{fontWeight:"700",color:"#2d3748",display:"flex",alignItems:"center",gap:12,fontSize:"1.8rem"},children:[n.jsx(Zr,{style:{color:"#f06a98"}}),"Employee Dashboard"]}),n.jsx("p",{className:"mb-0",style:{fontSize:"1rem",color:"#718096",fontWeight:"400"},children:"Welcome to your personal workspace"})]})})}),n.jsx("div",{className:"card-body",style:{padding:"20px"},children:n.jsx("div",{className:"row",children:n.jsxs("div",{className:"col-12",children:[u==="profile"&&n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200",children:[n.jsxs("h4",{className:"mb-4 text-xl font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx(Zr,{style:{color:"#f06a98"}}),"Personal Information"]}),n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsxs("div",{className:"mb-4 p-4 rounded-lg border border-gray-200 bg-gray-50",children:[n.jsxs("label",{className:"form-label fw-bold text-primary d-flex align-items-center gap-2",children:[n.jsx(Yv,{style:{color:"#f06a98"}}),"Employee ID"]}),n.jsx("p",{className:"fs-5 text-gray-800",children:(e==null?void 0:e.employeeId)||"N/A"})]}),n.jsxs("div",{className:"mb-4 p-4 rounded-lg border border-gray-200 bg-gray-50",children:[n.jsxs("label",{className:"form-label fw-bold text-primary d-flex align-items-center gap-2",children:[n.jsx(Zr,{style:{color:"#f06a98"}}),"Full Name"]}),n.jsxs("p",{className:"fs-5 text-gray-800",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]})]}),n.jsxs("div",{className:"mb-4 p-4 rounded-lg border border-gray-200 bg-gray-50",children:[n.jsxs("label",{className:"form-label fw-bold text-primary d-flex align-items-center gap-2",children:[n.jsx(Vv,{style:{color:"#f06a98"}}),"Email"]}),n.jsx("p",{className:"fs-6 text-gray-700",children:(e==null?void 0:e.email)||"N/A"})]})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsxs("div",{className:"mb-4 p-4 rounded-lg border border-gray-200 bg-gray-50",children:[n.jsxs("label",{className:"form-label fw-bold text-primary d-flex align-items-center gap-2",children:[n.jsx(Zr,{style:{color:"#f06a98"}}),"Status"]}),n.jsx("div",{className:"mt-1",children:n.jsx(Tf,{status:e==null?void 0:e.status})})]}),n.jsxs("div",{className:"mb-4 p-4 rounded-lg border border-gray-200 bg-gray-50",children:[n.jsxs("label",{className:"form-label fw-bold text-primary d-flex align-items-center gap-2",children:[n.jsx(Bv,{style:{color:"#f06a98"}}),"Hire Date"]}),n.jsx("p",{className:"fs-6 text-gray-700",children:Ke(e==null?void 0:e.hireDate)})]}),n.jsxs("div",{className:"mb-4 p-4 rounded-lg border border-gray-200 bg-gray-50",children:[n.jsxs("label",{className:"form-label fw-bold text-primary d-flex align-items-center gap-2",children:[n.jsx(Kv,{style:{color:"#f06a98"}}),"Contact Number"]}),n.jsx("p",{className:"fs-6 text-gray-700",children:(e==null?void 0:e.contactNumber)||"N/A"})]})]})]})]}),u==="deductions"&&n.jsxs("div",{className:"overflow-x-auto bg-white p-6 rounded-lg shadow-md border border-gray-200",children:[n.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:n.jsxs("h4",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx(Pl,{style:{color:"#f06a98"}}),"Your Cash Advance Records"]})}),n.jsxs("div",{className:"row mb-4",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label fw-bold",children:"Filter Type:"}),n.jsxs("select",{className:"form-select",value:f,onChange:I=>p(I.target.value),children:[n.jsx("option",{value:"",children:"Select Filter Type"}),n.jsx("option",{value:"week",children:"Filter by Week"}),n.jsx("option",{value:"month",children:"Filter by Month"})]})]}),n.jsxs("div",{className:"col-md-6",children:[f==="month"&&n.jsxs(n.Fragment,{children:[n.jsx("label",{className:"form-label fw-bold",children:"Filter by Month:"}),n.jsx("input",{type:"month",className:"form-control",value:v,onChange:I=>S(I.target.value)})]}),f==="week"&&n.jsxs(n.Fragment,{children:[n.jsx("label",{className:"form-label fw-bold",children:"Filter by Week:"}),n.jsx("input",{type:"week",className:"form-control",value:b,onChange:I=>h(I.target.value)})]})]})]}),n.jsxs("div",{className:"row mb-4",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label fw-bold",children:"Sort by:"}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsxs("select",{value:N.key,onChange:I=>we(I.target.value),className:"form-select",children:[n.jsx("option",{value:"date",children:"Date"}),n.jsx("option",{value:"amount",children:"Amount"})]}),n.jsx("button",{onClick:()=>we(N.key),className:"btn",style:{backgroundColor:"#f06a98",color:"white"},children:N.direction==="asc"?"":""})]})]}),n.jsx("div",{className:"col-md-6 d-flex align-items-end",children:(f||v||b)&&n.jsx("button",{onClick:ft,className:"btn",style:{backgroundColor:"#dc3545",color:"white"},children:"Clear Filters"})})]}),Ut.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(Pl,{className:"text-5xl mb-4 text-gray-300 mx-auto"}),n.jsx("p",{className:"text-lg",children:"No cash advance records found"}),(f||v||b)&&n.jsx("button",{onClick:ft,className:"btn mt-2",style:{backgroundColor:"#f06a98",color:"white"},children:"Clear Filter"})]}):n.jsx("div",{className:"table-container",style:{borderRadius:"8px",overflowX:"auto",overflowY:"visible",WebkitOverflowScrolling:"touch"},children:n.jsxs("table",{className:"min-w-full table-auto text-sm",children:[n.jsx("thead",{style:{background:"#f06a98",color:"white"},children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider",children:"#"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider",children:n.jsxs("button",{onClick:()=>we("date"),className:"flex items-center gap-1 text-white hover:text-blue-200 focus:outline-none",children:["Date",N.key==="date"&&n.jsx("span",{children:N.direction==="asc"?"":""})]})}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider",children:n.jsxs("button",{onClick:()=>we("amount"),className:"flex items-center gap-1 text-white hover:text-blue-200 focus:outline-none",children:["Amount",N.key==="amount"&&n.jsx("span",{children:N.direction==="asc"?"":""})]})})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ae(Ut).map((I,C)=>n.jsxs("tr",{className:"hover:bg-pink-50 transition-colors duration-200",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C+1}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-semibold",children:Ke(I.date)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-semibold",children:["-",_e(I.amount)]})]},I._id))}),n.jsx("tfoot",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("td",{colSpan:"2",className:"px-6 py-4 text-right font-semibold text-gray-900",children:"Total Cash Advance:"}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-red-600 font-semibold",children:["-",_e(Ut.reduce((I,C)=>I+(C.amount||0),0))]})]})})]})})]}),u==="attendance"&&n.jsxs("div",{className:"overflow-x-auto bg-white p-6 rounded-lg shadow-md border border-gray-200",children:[n.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:n.jsxs("h4",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx(Dl,{style:{color:"#f06a98"}}),"Attendance Records"]})}),n.jsxs("div",{className:"row mb-4",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label fw-bold",children:"Filter Type:"}),n.jsxs("select",{className:"form-select",value:f,onChange:I=>p(I.target.value),children:[n.jsx("option",{value:"",children:"Select Filter Type"}),n.jsx("option",{value:"week",children:"Filter by Week"}),n.jsx("option",{value:"month",children:"Filter by Month"})]})]}),n.jsxs("div",{className:"col-md-6",children:[f==="month"&&n.jsxs(n.Fragment,{children:[n.jsx("label",{className:"form-label fw-bold",children:"Filter by Month:"}),n.jsx("input",{type:"month",className:"form-control",value:v,onChange:I=>S(I.target.value)})]}),f==="week"&&n.jsxs(n.Fragment,{children:[n.jsx("label",{className:"form-label fw-bold",children:"Filter by Week:"}),n.jsx("input",{type:"week",className:"form-control",value:b,onChange:I=>h(I.target.value)})]})]})]}),n.jsxs("div",{className:"row mb-4",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label fw-bold",children:"Sort by:"}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("select",{value:N.key,onChange:I=>we(I.target.value),className:"form-select",children:n.jsx("option",{value:"date",children:"Date"})}),n.jsx("button",{onClick:()=>we(N.key),className:"btn",style:{backgroundColor:"#f06a98",color:"white"},children:N.direction==="asc"?"":""})]})]}),n.jsx("div",{className:"col-md-6 d-flex align-items-end",children:(f||v||b)&&n.jsx("button",{onClick:ft,className:"btn",style:{backgroundColor:"#dc3545",color:"white"},children:"Clear Filters"})})]}),lr.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(Dl,{className:"text-5xl mb-4 text-gray-300 mx-auto"}),n.jsx("p",{className:"text-lg",children:"No attendance records found"}),(f||v||b)&&n.jsx("button",{onClick:ft,className:"btn mt-2",style:{backgroundColor:"#f06a98",color:"white"},children:"Clear Filter"})]}):n.jsx("div",{className:"table-container",style:{borderRadius:"8px",overflowX:"auto",overflowY:"visible",WebkitOverflowScrolling:"touch"},children:n.jsxs("table",{className:"min-w-full table-auto text-sm",children:[n.jsx("thead",{style:{background:"#f06a98",color:"white"},children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider",children:"#"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider",children:n.jsxs("button",{onClick:()=>we("date"),className:"flex items-center gap-1 text-white hover:text-blue-200 focus:outline-none",children:["Date",N.key==="date"&&n.jsx("span",{children:N.direction==="asc"?"":""})]})}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider",children:"Time In"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider",children:"Time Out"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ae(s).map((I,C)=>n.jsxs("tr",{className:"hover:bg-pink-50 transition-colors duration-200",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C+1}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-semibold",children:Ke(I.date)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-semibold",children:I.timeIn||"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-semibold",children:I.timeOut||"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${I.status==="present"||I.status==="full-day"?"bg-green-100 text-green-800":I.status==="half-day"||I.status==="late"?"bg-yellow-100 text-yellow-800":I.status==="absent"?"bg-red-100 text-red-800":I.status==="incomplete"?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"}`,children:I.status==="present"||I.status==="full-day"?"Present":I.status==="half-day"||I.status==="late"?"Half-day":I.status==="absent"?"Absent":I.status==="incomplete"?"Incomplete":"Present"})})]},I.date))})]})})]}),u==="payslip"&&n.jsxs("div",{className:"overflow-x-auto bg-white p-6 rounded-lg shadow-md border border-gray-200",children:[n.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:n.jsxs("h4",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx(Tl,{style:{color:"#f06a98"}}),"Your Payroll Records"]})}),n.jsxs("div",{className:"row mb-4",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label fw-bold",children:"Filter Type:"}),n.jsxs("select",{className:"form-select",value:f,onChange:I=>p(I.target.value),children:[n.jsx("option",{value:"",children:"Select Filter Type"}),n.jsx("option",{value:"week",children:"Filter by Week"}),n.jsx("option",{value:"month",children:"Filter by Month"})]})]}),n.jsxs("div",{className:"col-md-6",children:[f==="month"&&n.jsxs(n.Fragment,{children:[n.jsx("label",{className:"form-label fw-bold",children:"Filter by Month:"}),n.jsx("input",{type:"month",className:"form-control",value:v,onChange:I=>S(I.target.value)})]}),f==="week"&&n.jsxs(n.Fragment,{children:[n.jsx("label",{className:"form-label fw-bold",children:"Filter by Week:"}),n.jsx("input",{type:"week",className:"form-control",value:b,onChange:I=>h(I.target.value)})]})]})]}),n.jsxs("div",{className:"row mb-4",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsx("label",{className:"form-label fw-bold",children:"Sort by:"}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsxs("select",{value:N.key,onChange:I=>we(I.target.value),className:"form-select",children:[n.jsx("option",{value:"date",children:"Date"}),n.jsx("option",{value:"salary",children:"Salary"}),n.jsx("option",{value:"deductions",children:"Cash Advances"}),n.jsx("option",{value:"netSalary",children:"Net Salary"})]}),n.jsx("button",{onClick:()=>we(N.key),className:"btn",style:{backgroundColor:"#f06a98",color:"white"},children:N.direction==="asc"?"":""})]})]}),n.jsx("div",{className:"col-md-6 d-flex align-items-end",children:(f||v||b)&&n.jsx("button",{onClick:ft,className:"btn",style:{backgroundColor:"#dc3545",color:"white"},children:"Clear Filters"})})]}),It.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(Tl,{className:"text-5xl mb-4 text-gray-300 mx-auto"}),n.jsx("p",{className:"text-lg",children:"No payroll records found"}),(f||v||b)&&n.jsx("button",{onClick:ft,className:"btn mt-2",style:{backgroundColor:"#f06a98",color:"white"},children:"Clear Filter"})]}):n.jsx("div",{className:"table-container",style:{borderRadius:"8px",overflowX:"auto",overflowY:"visible",WebkitOverflowScrolling:"touch"},children:n.jsxs("table",{className:"min-w-full table-auto text-sm",children:[n.jsx("thead",{style:{background:"#f06a98",color:"white"},children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider",children:"#"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider",children:n.jsxs("button",{onClick:()=>we("date"),className:"flex items-center gap-1 text-white hover:text-blue-200 focus:outline-none",children:["Pay Period",N.key==="date"&&n.jsx("span",{children:N.direction==="asc"?"":""})]})}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider",children:n.jsxs("button",{onClick:()=>we("salary"),className:"flex items-center gap-1 text-white hover:text-blue-200 focus:outline-none",children:["Salary",N.key==="salary"&&n.jsx("span",{children:N.direction==="asc"?"":""})]})}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider",children:n.jsxs("button",{onClick:()=>we("deductions"),className:"flex items-center gap-1 text-white hover:text-blue-200 focus:outline-none",children:["Cash Advances",N.key==="deductions"&&n.jsx("span",{children:N.direction==="asc"?"":""})]})}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider",children:n.jsxs("button",{onClick:()=>we("netSalary"),className:"flex items-center gap-1 text-white hover:text-blue-200 focus:outline-none",children:["Net Salary",N.key==="netSalary"&&n.jsx("span",{children:N.direction==="asc"?"":""})]})}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ae(It,"createdAt").map((I,C)=>n.jsxs("tr",{className:"hover:bg-pink-50 transition-colors duration-200",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C+1}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-semibold",children:I.period}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-semibold",children:_e(I.salary)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-semibold",children:["-",_e(I.deductions)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-semibold",children:_e(I.netSalary)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsxs("button",{onClick:()=>$e(I),className:"btn btn-sm d-flex align-items-center gap-1",style:{backgroundColor:"#f06a98",color:"white",border:"none"},children:[n.jsx(Dr,{}),"View"]})})]},I._id))})]})})]})]})})})]})})}),R&&j&&n.jsx("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:n.jsx("div",{className:"modal-dialog modal-lg",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header",style:{backgroundColor:"#f06a98",color:"white"},children:[n.jsxs("h5",{className:"modal-title",children:["Payroll Details - ",j.period]}),n.jsx("button",{type:"button",className:"btn-close",onClick:()=>V(!1),style:{filter:"invert(1)"}})]}),n.jsxs("div",{className:"modal-body",children:[n.jsxs("div",{className:"row mb-4",children:[n.jsxs("div",{className:"col-md-6",children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label fw-bold",children:"Employee ID"}),n.jsx("p",{children:e.employeeId})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label fw-bold",children:"Full Name"}),n.jsxs("p",{children:[e.firstName," ",e.lastName]})]})]}),n.jsxs("div",{className:"col-md-6",children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label fw-bold",children:"Pay Period"}),n.jsx("p",{children:j.period})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label fw-bold",children:"Net Salary"}),n.jsx("p",{className:"text-blue-600 fw-bold fs-5",children:_e(j.netSalary)})]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h6",{className:"fw-bold mb-3",children:"Daily Payroll Breakdown:"}),n.jsx("div",{className:"table-responsive",children:n.jsxs("table",{className:"table table-bordered table-sm",children:[n.jsx("thead",{style:{backgroundColor:"#f06a98",color:"white"},children:n.jsxs("tr",{children:[n.jsx("th",{children:"Date"}),n.jsx("th",{children:"Salary"}),n.jsx("th",{children:"Cash Advance"}),n.jsx("th",{children:"Net Salary"})]})}),n.jsx("tbody",{children:se(j.period).map((I,C)=>n.jsxs("tr",{children:[n.jsx("td",{className:"fw-semibold",children:Ke(I.date)}),n.jsxs("td",{className:"text-success fw-semibold",children:["",I.salary.toLocaleString()]}),n.jsx("td",{className:I.cashAdvance>0?"text-danger fw-semibold":"fw-semibold",children:I.cashAdvance>0?`-${I.cashAdvance.toLocaleString()}`:"0"}),n.jsxs("td",{className:I.netSalary>=0?"text-primary fw-bold":"text-danger fw-bold",children:[I.netSalary>=0?"":"-",Math.abs(I.netSalary).toLocaleString()]})]},C))}),n.jsx("tfoot",{className:"bg-light",children:n.jsxs("tr",{children:[n.jsx("td",{className:"fw-bold text-end",children:"Weekly Total:"}),n.jsxs("td",{className:"text-success fw-bold",children:["",j.salary.toLocaleString()]}),n.jsxs("td",{className:"text-danger fw-bold",children:["-",j.deductions.toLocaleString()]}),n.jsxs("td",{className:"text-primary fw-bold fs-6",children:["",j.netSalary.toLocaleString()]})]})})]})})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn",onClick:()=>V(!1),style:{backgroundColor:"#6c757d",color:"white"},children:"Close"}),n.jsxs("button",{type:"button",className:"btn d-flex align-items-center gap-2",onClick:()=>qe(j),style:{backgroundColor:"#28a745",color:"white"},children:[n.jsx(Qv,{}),"Print Payslip"]})]})]})})}),O&&n.jsx(fb,{employeeId:e==null?void 0:e._id,onClose:()=>ee(!1),onSuccess:()=>{ee(!1);const I={...e,requiresPasswordChange:!1};t(I),localStorage.setItem("currentEmployee",JSON.stringify(I)),pe.success("Password changed successfully!")}})]})};function hb(){const[e,t]=Te.useState(new Date);Te.useEffect(()=>{const o=setInterval(()=>t(new Date),1e3);return()=>clearInterval(o)},[]);const a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],s=e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),l=e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return n.jsxs("span",{style:{fontSize:"1rem",fontWeight:500,color:"white"},children:[a," | ",s," ",l]})}const yb=({isOpen:e,onClose:t,onSuccess:r})=>{const[a,s]=x.useState(!1),[l,o]=x.useState(null),[i,c]=x.useState([]),[d,u]=x.useState(!1),[m,y]=x.useState({dailyRate:"",effectiveDate:new Date().toISOString().split("T")[0],reason:"",notes:""}),[w,v]=x.useState({hourlyRate:0,overtimeRate:0}),[S,b]=x.useState({});x.useEffect(()=>{e&&(h(),f())},[e]),x.useEffect(()=>{const j=parseFloat(m.dailyRate)||0;v({hourlyRate:(j/8).toFixed(2),overtimeRate:(j/8*1.25).toFixed(2)})},[m.dailyRate]);const h=async()=>{try{const j=await zo();o(j),F.info(" Current rate fetched:",j)}catch(j){F.error(" Error fetching current rate:",j)}},f=async()=>{try{const j=await J1(5);c(j),F.info(` Fetched ${j.length} rate history records`)}catch(j){F.error(" Error fetching rate history:",j),c([])}},p=()=>{const j={},g=parseFloat(m.dailyRate);return(!m.dailyRate||isNaN(g)||g<=0)&&(j.dailyRate="Valid daily rate is required (must be greater than 0)"),(!m.reason||m.reason.trim().length<3)&&(j.reason="Reason is required (minimum 3 characters)"),m.effectiveDate||(j.effectiveDate="Effective date is required"),b(j),Object.keys(j).length===0},N=async j=>{var g,R;if(j.preventDefault(),!!p()&&window.confirm(`Are you sure you want to change the salary rate from ${(l==null?void 0:l.dailyRate)||550} to ${m.dailyRate}?

This will affect all future salary calculations.`))try{s(!0);const V=JSON.parse(localStorage.getItem("currentEmployee")||"{}"),O=V._id||V.id,ee=`${V.firstName||""} ${V.lastName||""}`.trim()||"Admin",ue={dailyRate:parseFloat(m.dailyRate),effectiveDate:m.effectiveDate,reason:m.reason.trim(),notes:m.notes.trim(),createdBy:O,createdByName:ee},ne=await K1(ue);F.info(" Salary rate updated successfully:",ne),alert(` Salary rate updated successfully!

New Rate: ${m.dailyRate} daily
Hourly: ${w.hourlyRate}/hr
Overtime: ${w.overtimeRate}/hr`),y({dailyRate:"",effectiveDate:new Date().toISOString().split("T")[0],reason:"",notes:""}),await h(),await f(),r&&r(ne.rate),t()}catch(V){F.error(" Error updating salary rate:",V),alert(`Error updating salary rate: ${((R=(g=V.response)==null?void 0:g.data)==null?void 0:R.message)||V.message}`)}finally{s(!1)}},k=j=>{const{name:g,value:R}=j.target;y(V=>({...V,[g]:R})),S[g]&&b(V=>({...V,[g]:""}))};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-4 rounded-t-lg",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx("i",{className:"fas fa-money-bill-wave"}),"Adjust Salary Rate"]}),n.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 text-2xl font-bold",disabled:a,children:""})]}),n.jsx("p",{className:"text-green-100 text-sm mt-1",children:"Update global salary rates for all employees"})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 mb-6 rounded",children:[n.jsxs("h3",{className:"font-semibold text-yellow-900 mb-2 flex items-center gap-2",children:[n.jsx("i",{className:"fas fa-exclamation-triangle"}),"Important: Salary Rate Effective Date Behavior"]}),n.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[n.jsxs("p",{children:[n.jsx("strong",{children:" Immediate Effect Through Saturday:"})," New salary rates take effect ",n.jsx("strong",{children:"immediately from the creation date"})," until the end of the current work week (Saturday 11:59 PM)."]}),n.jsxs("p",{children:[n.jsx("strong",{children:" Monday Activation:"})," After Saturday, the next salary rate becomes active starting Monday of the new week."]}),n.jsxs("p",{className:"text-xs text-yellow-800 bg-yellow-100 p-2 rounded mt-2",children:[n.jsx("i",{className:"fas fa-lightbulb mr-1"}),n.jsx("strong",{children:"Example:"})," If you create a new rate on Wednesday, it applies immediately to Wednesday, Thursday, Friday, and Saturday. On Monday, the next rate (if any) will take effect."]})]})]}),l&&n.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6 rounded",children:[n.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[n.jsx("i",{className:"fas fa-info-circle"}),"Current Active Rate"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Daily Rate:"}),n.jsxs("p",{className:"text-lg font-bold text-blue-900",children:["",l.dailyRate]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Hourly Rate:"}),n.jsxs("p",{className:"text-lg font-bold text-blue-900",children:["",l.hourlyRate.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Overtime Rate:"}),n.jsxs("p",{className:"text-lg font-bold text-blue-900",children:["",l.overtimeRate.toFixed(2)]})]})]}),n.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Effective since: ",new Date(l.effectiveDate).toLocaleDateString()]})]}),n.jsxs("form",{onSubmit:N,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Daily Rate ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-3 text-gray-500",children:""}),n.jsx("input",{type:"number",name:"dailyRate",value:m.dailyRate,onChange:k,className:`w-full pl-8 pr-3 py-2 border ${S.dailyRate?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent`,placeholder:"550.00",step:"0.01",min:"0",disabled:a})]}),S.dailyRate&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:S.dailyRate})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Hourly Rate (Auto-calculated)"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-3 text-gray-500",children:""}),n.jsx("input",{type:"text",value:w.hourlyRate,className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Daily Rate  8"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Overtime Rate (Auto-calculated)"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-3 text-gray-500",children:""}),n.jsx("input",{type:"text",value:w.overtimeRate,className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hourly Rate  1.25"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Effective Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",name:"effectiveDate",value:m.effectiveDate,onChange:k,className:`w-full px-3 py-2 border ${S.effectiveDate?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-green-500`,disabled:a}),S.effectiveDate&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:S.effectiveDate})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Reason ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"reason",value:m.reason,onChange:k,className:`w-full px-3 py-2 border ${S.reason?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-green-500`,placeholder:"e.g., Annual rate adjustment, Minimum wage increase",disabled:a}),S.reason&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:S.reason})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notes (Optional)"}),n.jsx("textarea",{name:"notes",value:m.notes,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",rows:"3",placeholder:"Additional details about this rate change...",disabled:a})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("button",{type:"button",onClick:()=>u(!d),className:"flex items-center gap-2 text-green-700 font-semibold hover:text-green-800 mb-3",children:[n.jsx("i",{className:`fas fa-chevron-${d?"up":"down"}`}),"Rate History (",i.length," records)"]}),d&&n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:i.length>0?n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-300",children:[n.jsx("th",{className:"text-left py-2",children:"Date"}),n.jsx("th",{className:"text-left py-2",children:"Daily Rate"}),n.jsx("th",{className:"text-left py-2",children:"Hourly"}),n.jsx("th",{className:"text-left py-2",children:"OT"}),n.jsx("th",{className:"text-left py-2",children:"Created By"}),n.jsx("th",{className:"text-left py-2",children:"Reason"})]})}),n.jsx("tbody",{children:i.map((j,g)=>n.jsxs("tr",{className:`border-b border-gray-200 ${g===0?"bg-green-50":""}`,children:[n.jsxs("td",{className:"py-2",children:[new Date(j.effectiveDate).toLocaleDateString(),g===0&&n.jsx("span",{className:"ml-2 text-xs text-green-600 font-semibold",children:"(Current)"})]}),n.jsxs("td",{className:"py-2",children:["",j.dailyRate]}),n.jsxs("td",{className:"py-2",children:["",j.hourlyRate.toFixed(2)]}),n.jsxs("td",{className:"py-2",children:["",j.overtimeRate.toFixed(2)]}),n.jsx("td",{className:"py-2",children:j.createdByName}),n.jsx("td",{className:"py-2 text-xs text-gray-600",children:j.reason})]},j._id))})]}):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No rate history available"})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition duration-200",disabled:a,children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition duration-200 flex items-center gap-2",disabled:a,children:a?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fas fa-spinner fa-spin"}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fas fa-save"}),"Update Salary Rate"]})})]})]})]})]})}):null},Rf=({dayType:e})=>{const t=e==null?void 0:e.toLowerCase().replace(/\s+/g,"-");let r=e||"N/A";return t==="half-day"||t==="halfday"?r="Half Day":t==="full-day"||t==="fullday"?r="Full Day":t==="overtime"||t==="overtime"?r="Overtime":t==="present"?r="Present":t==="invalid"?r="Invalid":t==="absent"?r="Absent":t==="incomplete"&&(r="Incomplete"),n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${t==="present"?"bg-blue-100 text-blue-800":t==="half-day"||t==="halfday"?"bg-yellow-100 text-yellow-800":t==="full-day"||t==="fullday"?"bg-green-100 text-green-800":t==="invalid"?"bg-red-100 text-red-800":t==="overtime"?"bg-purple-100 text-purple-800":t==="absent"?"bg-gray-100 text-gray-800":t==="incomplete"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:r})},gb=()=>{const e=C=>{const L=Number(C)||0;return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(L)},[t,r]=x.useState([]),[a,s]=x.useState([]),[l,o]=x.useState([]),[i,c]=x.useState(!0),[d,u]=x.useState(null),[m,y]=x.useState(""),w=Rd(m,300),[v,S]=x.useState(""),[b,h]=x.useState(""),[f,p]=x.useState(""),[N,k]=x.useState([]),[j,g]=x.useState([]),[R,V]=x.useState(!1),[O,ee]=x.useState([]),[ue,ne]=x.useState(!1),[ge,ye]=x.useState(!1),[Ee,He]=x.useState(!1),[W,de]=x.useState(!1),[he,ke]=x.useState({employeeId:"",salary:"",date:""});x.useEffect(()=>{fe(),Je(),K()},[]);const fe=async()=>{try{c(!0);const C=await wa.getAll();if(C.error)u(C.error);else{const L=C,J=L.filter(P=>!P.archived),Y=L.filter(P=>P.archived);r(J),ee(Y),u(null),ae(J)}}catch(C){F.error("Error fetching salaries:",C),u(C.message||"Failed to fetch salary records.")}finally{c(!1)}},Je=async()=>{try{const C=await Ot.getAll();if(C.error)throw new Error(C.error);{const L=Array.isArray(C)?C:C.data||C.employees||[];s(L)}}catch(C){F.error("Error fetching employees:",C),s([{_id:"1",employeeId:"EMP-1001",firstName:"Juan",lastName:"Dela Cruz",salary:25e3,status:"regular"},{_id:"2",employeeId:"EMP-1002",firstName:"Maria",lastName:"Santos",salary:22e3,status:"regular"},{_id:"3",employeeId:"EMP-1003",firstName:"Pedro",lastName:"Reyes",salary:18e3,status:"oncall"}])}},K=async()=>{try{const L=await(await fetch("https://payroll-backend-cyan.vercel.app/api/attendance")).json();Array.isArray(L)?(o(L),F.log(" Attendance data loaded (array format):",L.length,"records")):L.data&&Array.isArray(L.data)?(o(L.data),F.log(" Attendance data loaded (paginated format):",L.data.length,"records")):L.attendance&&Array.isArray(L.attendance)?(o(L.attendance),F.log(" Attendance data loaded (attendance field):",L.attendance.length,"records")):(F.error(" Attendance data structure unexpected:",L),o([]))}catch(C){F.error(" Error fetching attendance data:",C),o([])}},Z=(C,L)=>{if(!L||!l.length)return"N/A";const J=new Date(L).toISOString().split("T")[0],Y=l.find(P=>{if(!P.date)return!1;const M=new Date(P.date).toISOString().split("T")[0];return P.employeeId===C&&M===J});return(Y==null?void 0:Y.dayType)||(Y==null?void 0:Y.status)||"N/A"},se=(C,L)=>{if(!L||!l.length)return 0;const J=new Date(L).toISOString().split("T")[0],Y=l.find(P=>{if(!P.date)return!1;const M=new Date(P.date).toISOString().split("T")[0];return P.employeeId===C&&M===J});return(Y==null?void 0:Y.totalPay)||(Y==null?void 0:Y.daySalary)||0},ae=C=>{const L=[...new Set(C.map(J=>new Date(J.date||J.createdAt).getFullYear()))].sort((J,Y)=>Y-J);k(L)},we=C=>{if(!C)return{start:"",end:""};try{const[L,J]=C.split("-W");if(!L||!J)return{start:"",end:""};const Y=new Date(parseInt(L),0,1+(parseInt(J)-1)*7),P=Y.getDay(),M=new Date(Y);M.setDate(Y.getDate()-P+(P===0?-6:1));const T=new Date(M);return T.setDate(M.getDate()+6),{start:M.toISOString().split("T")[0],end:T.toISOString().split("T")[0]}}catch(L){return F.error("Error parsing week input:",L),{start:"",end:""}}},qe=C=>{try{if(!C)return"";const L=new Date(C);if(isNaN(L.getTime()))return"";const J=L.getFullYear(),Y=L.getMonth();return new Date(J,Y,1).toISOString().split("T")[0]}catch(L){return F.error("Error getting month start date:",L),""}},$e=C=>{try{if(!C)return"";const L=new Date(C);if(isNaN(L.getTime()))return"";const J=L.getFullYear(),Y=L.getMonth();return new Date(J,Y+1,0).toISOString().split("T")[0]}catch(L){return F.error("Error getting month end date:",L),""}};x.useEffect(()=>{h(""),p("")},[v]),x.useEffect(()=>{let C=t.filter(L=>!L.archived);if(v==="today"){const L=new Date;L.setHours(0,0,0,0);const J=L.toISOString().split("T")[0];C=C.filter(Y=>new Date(Y.date||Y.createdAt).toISOString().split("T")[0]===J)}else if(v==="week"&&b)try{F.log(" Filtering by week:",b);const L=we(b);F.log(" Week range:",L.start,"to",L.end),L.start&&L.end&&(C=C.filter(J=>{const P=new Date(J.date||J.createdAt).toISOString().split("T")[0],M=P>=L.start&&P<=L.end;return F.log(" Checking salary:",{employeeId:J.employeeId,salaryDate:P,inRange:M}),M}),F.log(" Filtered results:",C.length))}catch(L){F.error(" Error filtering by week:",L)}else if(v==="month"&&b)try{const L=qe(b),J=$e(b);F.log(" Filtering by month:",L,"to",J),C=C.filter(Y=>{const M=new Date(Y.date||Y.createdAt).toISOString().split("T")[0];return M>=L&&M<=J})}catch(L){F.error("Error filtering by month:",L)}else v==="year"&&f&&(C=C.filter(L=>new Date(L.date||L.createdAt).getFullYear().toString()===f));if(w){const L=w.toLowerCase();C=C.filter(J=>{var M,T;const Y=((M=J.employeeName)==null?void 0:M.toLowerCase())||"",P=((T=J.employeeId)==null?void 0:T.toLowerCase())||"";return Y.includes(L)||P.includes(L)})}g(C)},[w,v,b,f,t]);const ft=O.filter(C=>{var P,M;const L=w.toLowerCase(),J=((P=C.employeeName)==null?void 0:P.toLowerCase())||"",Y=((M=C.employeeId)==null?void 0:M.toLowerCase())||"";return J.includes(L)||Y.includes(L)}),_e=C=>{try{if(!C)return"N/A";const L=new Date(C);if(isNaN(L.getTime()))return"N/A";const Y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][L.getMonth()],P=L.getDate(),M=L.getFullYear();return`${Y} ${P}, ${M}`}catch(L){return F.error("Error formatting date:",L),"N/A"}},Ke=C=>{try{if(!C)return"N/A";const L=new Date(C);if(isNaN(L.getTime()))return"N/A";const Y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][L.getMonth()],P=L.getDate(),M=L.getFullYear();return`${Y} ${P}, ${M}`}catch(L){return F.error("Error formatting table date:",L),"N/A"}},Xt=()=>{if(!v&&!m)return"All Salary Records";if(v==="week"&&b)try{const C=we(b);if(C.start&&C.end){const L=_e(C.start),J=_e(C.end);return`Week: ${L} - ${J}`}}catch(C){F.error("Error getting week display text:",C)}else if(v==="month"&&b)try{const C=new Date(b);if(!isNaN(C.getTime()))return`${["January","February","March","April","May","June","July","August","September","October","November","December"][C.getMonth()]} ${C.getFullYear()}`}catch(C){F.error("Error getting month display text:",C)}else if(v==="year"&&f)return`Year: ${f}`;return m&&!v?`Search Results for: "${m}"`:"Filtered Salary Records"},_t=C=>{const L=C.target.value;h(L)},et=C=>{p(C.target.value)},Ut=()=>{S(""),h(""),p(""),y("")},lr=()=>v!==""||m!=="",It=async C=>{if(!C){alert("Error: Cannot archive - No ID provided"),F.error("Archive error: No ID provided");return}if(window.confirm("Are you sure you want to archive this salary record?"))try{c(!0),F.log(" Attempting to archive salary record with ID:",C);const L=await wa.archive(C);L.error?(u(L.error),alert(`Error: ${L.error}`)):(await fe(),u(null),alert("Salary record archived successfully!"))}catch(L){F.error(" Archive error details:",L);const J=L.message||"Archive failed";u(J),alert(`Error: ${J}`)}finally{c(!1)}},I=async C=>{if(!C){alert("Error: Cannot restore - No ID provided");return}if(window.confirm("Are you sure you want to restore this salary record?"))try{c(!0),F.log(" Attempting to restore salary record with ID:",C);const L=await wa.restore(C);L.error?(u(L.error),alert(`Error: ${L.error}`)):(await fe(),u(null),alert("Salary record restored successfully!"))}catch(L){F.error(" Restore error details:",L);const J=L.message||"Restore failed";u(J),alert(`Error: ${J}`)}finally{c(!1)}};return d?n.jsx("div",{className:"container mt-4",children:n.jsxs("div",{className:"alert alert-danger",children:[n.jsx("h4",{className:"alert-heading",children:"Error!"}),n.jsx("p",{children:d}),n.jsx("hr",{}),n.jsx("button",{className:"btn btn-danger",onClick:fe,children:"Try Again"})]})}):n.jsxs("div",{className:"admin-page-wrapper",children:[n.jsx("button",{className:"hamburger-menu-button",onClick:()=>ye(!ge),"aria-label":"Toggle Menu",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),n.jsx("div",{className:`mobile-sidebar-overlay ${ge?"active":""}`,onClick:()=>ye(!1)}),n.jsx(Vr,{isMobileOpen:ge,onClose:()=>ye(!1)}),n.jsxs("div",{className:"admin-main-content",children:[n.jsx(Yr,{}),n.jsx("div",{className:"admin-content-area",children:n.jsxs("div",{className:"card shadow-sm",style:{borderRadius:"15px",border:"none"},children:[n.jsxs("div",{className:"card-header",style:{borderRadius:"0",padding:"20px",background:"transparent"},children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"mb-1",style:{fontWeight:"bold",color:"black",display:"flex",alignItems:"center",gap:8,fontSize:"2rem",fontFamily:"sans-serif"},children:[n.jsx("i",{className:"fas fa-money-bill me-2"}),"Salary Management"]}),n.jsx("p",{className:"mb-0",style:{fontSize:"16px",opacity:"0.9",color:"black"},children:"Automatic salary calculation based on attendance records"})]}),n.jsxs("button",{className:"btn",onClick:()=>He(!0),style:{backgroundColor:"#f06a98",border:"none",color:"#ffffff",padding:"10px 20px",fontSize:"1rem",borderRadius:"8px"},children:[n.jsx("i",{className:"fas fa-edit me-2"}),"Adjust Salary Rate"]})]}),n.jsxs("div",{className:"mt-4 d-flex gap-3 align-items-center flex-wrap",children:[n.jsxs("div",{className:"input-group",style:{maxWidth:"400px"},children:[n.jsx("span",{className:"input-group-text",children:n.jsx("i",{className:"fas fa-search"})}),n.jsx("input",{type:"text",className:"form-control",placeholder:"Search by name or employee ID...",value:m,onChange:C=>y(C.target.value)})]}),n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Filter by:"}),n.jsxs("select",{value:v,onChange:C=>S(C.target.value),className:"border border-gray-300 rounded p-2 focus:ring-2 focus:ring-blue-500",style:{color:"black"},children:[n.jsx("option",{value:"",children:"Select filter..."}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"Week"}),n.jsx("option",{value:"month",children:"Month"}),n.jsx("option",{value:"year",children:"Year"})]})]}),(v==="week"||v==="month")&&n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:v==="week"?"Select Week:":"Select Month:"}),n.jsx("input",{type:v==="week"?"week":"month",value:b,onChange:_t,className:"border border-gray-300 rounded p-2 focus:ring-2 focus:ring-blue-500",style:{color:"black"},title:v==="week"?"Select a week":"Select a month"})]}),v==="year"&&n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Select Year:"}),n.jsxs("select",{value:f,onChange:et,className:"border border-gray-300 rounded p-2 focus:ring-2 focus:ring-blue-500",style:{color:"black",minWidth:"120px"},children:[n.jsx("option",{value:"",children:"Select year..."}),N.map(C=>n.jsx("option",{value:C,children:C},C))]})]}),lr()&&n.jsxs("button",{onClick:Ut,className:"btn btn-outline-secondary",style:{padding:"10px 20px",fontSize:"1rem",borderRadius:"8px"},children:[n.jsx("i",{className:"fas fa-times me-2"}),"Clear Filters"]}),n.jsxs("button",{onClick:()=>V(!R),className:"btn",style:{backgroundColor:R?"#6c757d":"#f06a98",border:"none",color:"#ffffff",padding:"10px 20px",fontSize:"1rem",borderRadius:"8px"},children:[n.jsx("i",{className:"fas fa-archive me-2"}),R?"Back to Main":"View Archive"]})]})]}),n.jsx("div",{className:"card-body",style:{padding:"10px 20px"},children:i?n.jsx("div",{className:"text-center py-4",children:n.jsx("div",{className:"spinner-border text-primary",role:"status",children:n.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):n.jsxs(n.Fragment,{children:[!R&&n.jsxs("div",{className:"overflow-x-auto bg-white p-4 rounded-lg shadow-md",style:{marginTop:"10px"},children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-700",children:[R?"Archived ":"","Salary Records - ",Xt()]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[j.length," record",j.length!==1?"s":""," found"]})]}),n.jsxs("table",{className:"min-w-full table-auto text-sm",style:{fontSize:"0.875rem"},children:[n.jsx("thead",{className:"bg-gray-100 text-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Employee ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Actions"})]})}),n.jsx("tbody",{className:"text-gray-700 divide-y divide-gray-200",children:j.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"text-center py-4 text-muted",children:m?"No salary records found matching your search":"No salary records found"})}):j.map((C,L)=>{const J=a.find(Y=>Y.employeeId===C.employeeId);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:L+1}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:J?`${J.firstName} ${J.lastName}`:C.employeeName||"N/A"}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:C.employeeId}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx(Rf,{dayType:Z(C.employeeId,C.date||C.createdAt)})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:e(se(C.employeeId,C.date||C.createdAt)||C.salary||C.amount||0)}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:C.date?Ke(C.date):"N/A"}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("div",{className:"flex space-x-1",children:n.jsx("button",{onClick:()=>It(C._id),className:"bg-purple-500 text-white px-3 py-1 rounded text-xs hover:bg-purple-600 transition duration-200",children:"Archive"})})})]},C._id)})})]})]}),R&&n.jsxs("div",{className:"overflow-x-auto bg-white p-4 rounded-lg shadow-md",style:{marginTop:"10px"},children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-700 mb-3",children:["Archived Salary Records - ",m?`Search: "${m}"`:"All Archived Records"]}),n.jsxs("table",{className:"min-w-full table-auto text-sm",style:{fontSize:"0.875rem"},children:[n.jsx("thead",{className:"bg-gray-100 text-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Employee ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Actions"})]})}),n.jsx("tbody",{className:"text-gray-700 divide-y divide-gray-200",children:ft.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:"7",className:"text-center py-4 text-muted",children:["No archived salary records found ",m&&"matching your search"]})}):ft.map((C,L)=>{const J=a.find(Y=>Y.employeeId===C.employeeId);return n.jsxs("tr",{className:"hover:bg-gray-50 bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:L+1}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:J?`${J.firstName} ${J.lastName}`:C.employeeName||"N/A"}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:C.employeeId}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx(Rf,{dayType:Z(C.employeeId,C.date||C.createdAt)})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:e(se(C.employeeId,C.date||C.createdAt)||C.salary||C.amount||0)}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:C.date?Ke(C.date):"N/A"}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("div",{className:"flex space-x-1",children:n.jsx("button",{onClick:()=>I(C._id),className:"bg-green-500 text-white px-3 py-1 rounded text-xs hover:bg-green-600 transition duration-200",children:"Restore"})})})]},C._id)})})]})]})]})}),n.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded-lg shadow-sm",children:[n.jsxs("div",{className:"cursor-pointer d-flex align-items-center justify-content-between",onClick:()=>de(!W),style:{cursor:"pointer"},children:[n.jsxs("h3",{className:"text-lg font-bold text-yellow-800 mb-0 d-flex align-items-center gap-2",children:[n.jsx("i",{className:"fas fa-info-circle"}),"Important Notice: Salary Calculation & Status Rules"]}),n.jsx("i",{className:`fas fa-chevron-${W?"up":"down"} text-yellow-600`})]}),W&&n.jsxs("div",{className:"space-y-4 mt-3",children:[n.jsxs("div",{className:"bg-orange-50 p-3 rounded-md border border-orange-300",children:[n.jsxs("h4",{className:"font-semibold text-orange-800 mb-2 d-flex align-items-center gap-1",children:[n.jsx("i",{className:"fas fa-clock text-sm"})," Standard Work Hours & Lunch Break"]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Standard Shift:"})," 8:00 AM to 5:00 PM (9 hours total)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Paid Hours:"})," Only ",n.jsx("strong",{children:"8 hours"})," are counted as regular work"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Lunch Break (12:00 NN - 12:59 PM):"})," ",n.jsx("span",{className:"text-red-600 font-bold",children:"NOT INCLUDED"})," in the 8-hour computation"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Formula:"})," Total Time - Lunch Break = Paid Hours"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Example:"})," 8:00 AM - 5:00 PM = 9hrs - 1hr lunch = ",n.jsx("strong",{children:"8 hours paid"})]})]})]}),n.jsxs("div",{className:"bg-white p-3 rounded-md border border-blue-200",children:[n.jsxs("h4",{className:"font-semibold text-blue-700 mb-2 d-flex align-items-center gap-1",children:[n.jsx("i",{className:"fas fa-calculator text-sm"})," Salary Computations"]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Hourly Rate:"})," Daily Rate  8 hours (68.75/hr)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Overtime Rate:"})," Hourly Rate  1.25 = 85.94/hr"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Half-Day Pay:"})," Variable (4 to <6.5 hours worked)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Full-Day Pay:"})," Daily Rate (6.5-8 hours worked)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Overtime Pay:"})," Full Day + OT Rate  OT hours (>6.5 hrs + after 5PM)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Invalid Attendance:"})," No pay (less than 4 hours worked)"]})]})]}),n.jsxs("div",{className:"bg-yellow-50 p-3 rounded-md border border-yellow-300",children:[n.jsxs("h4",{className:"font-semibold text-yellow-800 mb-2 d-flex align-items-center gap-1",children:[n.jsx("i",{className:"fas fa-coins text-sm"})," Half-Day Variable Pay Explained"]}),n.jsx("p",{className:"text-sm text-gray-700 mb-2",children:n.jsx("strong",{children:"Half-Day status applies to 4 to <6.5 hours worked, pay varies by actual hours:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs text-gray-700 ml-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"4 hours:"})," Half-Day Base = 275.00 (Daily 550.00  2)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"5 hours:"})," Half-Day + 1hr = 275.00 + 68.75 = ",n.jsx("strong",{children:"343.75"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"6 hours:"})," Half-Day + 2hrs = 275.00 + 137.50 = ",n.jsx("strong",{children:"412.50"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"6.25 hours:"})," Half-Day + 2.25hrs = 275.00 + 154.69 = ",n.jsx("strong",{children:"429.69"})]})]}),n.jsxs("p",{className:"text-xs text-gray-600 italic mt-2",children:[n.jsx("i",{className:"fas fa-lightbulb text-yellow-600 mr-1"}),n.jsx("strong",{children:"Note:"}),' Same "Half-Day" status, but different pay based on actual hours worked. Once 6.5 hrs, it becomes "Full Day" status.']})]}),n.jsxs("div",{className:"bg-white p-3 rounded-md border border-blue-200",children:[n.jsxs("h4",{className:"font-semibold text-blue-700 mb-2 d-flex align-items-center gap-1",children:[n.jsx("i",{className:"fas fa-tags text-sm"})," Status Definitions"]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Present:"})," Employee clocked in only (no clock out yet)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Invalid:"})," Worked <4 hours (0% pay - No Pay)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Half-Day:"})," Worked 4 to <6.5 hours (variable pay by exact hours)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Full-Day:"})," Worked 6.5-8 hours (100% daily rate)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Overtime:"})," Worked >6.5 hrs + timed out after 5PM (Full pay + OT rate)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Absent:"})," No time-in record for the day (0% pay)"]})]}),n.jsxs("p",{className:"text-xs text-gray-600 italic mt-2",children:[n.jsx("i",{className:"fas fa-info-circle text-blue-600 mr-1"}),n.jsx("strong",{children:"Note:"})," Grace period 8:00-9:30 AM allows Full Day eligibility if 6.5 hours worked."]})]}),n.jsxs("div",{className:"bg-purple-50 p-3 rounded-md border border-purple-300",children:[n.jsxs("h4",{className:"font-semibold text-purple-800 mb-2 d-flex align-items-center gap-1",children:[n.jsx("i",{className:"fas fa-clock text-sm"})," Overtime Eligibility Requirements"]}),n.jsx("p",{className:"text-sm text-gray-700 mb-2",children:n.jsx("strong",{children:"Overtime pay (85.94/hr) requires ALL conditions:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs text-gray-700 ml-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:" Work >8 hours total:"})," Overtime hours = hours beyond 8 (excluding lunch)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:" Minimum 6.5 hours worked:"})," Must work at least ",n.jsx("span",{className:"text-purple-600 font-bold",children:"6hrs 30min"})," to be eligible for OT"]}),n.jsxs("li",{children:[n.jsx("strong",{children:" Time-out after 5:00 PM:"})," Must work past 5:00 PM for overtime eligibility"]}),n.jsxs("li",{children:[n.jsx("strong",{children:" Manual time-out required:"})," Must manually clock out (not auto time-out at 8 PM)"]})]}),n.jsxs("p",{className:"text-xs text-gray-600 italic mt-2",children:[n.jsx("i",{className:"fas fa-info-circle text-purple-600 mr-1"}),n.jsx("strong",{children:"Example:"})," 8:00 AM - 7:00 PM (10 hrs total - 1 hr lunch = 9 hrs paid)  8 hrs Full Day + 1 hr OT (if out after 5PM)"]})]}),n.jsxs("div",{className:"bg-white p-3 rounded-md border border-gray-200",children:[n.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 d-flex align-items-center gap-1",children:[n.jsx("i",{className:"fas fa-cog text-sm"})," Archive & System Notes"]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Automatic Calculation:"})," Salaries calculated automatically when attendance records are finalized"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Rate Adjustments:"}),' Use "Adjust Salary Rate" button to update global daily rate']}),n.jsxs("li",{children:[n.jsx("strong",{children:"Effective Dates:"})," New rates take effect immediately through Saturday, then Monday activation for following week"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Archive System:"})," Archived records preserved for historical reference but excluded from active reporting"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Weekly Totals:"})," Salary amounts shown are calculated from attendance time-in/time-out records"]})]})]})]})]})]})})]}),n.jsx(yb,{isOpen:Ee,onClose:()=>He(!1),onSuccess:C=>{}})]})},xb=()=>{var N;const{employeeId:e}=x0(),t=Kn(),r=_a(),[a,s]=x.useState(null),[l,o]=x.useState([]),[i,c]=x.useState({key:"date",direction:"desc"}),[d,u]=x.useState(!1),[m,y]=x.useState(!1),w=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",v=()=>{const k=new Date,j=k.getDay(),g=j===0?0:j,R=new Date(k);R.setDate(k.getDate()-g);const V=new Date(R);return V.setDate(R.getDate()+6),{start:R,end:V}},S=(k,j)=>!j||!k?[]:k.filter(g=>{const R=g.employeeId===j.employeeId,V=g.employeeName===`${j.firstName} ${j.lastName}`;return R||V}),b=async k=>{if(window.confirm(`Mark this payslip as Done?

This will update the payment status to completed.`))try{if(!(await fetch(`${"https://payroll-backend-cyan.vercel.app/api".replace("/api","")}/api/payrolls/${k}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentStatus:"Paid"})})).ok)throw new Error("Failed to update payslip status");o(R=>R.map(V=>V._id===k?{...V,paymentStatus:"Paid",status:"Paid"}:V)),alert(" Payslip marked as Done successfully!")}catch(j){logger.error("Error marking payslip as done:",j),alert(" Failed to mark payslip as done. Please try again.")}},h=Te.useMemo(()=>l.length?[...l].sort((j,g)=>{let R,V;switch(i.key){case"date":R=new Date(j.createdAt||j.updatedAt||Date.now()),V=new Date(g.createdAt||g.updatedAt||Date.now());break;case"salary":R=j.salary,V=g.salary;break;case"deductions":R=j.deductions,V=g.deductions;break;case"netSalary":R=j.netSalary,V=g.netSalary;break;default:return 0}return R<V?i.direction==="asc"?-1:1:R>V?i.direction==="asc"?1:-1:0}):[],[l,i]),f=k=>{c(j=>({key:k,direction:j.key===k&&j.direction==="asc"?"desc":"asc"}))},p=()=>{const k=v(),j=window.open("","_blank"),g=l.reduce((O,ee)=>O+ee.salary,0),R=l.reduce((O,ee)=>O+ee.deductions,0),V=l.reduce((O,ee)=>O+ee.netSalary,0);j.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Payslip - ${a.firstName} ${a.lastName}</title>
          <style>
            body { 
              font-family: 'Arial', sans-serif; 
              margin: 0;
              padding: 20px;
              color: #000000;
              background: white;
            }
            .payslip-container {
              max-width: 800px;
              margin: 0 auto;
              border: 2px solid #000000;
              padding: 25px;
              background: white;
            }
            .header-section {
              text-align: center;
              margin-bottom: 25px;
              border-bottom: 2px solid #000000;
              padding-bottom: 20px;
            }
            .logo {
              max-width: 150px;
              margin-bottom: 10px;
            }
            .payslip-title {
              font-size: 24px;
              font-weight: bold;
              margin: 10px 0 5px 0;
              color: #000000;
            }
            .employee-name {
              font-size: 18px;
              font-weight: bold;
              color: #000000;
              margin-bottom: 5px;
            }
            .period-info {
              font-size: 14px;
              color: #000000;
              margin: 5px 0;
            }
            .details-section {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
              margin-bottom: 25px;
            }
            .employee-details, .payroll-details {
              padding: 15px;
              background: #f8f9fa;
              border-radius: 4px;
              border: 1px solid #dddddd;
            }
            .section-title {
              font-size: 16px;
              font-weight: bold;
              margin-bottom: 15px;
              color: #000000;
              border-bottom: 1px solid #000000;
              padding-bottom: 5px;
            }
            .detail-group {
              margin-bottom: 8px;
              display: flex;
              justify-content: space-between;
            }
            .detail-label {
              font-weight: bold;
              color: #000000;
              font-size: 13px;
            }
            .detail-value {
              color: #000000;
              font-size: 13px;
            }
            .summary-section {
              margin-top: 25px;
              padding: 20px;
              background: #f8f9fa;
              border-radius: 4px;
              border: 1px solid #dddddd;
            }
            .summary-row {
              display: flex;
              justify-content: space-between;
              margin-bottom: 8px;
              padding: 5px 0;
            }
            .summary-label {
              font-weight: bold;
              color: #000000;
              font-size: 14px;
            }
            .summary-value {
              font-weight: bold;
              color: #000000;
              font-size: 14px;
            }
            .total-row {
              border-top: 2px solid #000000;
              padding-top: 10px;
              margin-top: 10px;
              font-size: 16px;
            }
            .negative {
              color: #000000;
            }
            .footer {
              margin-top: 30px;
              text-align: center;
              font-size: 11px;
              color: #000000;
              border-top: 1px solid #000000;
              padding-top: 15px;
            }
            .signature-section {
              margin-top: 40px;
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
            }
            .signature-line {
              border-top: 1px solid #000000;
              margin-top: 60px;
              text-align: center;
              padding-top: 10px;
              font-size: 12px;
            }
            @media print {
              body { margin: 0; padding: 15px; }
              .payslip-container { border: none; padding: 0; }
            }
          </style>
        </head>
        <body>
          <div class="payslip-container">
            <div class="header-section">
              <img src="${Ro}" alt="Company Logo" class="logo" onerror="this.style.display='none'">
              <div class="payslip-title">EMPLOYEE PAYSLIP</div>
              <div class="employee-name">${a.firstName} ${a.lastName}</div>
              <div class="period-info">Pay Period: ${k.start.toLocaleDateString()} - ${k.end.toLocaleDateString()}</div>
              <div class="period-info">Date Generated: ${new Date().toLocaleDateString()}</div>
            </div>
            
            <div class="details-section">
              <div class="employee-details">
                <div class="section-title">Employee Information</div>
                <div class="detail-group">
                  <span class="detail-label">Employee ID:</span>
                  <span class="detail-value">${a.employeeId}</span>
                </div>
                <div class="detail-group">
                  <span class="detail-label">Full Name:</span>
                  <span class="detail-value">${a.firstName} ${a.lastName}</span>
                </div>
                <div class="detail-group">
                  <span class="detail-label">Position:</span>
                  <span class="detail-value">${a.status==="regular"?"Regular Employee":"On-Call Employee"}</span>
                </div>
                <div class="detail-group">
                  <span class="detail-label">Daily Rate:</span>
                  <span class="detail-value">550.00</span>
                </div>
              </div>
              
              <div class="payroll-details">
                <div class="section-title">Payroll Information</div>
                <div class="detail-group">
                  <span class="detail-label">Pay Period:</span>
                  <span class="detail-value">${k.start.toLocaleDateString()} - ${k.end.toLocaleDateString()}</span>
                </div>
                <div class="detail-group">
                  <span class="detail-label">Payment Date:</span>
                  <span class="detail-value">${new Date().toLocaleDateString()}</span>
                </div>
                <div class="detail-group">
                  <span class="detail-label">Payment Method:</span>
                  <span class="detail-value">Bank Transfer</span>
                </div>
              </div>
            </div>
            
            <div class="summary-section">
              <div class="section-title">Salary Summary</div>
              <div class="summary-row">
                <span class="summary-label">Basic Salary (7 days):</span>
                <span class="summary-value">${g.toLocaleString()}</span>
              </div>
              <div class="summary-row">
                <span class="summary-label">Cash Advances:</span>
                <span class="summary-value">-${R.toLocaleString()}</span>
              </div>
              <div class="summary-row total-row">
                <span class="summary-label">NET SALARY:</span>
                <span class="summary-value ${V<0?"negative":""}">${V.toLocaleString()}</span>
              </div>
            </div>

            <div class="signature-section">
              <div>
                <div class="signature-line">
                  <div>Employee's Signature</div>
                </div>
              </div>
              <div>
                <div class="signature-line">
                  <div>Authorized Signature</div>
                </div>
              </div>
            </div>
            
            <div class="footer">
              This is a computer-generated document. No signature is required.<br>
              For inquiries, please contact HR Department.
            </div>
          </div>
        </body>
      </html>
    `),j.document.close(),j.focus(),setTimeout(()=>{j.print(),j.close()},500)};return x.useEffect(()=>{var k;if((k=t.state)!=null&&k.employee){const j=t.state.employee;if(s(j),t.state.payrolls){const g=S(t.state.payrolls,j);o(g)}}else r("/payroll")},[t.state,r]),a?n.jsxs("div",{className:"admin-page-wrapper",children:[n.jsx("button",{className:"hamburger-menu-button",onClick:()=>y(!m),"aria-label":"Toggle Menu",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),n.jsx("div",{className:`mobile-sidebar-overlay ${m?"active":""}`,onClick:()=>y(!1)}),n.jsx(Vr,{isMobileOpen:m,onClose:()=>y(!1)}),n.jsxs("div",{className:"admin-main-content",children:[n.jsx(Yr,{}),n.jsx("div",{className:"admin-content-area",children:n.jsxs("div",{className:"card shadow-sm mb-4",style:{borderRadius:"15px",border:"none"},children:[n.jsx("div",{className:"card-header",style:{backgroundColor:"transparent",color:"black",borderRadius:0,padding:"20px"},children:n.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"mb-1",style:{fontWeight:"bold",color:"black",display:"flex",alignItems:"center",gap:8,fontSize:"2rem",fontFamily:"sans-serif"},children:[n.jsx("i",{className:"fas fa-file-invoice me-2"}),"Payslip - ",a.firstName," ",a.lastName]}),n.jsxs("p",{className:"mb-0",style:{fontSize:"1.05rem",color:"black",fontFamily:"Poppins, sans-serif",fontWeight:500,letterSpacing:"0.5px"},children:["Employee ID: ",a.employeeId," | Total Records: ",l.length]})]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsxs("button",{onClick:p,className:"btn btn-success px-3 py-2.5 rounded-lg text-sm d-flex align-items-center gap-2",style:{backgroundColor:"#28a745",color:"white",border:"none",flex:"0 0 auto",width:"auto",whiteSpace:"nowrap"},children:[n.jsx("i",{className:"fas fa-print"}),"Print Payslip"]}),n.jsx("button",{onClick:()=>r("/payroll"),className:"btn btn-pink px-3 py-2.5 rounded-lg text-sm",style:{backgroundColor:"#f06a98",color:"white",border:"none",flex:"0 0 auto",width:"auto",whiteSpace:"nowrap"},children:"Back to Payroll"})]})]})}),n.jsxs("div",{className:"card-body",style:{padding:"20px"},children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Employee Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Full Name"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[a.firstName," ",a.lastName]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Employee ID"}),n.jsx("p",{className:"text-lg font-semibold text-gray-800",children:a.employeeId||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Status"}),n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${a.status==="regular"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:a.status==="regular"?"Regular":"On Call"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Contact Number"}),n.jsx("p",{className:"text-lg text-gray-800",children:a.contactNumber||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Base Salary"}),n.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["",((N=a.salary)==null?void 0:N.toLocaleString())||"0"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Hire Date"}),n.jsx("p",{className:"text-lg text-gray-800",children:w(a.hireDate)})]})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Payroll Records for ",a.firstName," ",a.lastName]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Sort by:"}),n.jsxs("select",{value:i.key,onChange:k=>f(k.target.value),className:"border border-gray-300 rounded p-2 text-sm",children:[n.jsx("option",{value:"date",children:"Date"}),n.jsx("option",{value:"salary",children:"Salary"}),n.jsx("option",{value:"deductions",children:"Cash Advances"}),n.jsx("option",{value:"netSalary",children:"Net Salary"})]}),n.jsx("button",{onClick:()=>f(i.key),className:"bg-gray-200 hover:bg-gray-300 px-3 py-2 rounded text-sm d-flex align-items-center gap-1",children:i.direction==="asc"?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fas fa-arrow-up"}),"Asc"]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fas fa-arrow-down"}),"Desc"]})})]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[l.length," record(s) found"]})]})]}),l.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("i",{className:"fas fa-file-invoice text-4xl text-gray-300 mb-4"}),n.jsxs("p",{className:"text-gray-500 text-lg",children:["No payroll records found for ",a.firstName," ",a.lastName]}),n.jsx("p",{className:"text-gray-400",children:"Payroll records will appear here once created for this employee."})]}):n.jsxs("div",{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full table-auto text-sm",children:[n.jsx("thead",{className:"bg-gray-100 text-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"#"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:n.jsxs("button",{onClick:()=>f("date"),className:"flex items-center gap-1 hover:text-blue-600 focus:outline-none",children:["Date",i.key==="date"&&n.jsx("i",{className:`fas ${i.direction==="asc"?"fa-arrow-up":"fa-arrow-down"}`})]})}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:n.jsxs("button",{onClick:()=>f("salary"),className:"flex items-center gap-1 hover:text-blue-600 focus:outline-none",children:["Salary",i.key==="salary"&&n.jsx("i",{className:`fas ${i.direction==="asc"?"fa-arrow-up":"fa-arrow-down"}`})]})}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:n.jsxs("button",{onClick:()=>f("deductions"),className:"flex items-center gap-1 hover:text-blue-600 focus:outline-none",children:["Cash Advances",i.key==="deductions"&&n.jsx("i",{className:`fas ${i.direction==="asc"?"fa-arrow-up":"fa-arrow-down"}`})]})}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:n.jsxs("button",{onClick:()=>f("netSalary"),className:"flex items-center gap-1 hover:text-blue-600 focus:outline-none",children:["Net Salary",i.key==="netSalary"&&n.jsx("i",{className:`fas ${i.direction==="asc"?"fa-arrow-up":"fa-arrow-down"}`})]})}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider border",children:"Actions"})]})}),n.jsx("tbody",{className:"text-gray-700 divide-y divide-gray-200",children:h.map((k,j)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:j+1}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:new Date(k.createdAt||k.updatedAt||Date.now()).toLocaleDateString()}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border text-green-600 font-semibold",children:["",k.salary.toFixed(2)]}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border text-red-600",children:["",k.deductions.toFixed(2)]}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border text-blue-600 font-semibold",children:["",k.netSalary.toFixed(2)]}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${(k.paymentStatus||k.status)==="Paid"||(k.paymentStatus||k.status)==="Done"?"bg-green-100 text-green-800":(k.paymentStatus||k.status)==="Processing"?"bg-blue-100 text-blue-800":((k.paymentStatus||k.status)==="Pending","bg-yellow-100 text-yellow-800")}`,children:(k.paymentStatus||k.status)==="Paid"||(k.paymentStatus||k.status)==="Done"?"Done":(k.paymentStatus||k.status)==="Processing"?"Processing":((k.paymentStatus||k.status)==="Pending","Pending")})}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border",children:[(k.paymentStatus||k.status)!=="Paid"&&(k.paymentStatus||k.status)!=="Done"&&n.jsxs("button",{onClick:()=>b(k._id),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-xs transition duration-200",title:"Mark payslip as done",children:[n.jsx("i",{className:"fas fa-check me-1"}),"Mark as Done"]}),((k.paymentStatus||k.status)==="Paid"||(k.paymentStatus||k.status)==="Done")&&n.jsxs("span",{className:"text-green-600 text-sm",children:[n.jsx("i",{className:"fas fa-check-circle me-1"}),"Completed"]})]})]},k._id))}),n.jsx("tfoot",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("td",{colSpan:"2",className:"px-4 py-3 text-right font-semibold border",children:"Total:"}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border text-green-600 font-semibold",children:["",h.reduce((k,j)=>k+j.salary,0).toFixed(2)]}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border text-red-600 font-semibold",children:["",h.reduce((k,j)=>k+j.deductions,0).toFixed(2)]}),n.jsxs("td",{className:"px-4 py-3 whitespace-nowrap border text-blue-600 font-semibold",children:["",h.reduce((k,j)=>k+j.netSalary,0).toFixed(2)]}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border"}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap border"})]})})]})}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsxs("button",{onClick:p,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg d-flex align-items-center gap-2 transition duration-300",style:{flex:"0 0 auto",width:"auto",whiteSpace:"nowrap"},children:[n.jsx("i",{className:"fas fa-print"}),"Print Payslip"]})})]})]})]})]})})]})]}):n.jsx("div",{children:"Loading..."})},vb=()=>{const[e,t]=x.useState(!1),[r,a]=x.useState(null),[s,l]=x.useState({currentPassword:"",newUsername:"",newPassword:"",confirmPassword:"",newPin:"",confirmPin:""}),[o,i]=x.useState({current:!1,new:!1,confirm:!1}),[c,d]=x.useState({new:!1,confirm:!1}),[u,m]=x.useState(!1),[y,w]=x.useState({});x.useEffect(()=>{const p=localStorage.getItem("currentEmployee");p&&a(JSON.parse(p))},[]);const v=()=>{const p={};return s.currentPassword||(p.currentPassword="Current password is required"),!s.newUsername&&!s.newPassword&&!s.newPin&&(p.general="Please update at least one field (Username, Password, or PIN)"),s.newUsername&&(s.newUsername.length<3&&(p.newUsername="Username must be at least 3 characters"),/^[a-zA-Z0-9_]+$/.test(s.newUsername)||(p.newUsername="Username can only contain letters, numbers, and underscores")),s.newPassword&&(s.newPassword.length<6&&(p.newPassword="Password must be at least 6 characters"),/[A-Z]/.test(s.newPassword)||(p.newPassword="Password must contain at least one uppercase letter"),/[a-z]/.test(s.newPassword)||(p.newPassword="Password must contain at least one lowercase letter"),/[0-9]/.test(s.newPassword)||(p.newPassword="Password must contain at least one number"),s.newPassword!==s.confirmPassword&&(p.confirmPassword="Passwords do not match")),s.newPin&&(/^\d{6}$/.test(s.newPin)||(p.newPin="PIN must be exactly 6 digits"),s.newPin!==s.confirmPin&&(p.confirmPin="PINs do not match")),w(p),Object.keys(p).length===0},S=async p=>{if(p.preventDefault(),!v()){pe.error("Please fix the errors in the form");return}m(!0);try{const N=localStorage.getItem("token"),k={currentPassword:s.currentPassword,employeeId:(r==null?void 0:r._id)||(r==null?void 0:r.employeeId)};s.newUsername&&(k.newUsername=s.newUsername),s.newPassword&&(k.newPassword=s.newPassword),s.newPin&&(k.newPin=s.newPin),console.log("Changing admin credentials:",s);const g=await fetch("https://payroll-backend-cyan.vercel.app/api/employees/admin/change-credentials",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify(k)}),R=await g.json();if(!g.ok||!R.success){pe.error(R.message||"Failed to update credentials"),m(!1);return}pe.success(R.message||"Credentials updated successfully"),s.newUsername&&R.employee&&(localStorage.setItem("currentEmployee",JSON.stringify(R.employee)),a(R.employee)),l({currentPassword:"",newUsername:"",newPassword:"",confirmPassword:"",newPin:"",confirmPin:""}),w({}),(s.newPassword||s.newUsername)&&setTimeout(()=>{pe.info("Please login again with your new credentials"),localStorage.clear(),window.location.href="/"},2e3)}catch(N){console.error("Error updating credentials:",N),pe.error("Failed to update credentials. Please try again.")}finally{m(!1)}},b=p=>{const{name:N,value:k}=p.target;l(j=>({...j,[N]:k})),y[N]&&w(j=>({...j,[N]:""}))},h=p=>{i(N=>({...N,[p]:!N[p]}))},f=p=>{d(N=>({...N,[p]:!N[p]}))};return!r||!r.isAdmin?n.jsxs("div",{className:"admin-dashboard-wrapper",children:[n.jsx("div",{className:`mobile-sidebar-overlay ${e?"active":""}`,onClick:()=>t(!1)}),n.jsx(Vr,{isMobileOpen:e,onClose:()=>t(!1)}),n.jsx("div",{className:"admin-main-content",children:n.jsx("div",{className:"admin-content-area",children:n.jsxs("div",{className:"admin-card",children:[n.jsx("div",{style:{borderRadius:"15px 15px 0 0",overflow:"hidden",marginBottom:"20px"},children:n.jsx(Yr,{})}),n.jsxs("div",{className:"admin-settings-unauthorized",children:[n.jsx(pl,{className:"unauthorized-icon"}),n.jsx("h2",{children:"Access Denied"}),n.jsx("p",{children:"Only administrators can access this page."})]})]})})})]}):n.jsxs("div",{className:"admin-dashboard-wrapper",children:[n.jsx("div",{className:`mobile-sidebar-overlay ${e?"active":""}`,onClick:()=>t(!1)}),n.jsx(Vr,{isMobileOpen:e,onClose:()=>t(!1)}),n.jsx("div",{className:"admin-main-content",children:n.jsx("div",{className:"admin-content-area",style:{overflowY:"auto",maxHeight:"100vh"},children:n.jsxs("div",{className:"admin-card",children:[n.jsx("div",{style:{borderRadius:"15px 15px 0 0",overflow:"hidden",marginBottom:"20px"},children:n.jsx(Yr,{})}),n.jsx("div",{style:{backgroundColor:"transparent",color:"black",borderRadius:0,padding:"20px 0",marginBottom:"20px"},children:n.jsx("div",{className:"d-flex justify-content-between align-items-center",children:n.jsxs("div",{children:[n.jsxs("h2",{className:"mb-1",style:{fontWeight:"bold",color:"black",display:"flex",alignItems:"center",gap:8,fontSize:"clamp(1.5rem, 4vw, 2rem)",fontFamily:"sans-serif"},children:[n.jsx(pl,{className:"me-2"}),"Admin Settings"]}),n.jsx("p",{className:"mb-0",style:{fontSize:"clamp(0.9rem, 2.5vw, 1.05rem)",color:"black",fontFamily:"Poppins, sans-serif",fontWeight:500,letterSpacing:"0.5px"},children:"Update your administrator credentials"})]})})}),n.jsx("div",{className:"admin-settings-container",style:{padding:"0"},children:n.jsxs("div",{className:"admin-settings-card",style:{boxShadow:"none",border:"1px solid #e0e0e0"},children:[n.jsxs("div",{className:"current-admin-info",children:[n.jsx("h3",{children:"Current Admin Account"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Username:"})," ",r.username||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Employee ID:"})," ",r.employeeId||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",r.firstName," ",r.lastName]})]}),n.jsxs("form",{className:"admin-settings-form",onSubmit:S,children:[y.general&&n.jsx("div",{className:"error-message general-error",children:y.general}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label required",children:[n.jsx(hn,{})," Current Password"]}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("input",{type:o.current?"text":"password",name:"currentPassword",value:s.currentPassword,onChange:b,className:`form-input ${y.currentPassword?"error":""}`,placeholder:"Enter your current password",disabled:u}),n.jsx("button",{type:"button",className:"toggle-visibility",onClick:()=>h("current"),children:o.current?n.jsx(Lr,{}):n.jsx(Dr,{})})]}),y.currentPassword&&n.jsx("span",{className:"error-text",children:y.currentPassword}),n.jsx("small",{className:"form-hint",children:"Required to verify your identity"})]}),n.jsx("hr",{className:"divider"}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",children:[n.jsx(Zr,{})," New Username"]}),n.jsx("input",{type:"text",name:"newUsername",value:s.newUsername,onChange:b,className:`form-input ${y.newUsername?"error":""}`,placeholder:"Leave blank to keep current username",disabled:u}),y.newUsername&&n.jsx("span",{className:"error-text",children:y.newUsername}),n.jsx("small",{className:"form-hint",children:"Optional - Minimum 3 characters, alphanumeric only"})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",children:[n.jsx(hn,{})," New Password"]}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("input",{type:o.new?"text":"password",name:"newPassword",value:s.newPassword,onChange:b,className:`form-input ${y.newPassword?"error":""}`,placeholder:"Leave blank to keep current password",disabled:u}),n.jsx("button",{type:"button",className:"toggle-visibility",onClick:()=>h("new"),children:o.new?n.jsx(Lr,{}):n.jsx(Dr,{})})]}),y.newPassword&&n.jsx("span",{className:"error-text",children:y.newPassword}),n.jsx("small",{className:"form-hint",children:"Optional - Min 6 chars, must include uppercase, lowercase, and number"})]}),s.newPassword&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label required",children:[n.jsx(hn,{})," Confirm New Password"]}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("input",{type:o.confirm?"text":"password",name:"confirmPassword",value:s.confirmPassword,onChange:b,className:`form-input ${y.confirmPassword?"error":""}`,placeholder:"Re-enter your new password",disabled:u}),n.jsx("button",{type:"button",className:"toggle-visibility",onClick:()=>h("confirm"),children:o.confirm?n.jsx(Lr,{}):n.jsx(Dr,{})})]}),y.confirmPassword&&n.jsx("span",{className:"error-text",children:y.confirmPassword})]}),n.jsx("hr",{className:"divider"}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",children:[n.jsx(mf,{})," New 6-Digit PIN"]}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("input",{type:c.new?"text":"password",name:"newPin",value:s.newPin,onChange:b,className:`form-input ${y.newPin?"error":""}`,placeholder:"Leave blank to keep current PIN",maxLength:6,inputMode:"numeric",disabled:u}),n.jsx("button",{type:"button",className:"toggle-visibility",onClick:()=>f("new"),children:c.new?n.jsx(Lr,{}):n.jsx(Dr,{})})]}),y.newPin&&n.jsx("span",{className:"error-text",children:y.newPin}),n.jsx("small",{className:"form-hint",children:"Optional - Must be exactly 6 digits (numbers only)"})]}),s.newPin&&n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label required",children:[n.jsx(mf,{})," Confirm New PIN"]}),n.jsxs("div",{className:"input-wrapper",children:[n.jsx("input",{type:c.confirm?"text":"password",name:"confirmPin",value:s.confirmPin,onChange:b,className:`form-input ${y.confirmPin?"error":""}`,placeholder:"Re-enter your new PIN",maxLength:6,inputMode:"numeric",disabled:u}),n.jsx("button",{type:"button",className:"toggle-visibility",onClick:()=>f("confirm"),children:c.confirm?n.jsx(Lr,{}):n.jsx(Dr,{})})]}),y.confirmPin&&n.jsx("span",{className:"error-text",children:y.confirmPin})]}),n.jsx("div",{className:"form-actions",children:n.jsx("button",{type:"submit",className:"submit-button",disabled:u,style:{background:"linear-gradient(135deg, #f06a98 0%, #ff8fab 100%)",border:"none",color:"white",padding:"12px 30px",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:u?"not-allowed":"pointer",opacity:u?.7:1,transition:"all 0.3s ease"},children:u?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(pl,{})," Update Credentials"]})})})]}),n.jsxs("div",{className:"security-notice",children:[n.jsx(pl,{className:"notice-icon"}),n.jsxs("div",{className:"notice-content",children:[n.jsx("strong",{children:"Security Notice:"}),n.jsx("p",{children:"After updating your username or password, you will be automatically logged out. Please login again with your new credentials."}),n.jsx("p",{children:"Your PIN provides an additional layer of security when accessing the admin panel. Keep it confidential and do not share it with anyone."})]})]})]})})]})})})]})},wb=z0([{path:"/",element:n.jsx(iw,{})},{path:"/dashboard",element:n.jsx(q1,{})},{path:"/employee",element:n.jsx(rw,{})},{path:"/attendance",element:n.jsx(G1,{})},{path:"/deductions",element:n.jsx(ab,{})},{path:"/payroll",element:n.jsx(cb,{})},{path:"/employee-dashboard",element:n.jsx(pb,{})},{path:"/logout",element:n.jsx(db,{})},{path:"/payroll/payslip/:employeeId",element:n.jsx(xb,{})},{path:"/salary",element:n.jsx(gb,{})},{path:"/admin-settings",element:n.jsx(vb,{})}],{future:{v7_startTransition:!0,v7_relativeSplatPath:!0,v7_fetcherPersist:!0,v7_normalizeFormMethod:!0,v7_partialHydration:!0,v7_skipActionErrorRevalidation:!0}});function bb(){return n.jsx(J0,{router:wb})}{const e=()=>{};window.console.log=e,window.console.info=e,window.console.warn=e}Yp(document.getElementById("root")).render(n.jsxs(x.StrictMode,{children:[n.jsx(bb,{}),n.jsx(Iv,{position:"top-right",autoClose:3e3})]}));
